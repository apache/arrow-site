<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above meta tags *must* come first in the head; any other head content must come *after* these tags -->
    
    <title>Apache Arrow 17.0.0 Release | Apache Arrow</title>
    

    <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="Apache Arrow 17.0.0 Release" />
<meta name="author" content="pmc" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="The Apache Arrow team is pleased to announce the 17.0.0 release. This covers over 3 months of development work and includes 331 resolved issues on 529 distinct commits from 92 distinct contributors. See the Install Page to learn how to get the libraries for your platform. The release notes below are not exhaustive and only expose selected highlights of the release. Many other bugfixes and improvements have been made: we refer you to the complete changelog. Community Since the 16.0.0 release, Dane Pitkin has been invited to be committer. No new members have joined the Project Management Committee (PMC). Thanks for your contributions and participation in the project! Linux packages notes We dropped support for Debian GNU/Linux bullseye C Data Interface notes ArrowDeviceArrayStream can now be imported and exported (GH-40078) Arrow Flight RPC notes Flight SQL was formally stabilized (GH-39204). Flight SQL added a bulk ingestion command (GH-38255). The JDBC Flight SQL driver now accepts “catalog” as a connection parameter (GH-41947). “Stateless” prepared statements are now supported (GH-37220, GH-41262). Java added FlightStatusCode.RESOURCE_EXHAUSTED (GH-35888). C++ has some basic support for logging with OpenTelemetry (GH-39898). C++ notes For C++ notes refer to the full changelog. Highlights Half-float values can now be parsed and formatted correctly (GH-41089). Record batches can now be converted to row-major tensors, not only column-major (GH-40866). The CSV writer is now able to write large string arrays that are larger than 2 GiB (GH-40270). A possible invalid memory access in BooleanArray.true_count() has been fixed (GH-41016). A new method FlattenRecursively allows recursive nesting of list and fixed-size list arrays (GH-41055). The scratch space in some Scalar subclasses is now immutable. This is required for proper concurrent access to Scalar instances (GH-40069). Calling the bit_width or byte_width method of an extension type now defers to the underlying storage type (GH-41353). Fixed a bug where MapArray::FromArrays would behave incorrectly if the given offsets array has a non-zero offset (GH-40750). MapArray::FromArrays now accepts an optional null bitmap argument (GH-41684). The ARROW_NO_DEPRECATED_API macro was unused and has been removed (GH-41343). Acero The left anti join filter no longer crashes when the filter rows are empty (GH-41121). A race condition was fixed in the asof join (GH-41149). A potential stack overflow has been fixed (GH-41334, GH-41738). A potential crash on very large data has been fixed (GH-41813). Asof join and sort merge join now support single threaded mode (GH-41190). Compute List views and maps are now supported by the if_else, case_when and coalesce functions (GH-41418). List views are now supported by the functions list_slice (GH-42065), list_parent_indices (GH-42235), take and filter (GH-42116). list_flatten can now be recursive based on new optional argument (GH-41183, GH-41055) The take and filter functions have been made significantly faster on fixed-width types, including fixed-size lists of fixed-width types (GH-39798). Dataset Repeated scanning of an encrypted Parquet dataset now works correctly (GH-41431). Filesystems Standard filesystem implementations are now tracked in a global registry which also allows loading third-party filesystem implementations, for example from runtime-loaded DLLs (GH-40342, Directory metadata operations on Azure filesystems are now more aligned with the common expectations for filesystems (GH-41034). CopyFile is now supported for Azure filesystems with hierarchical namespace enabled (GH-41095). Azure credentials can now be loaded explicitly from the environment (GH-39345), or using the Azure CLI (GH-39344). A potential deadlock was fixed when closing an S3 output stream (GH-41862). GPU Non-CPU data can now be pretty-printed (GH-41664). Non-CPU data with offsets, such as list and binary data, can now be properly sent over IPC (GH-42198). IPC Flatbuffers serialization is now more deterministic (GH-40361). Parquet A crash was fixed when reading an invalid Parquet file where columns claim to be of different lengths (GH-41317). Definition and repetition levels are now more strictly checked, avoiding later crashes when reading an invalid Parquet file (GH-41321). A crash was fixed when reading an invalid encrypted Parquet file (GH-43070). Fixed a bug where DeltaLengthByteArrayEncoder::EstimatedDataEncodedSize could return an invalid estimate in some situations (GH-41545). Delimiting records is now faster for columns with nested repeating (GH-41361). Substrait Support for more Arrow data types was added: some temporal types, half floats, large string and large binary (GH-40695). C# notes The performance of building Decimal arrays using SqlDecimal values was improved for .NET 7+ (GH-41349) Scalar arrays now implement ICollection&lt;T?&gt; (GH-38692) Concatenating arrays with a non-zero offset with ArrowArrayConcatenator was fixed (GH-41164) Concatenating union arrays with ArrowArrayConcatenator was fixed (GH-41198) Accessing values of decimal arrays with a non-zero offset was fixed (GH-41199) Go Notes Bug Fixes Arrow Prevent exposure of invalid Go pointers in CGO code (GH-43062) Fix memory leak for 0-length C array imports (GH=41534) Ensure statement handle is updated so stateless prepared statements work properly (GH-41427) Parquet Fix memory leak in BufferedPageWriter (GH-41697) Fix performance regression in PooledBufferWriter (GH-41541) Enhancements Arrow Arrow Schemas and Records can now be created from Protobuf messages (GH-40494) Parquet Performance improvement for BitWriter VlqInt (GH-41160) Java notes Some changes are coming up in the next version, Arrow 18. Java 8 support will be removed. The version of the flight-core artifact with shaded gRPC will no longer be distributed. Basic support for ListView (GH-41287) and StringView (GH-40339) has been added. These types should still be considered experimental. JavaScript notes General maintenance. Clean up packaging (GH-39722), update dependencies (GH-41905). Python notes Compatibility notes: To ensure Python 3.13 compatibility, _Py_IsFinalizing has been replaced with a public API (GH-41475). The C Data Interface now supports CUDA devices (GH-40384). New features: Added support for Emscripten via Pyodide (GH-41910). Other improvements: The ParquetWriter added the store_decimal_as_integer option (GH-42168). The Float16 logical type is supported in Parquet (GH-42016). Exposed bit_width and byte_width to extension types (GH-41389). Added bindings for Device and MemoryManager classes (GH-41126). The PyCapsule interface now exposes the device interface (GH-38325). Various PyArrow APIs have been updated to work with non-CPU architectures gracefully. (GH-42112, GH-41664, GH-41662, Relevant bug fixes: Fixed Numpy 2.0 compatibility issues (GH-42170, GH-41924). Fixed sporadic as_of join failures (GH-41149). Fixed a bug in RecordBatch.filter() when passing a ChunkedArray, which would cause a segfault (GH-38770). Fixed a bug in RecordBatch.from_arrays() when passing a storage array, which would cause a segfault (GH-37669). Fixed a bug where constructing a MapArray from Array could drop nulls (GH-41684). FIxed a bug where RunEndEncodedArray.from_arrays fails if run_ends are pyarrow.Array (GH-40560). FIxed a regression introduced in PyArrow v16 in RecordBatchReader.cast() (GH-41884). R notes R functions that users write that use functions that Arrow supports in dataset queries now can be used in queries too. Previously, only functions that used arithmetic operators worked. For example, time_hours &lt;- function(mins) mins / 60 worked, but time_hours_rounded &lt;- function(mins) round(mins / 60) did not; now both work. These are automatic translations rather than true user-defined functions (UDFs); for UDFs, see register_scalar_function(). GH-41223 mutate() expressions can now include aggregations, such as x - mean(x). GH-41350 summarize() supports more complex expressions, and correctly handles cases where column names are reused in expressions. GH-41323 The na_matches argument to the dplyr::*_join() functions is now supported. This argument controls whether NA values are considered equal when joining. GH-41223 R metadata, stored in the Arrow schema to support round-tripping data between R and Arrow/Parquet, is now serialized and deserialized more strictly. This makes it safer to load data from files from unknown sources into R data.frames. GH-41223 For more on what’s in the 17.0.0 R package, see the R changelog. Ruby and C GLib notes Ruby Improved Arrow::Table#to_s format This is a breaking change C GLib Added support for Microsoft Visual C++ Added gadataset_dataset_to_record_batch_reader() Rust notes The Rust projects have moved to separate repositories outside the main Arrow monorepo. For notes on the latest release of the Rust implementation, see the latest Arrow Rust changelog." />
<meta property="og:description" content="The Apache Arrow team is pleased to announce the 17.0.0 release. This covers over 3 months of development work and includes 331 resolved issues on 529 distinct commits from 92 distinct contributors. See the Install Page to learn how to get the libraries for your platform. The release notes below are not exhaustive and only expose selected highlights of the release. Many other bugfixes and improvements have been made: we refer you to the complete changelog. Community Since the 16.0.0 release, Dane Pitkin has been invited to be committer. No new members have joined the Project Management Committee (PMC). Thanks for your contributions and participation in the project! Linux packages notes We dropped support for Debian GNU/Linux bullseye C Data Interface notes ArrowDeviceArrayStream can now be imported and exported (GH-40078) Arrow Flight RPC notes Flight SQL was formally stabilized (GH-39204). Flight SQL added a bulk ingestion command (GH-38255). The JDBC Flight SQL driver now accepts “catalog” as a connection parameter (GH-41947). “Stateless” prepared statements are now supported (GH-37220, GH-41262). Java added FlightStatusCode.RESOURCE_EXHAUSTED (GH-35888). C++ has some basic support for logging with OpenTelemetry (GH-39898). C++ notes For C++ notes refer to the full changelog. Highlights Half-float values can now be parsed and formatted correctly (GH-41089). Record batches can now be converted to row-major tensors, not only column-major (GH-40866). The CSV writer is now able to write large string arrays that are larger than 2 GiB (GH-40270). A possible invalid memory access in BooleanArray.true_count() has been fixed (GH-41016). A new method FlattenRecursively allows recursive nesting of list and fixed-size list arrays (GH-41055). The scratch space in some Scalar subclasses is now immutable. This is required for proper concurrent access to Scalar instances (GH-40069). Calling the bit_width or byte_width method of an extension type now defers to the underlying storage type (GH-41353). Fixed a bug where MapArray::FromArrays would behave incorrectly if the given offsets array has a non-zero offset (GH-40750). MapArray::FromArrays now accepts an optional null bitmap argument (GH-41684). The ARROW_NO_DEPRECATED_API macro was unused and has been removed (GH-41343). Acero The left anti join filter no longer crashes when the filter rows are empty (GH-41121). A race condition was fixed in the asof join (GH-41149). A potential stack overflow has been fixed (GH-41334, GH-41738). A potential crash on very large data has been fixed (GH-41813). Asof join and sort merge join now support single threaded mode (GH-41190). Compute List views and maps are now supported by the if_else, case_when and coalesce functions (GH-41418). List views are now supported by the functions list_slice (GH-42065), list_parent_indices (GH-42235), take and filter (GH-42116). list_flatten can now be recursive based on new optional argument (GH-41183, GH-41055) The take and filter functions have been made significantly faster on fixed-width types, including fixed-size lists of fixed-width types (GH-39798). Dataset Repeated scanning of an encrypted Parquet dataset now works correctly (GH-41431). Filesystems Standard filesystem implementations are now tracked in a global registry which also allows loading third-party filesystem implementations, for example from runtime-loaded DLLs (GH-40342, Directory metadata operations on Azure filesystems are now more aligned with the common expectations for filesystems (GH-41034). CopyFile is now supported for Azure filesystems with hierarchical namespace enabled (GH-41095). Azure credentials can now be loaded explicitly from the environment (GH-39345), or using the Azure CLI (GH-39344). A potential deadlock was fixed when closing an S3 output stream (GH-41862). GPU Non-CPU data can now be pretty-printed (GH-41664). Non-CPU data with offsets, such as list and binary data, can now be properly sent over IPC (GH-42198). IPC Flatbuffers serialization is now more deterministic (GH-40361). Parquet A crash was fixed when reading an invalid Parquet file where columns claim to be of different lengths (GH-41317). Definition and repetition levels are now more strictly checked, avoiding later crashes when reading an invalid Parquet file (GH-41321). A crash was fixed when reading an invalid encrypted Parquet file (GH-43070). Fixed a bug where DeltaLengthByteArrayEncoder::EstimatedDataEncodedSize could return an invalid estimate in some situations (GH-41545). Delimiting records is now faster for columns with nested repeating (GH-41361). Substrait Support for more Arrow data types was added: some temporal types, half floats, large string and large binary (GH-40695). C# notes The performance of building Decimal arrays using SqlDecimal values was improved for .NET 7+ (GH-41349) Scalar arrays now implement ICollection&lt;T?&gt; (GH-38692) Concatenating arrays with a non-zero offset with ArrowArrayConcatenator was fixed (GH-41164) Concatenating union arrays with ArrowArrayConcatenator was fixed (GH-41198) Accessing values of decimal arrays with a non-zero offset was fixed (GH-41199) Go Notes Bug Fixes Arrow Prevent exposure of invalid Go pointers in CGO code (GH-43062) Fix memory leak for 0-length C array imports (GH=41534) Ensure statement handle is updated so stateless prepared statements work properly (GH-41427) Parquet Fix memory leak in BufferedPageWriter (GH-41697) Fix performance regression in PooledBufferWriter (GH-41541) Enhancements Arrow Arrow Schemas and Records can now be created from Protobuf messages (GH-40494) Parquet Performance improvement for BitWriter VlqInt (GH-41160) Java notes Some changes are coming up in the next version, Arrow 18. Java 8 support will be removed. The version of the flight-core artifact with shaded gRPC will no longer be distributed. Basic support for ListView (GH-41287) and StringView (GH-40339) has been added. These types should still be considered experimental. JavaScript notes General maintenance. Clean up packaging (GH-39722), update dependencies (GH-41905). Python notes Compatibility notes: To ensure Python 3.13 compatibility, _Py_IsFinalizing has been replaced with a public API (GH-41475). The C Data Interface now supports CUDA devices (GH-40384). New features: Added support for Emscripten via Pyodide (GH-41910). Other improvements: The ParquetWriter added the store_decimal_as_integer option (GH-42168). The Float16 logical type is supported in Parquet (GH-42016). Exposed bit_width and byte_width to extension types (GH-41389). Added bindings for Device and MemoryManager classes (GH-41126). The PyCapsule interface now exposes the device interface (GH-38325). Various PyArrow APIs have been updated to work with non-CPU architectures gracefully. (GH-42112, GH-41664, GH-41662, Relevant bug fixes: Fixed Numpy 2.0 compatibility issues (GH-42170, GH-41924). Fixed sporadic as_of join failures (GH-41149). Fixed a bug in RecordBatch.filter() when passing a ChunkedArray, which would cause a segfault (GH-38770). Fixed a bug in RecordBatch.from_arrays() when passing a storage array, which would cause a segfault (GH-37669). Fixed a bug where constructing a MapArray from Array could drop nulls (GH-41684). FIxed a bug where RunEndEncodedArray.from_arrays fails if run_ends are pyarrow.Array (GH-40560). FIxed a regression introduced in PyArrow v16 in RecordBatchReader.cast() (GH-41884). R notes R functions that users write that use functions that Arrow supports in dataset queries now can be used in queries too. Previously, only functions that used arithmetic operators worked. For example, time_hours &lt;- function(mins) mins / 60 worked, but time_hours_rounded &lt;- function(mins) round(mins / 60) did not; now both work. These are automatic translations rather than true user-defined functions (UDFs); for UDFs, see register_scalar_function(). GH-41223 mutate() expressions can now include aggregations, such as x - mean(x). GH-41350 summarize() supports more complex expressions, and correctly handles cases where column names are reused in expressions. GH-41323 The na_matches argument to the dplyr::*_join() functions is now supported. This argument controls whether NA values are considered equal when joining. GH-41223 R metadata, stored in the Arrow schema to support round-tripping data between R and Arrow/Parquet, is now serialized and deserialized more strictly. This makes it safer to load data from files from unknown sources into R data.frames. GH-41223 For more on what’s in the 17.0.0 R package, see the R changelog. Ruby and C GLib notes Ruby Improved Arrow::Table#to_s format This is a breaking change C GLib Added support for Microsoft Visual C++ Added gadataset_dataset_to_record_batch_reader() Rust notes The Rust projects have moved to separate repositories outside the main Arrow monorepo. For notes on the latest release of the Rust implementation, see the latest Arrow Rust changelog." />
<link rel="canonical" href="https://arrow.apache.org/blog/2024/07/16/17.0.0-release/" />
<meta property="og:url" content="https://arrow.apache.org/blog/2024/07/16/17.0.0-release/" />
<meta property="og:site_name" content="Apache Arrow" />
<meta property="og:image" content="https://arrow.apache.org/img/arrow-logo_horizontal_black-txt_white-bg.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-07-16T00:00:00-04:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://arrow.apache.org/img/arrow-logo_horizontal_black-txt_white-bg.png" />
<meta property="twitter:title" content="Apache Arrow 17.0.0 Release" />
<meta name="twitter:site" content="@ApacheArrow" />
<meta name="twitter:creator" content="@pmc" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"pmc"},"dateModified":"2024-07-16T00:00:00-04:00","datePublished":"2024-07-16T00:00:00-04:00","description":"The Apache Arrow team is pleased to announce the 17.0.0 release. This covers over 3 months of development work and includes 331 resolved issues on 529 distinct commits from 92 distinct contributors. See the Install Page to learn how to get the libraries for your platform. The release notes below are not exhaustive and only expose selected highlights of the release. Many other bugfixes and improvements have been made: we refer you to the complete changelog. Community Since the 16.0.0 release, Dane Pitkin has been invited to be committer. No new members have joined the Project Management Committee (PMC). Thanks for your contributions and participation in the project! Linux packages notes We dropped support for Debian GNU/Linux bullseye C Data Interface notes ArrowDeviceArrayStream can now be imported and exported (GH-40078) Arrow Flight RPC notes Flight SQL was formally stabilized (GH-39204). Flight SQL added a bulk ingestion command (GH-38255). The JDBC Flight SQL driver now accepts “catalog” as a connection parameter (GH-41947). “Stateless” prepared statements are now supported (GH-37220, GH-41262). Java added FlightStatusCode.RESOURCE_EXHAUSTED (GH-35888). C++ has some basic support for logging with OpenTelemetry (GH-39898). C++ notes For C++ notes refer to the full changelog. Highlights Half-float values can now be parsed and formatted correctly (GH-41089). Record batches can now be converted to row-major tensors, not only column-major (GH-40866). The CSV writer is now able to write large string arrays that are larger than 2 GiB (GH-40270). A possible invalid memory access in BooleanArray.true_count() has been fixed (GH-41016). A new method FlattenRecursively allows recursive nesting of list and fixed-size list arrays (GH-41055). The scratch space in some Scalar subclasses is now immutable. This is required for proper concurrent access to Scalar instances (GH-40069). Calling the bit_width or byte_width method of an extension type now defers to the underlying storage type (GH-41353). Fixed a bug where MapArray::FromArrays would behave incorrectly if the given offsets array has a non-zero offset (GH-40750). MapArray::FromArrays now accepts an optional null bitmap argument (GH-41684). The ARROW_NO_DEPRECATED_API macro was unused and has been removed (GH-41343). Acero The left anti join filter no longer crashes when the filter rows are empty (GH-41121). A race condition was fixed in the asof join (GH-41149). A potential stack overflow has been fixed (GH-41334, GH-41738). A potential crash on very large data has been fixed (GH-41813). Asof join and sort merge join now support single threaded mode (GH-41190). Compute List views and maps are now supported by the if_else, case_when and coalesce functions (GH-41418). List views are now supported by the functions list_slice (GH-42065), list_parent_indices (GH-42235), take and filter (GH-42116). list_flatten can now be recursive based on new optional argument (GH-41183, GH-41055) The take and filter functions have been made significantly faster on fixed-width types, including fixed-size lists of fixed-width types (GH-39798). Dataset Repeated scanning of an encrypted Parquet dataset now works correctly (GH-41431). Filesystems Standard filesystem implementations are now tracked in a global registry which also allows loading third-party filesystem implementations, for example from runtime-loaded DLLs (GH-40342, Directory metadata operations on Azure filesystems are now more aligned with the common expectations for filesystems (GH-41034). CopyFile is now supported for Azure filesystems with hierarchical namespace enabled (GH-41095). Azure credentials can now be loaded explicitly from the environment (GH-39345), or using the Azure CLI (GH-39344). A potential deadlock was fixed when closing an S3 output stream (GH-41862). GPU Non-CPU data can now be pretty-printed (GH-41664). Non-CPU data with offsets, such as list and binary data, can now be properly sent over IPC (GH-42198). IPC Flatbuffers serialization is now more deterministic (GH-40361). Parquet A crash was fixed when reading an invalid Parquet file where columns claim to be of different lengths (GH-41317). Definition and repetition levels are now more strictly checked, avoiding later crashes when reading an invalid Parquet file (GH-41321). A crash was fixed when reading an invalid encrypted Parquet file (GH-43070). Fixed a bug where DeltaLengthByteArrayEncoder::EstimatedDataEncodedSize could return an invalid estimate in some situations (GH-41545). Delimiting records is now faster for columns with nested repeating (GH-41361). Substrait Support for more Arrow data types was added: some temporal types, half floats, large string and large binary (GH-40695). C# notes The performance of building Decimal arrays using SqlDecimal values was improved for .NET 7+ (GH-41349) Scalar arrays now implement ICollection&lt;T?&gt; (GH-38692) Concatenating arrays with a non-zero offset with ArrowArrayConcatenator was fixed (GH-41164) Concatenating union arrays with ArrowArrayConcatenator was fixed (GH-41198) Accessing values of decimal arrays with a non-zero offset was fixed (GH-41199) Go Notes Bug Fixes Arrow Prevent exposure of invalid Go pointers in CGO code (GH-43062) Fix memory leak for 0-length C array imports (GH=41534) Ensure statement handle is updated so stateless prepared statements work properly (GH-41427) Parquet Fix memory leak in BufferedPageWriter (GH-41697) Fix performance regression in PooledBufferWriter (GH-41541) Enhancements Arrow Arrow Schemas and Records can now be created from Protobuf messages (GH-40494) Parquet Performance improvement for BitWriter VlqInt (GH-41160) Java notes Some changes are coming up in the next version, Arrow 18. Java 8 support will be removed. The version of the flight-core artifact with shaded gRPC will no longer be distributed. Basic support for ListView (GH-41287) and StringView (GH-40339) has been added. These types should still be considered experimental. JavaScript notes General maintenance. Clean up packaging (GH-39722), update dependencies (GH-41905). Python notes Compatibility notes: To ensure Python 3.13 compatibility, _Py_IsFinalizing has been replaced with a public API (GH-41475). The C Data Interface now supports CUDA devices (GH-40384). New features: Added support for Emscripten via Pyodide (GH-41910). Other improvements: The ParquetWriter added the store_decimal_as_integer option (GH-42168). The Float16 logical type is supported in Parquet (GH-42016). Exposed bit_width and byte_width to extension types (GH-41389). Added bindings for Device and MemoryManager classes (GH-41126). The PyCapsule interface now exposes the device interface (GH-38325). Various PyArrow APIs have been updated to work with non-CPU architectures gracefully. (GH-42112, GH-41664, GH-41662, Relevant bug fixes: Fixed Numpy 2.0 compatibility issues (GH-42170, GH-41924). Fixed sporadic as_of join failures (GH-41149). Fixed a bug in RecordBatch.filter() when passing a ChunkedArray, which would cause a segfault (GH-38770). Fixed a bug in RecordBatch.from_arrays() when passing a storage array, which would cause a segfault (GH-37669). Fixed a bug where constructing a MapArray from Array could drop nulls (GH-41684). FIxed a bug where RunEndEncodedArray.from_arrays fails if run_ends are pyarrow.Array (GH-40560). FIxed a regression introduced in PyArrow v16 in RecordBatchReader.cast() (GH-41884). R notes R functions that users write that use functions that Arrow supports in dataset queries now can be used in queries too. Previously, only functions that used arithmetic operators worked. For example, time_hours &lt;- function(mins) mins / 60 worked, but time_hours_rounded &lt;- function(mins) round(mins / 60) did not; now both work. These are automatic translations rather than true user-defined functions (UDFs); for UDFs, see register_scalar_function(). GH-41223 mutate() expressions can now include aggregations, such as x - mean(x). GH-41350 summarize() supports more complex expressions, and correctly handles cases where column names are reused in expressions. GH-41323 The na_matches argument to the dplyr::*_join() functions is now supported. This argument controls whether NA values are considered equal when joining. GH-41223 R metadata, stored in the Arrow schema to support round-tripping data between R and Arrow/Parquet, is now serialized and deserialized more strictly. This makes it safer to load data from files from unknown sources into R data.frames. GH-41223 For more on what’s in the 17.0.0 R package, see the R changelog. Ruby and C GLib notes Ruby Improved Arrow::Table#to_s format This is a breaking change C GLib Added support for Microsoft Visual C++ Added gadataset_dataset_to_record_batch_reader() Rust notes The Rust projects have moved to separate repositories outside the main Arrow monorepo. For notes on the latest release of the Rust implementation, see the latest Arrow Rust changelog.","headline":"Apache Arrow 17.0.0 Release","image":"https://arrow.apache.org/img/arrow-logo_horizontal_black-txt_white-bg.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://arrow.apache.org/blog/2024/07/16/17.0.0-release/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://arrow.apache.org/img/logo.png"},"name":"pmc"},"url":"https://arrow.apache.org/blog/2024/07/16/17.0.0-release/"}</script>
<!-- End Jekyll SEO tag -->


    <!-- favicons -->
    <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16.png" id="light1">
    <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png" id="light2">
    <link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/img/apple-touch-icon.png" id="light3">
    <link rel="apple-touch-icon" type="image/png" sizes="120x120" href="/img/apple-touch-icon-120x120.png" id="light4">
    <link rel="apple-touch-icon" type="image/png" sizes="76x76" href="/img/apple-touch-icon-76x76.png" id="light5">
    <link rel="apple-touch-icon" type="image/png" sizes="60x60" href="/img/apple-touch-icon-60x60.png" id="light6">
    <!-- dark mode favicons -->
    <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16-dark.png" id="dark1">
    <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32-dark.png" id="dark2">
    <link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/img/apple-touch-icon-dark.png" id="dark3">
    <link rel="apple-touch-icon" type="image/png" sizes="120x120" href="/img/apple-touch-icon-120x120-dark.png" id="dark4">
    <link rel="apple-touch-icon" type="image/png" sizes="76x76" href="/img/apple-touch-icon-76x76-dark.png" id="dark5">
    <link rel="apple-touch-icon" type="image/png" sizes="60x60" href="/img/apple-touch-icon-60x60-dark.png" id="dark6">

    <script>
      // Switch to the dark-mode favicons if prefers-color-scheme: dark
      function onUpdate() {
        light1 = document.querySelector('link#light1');
        light2 = document.querySelector('link#light2');
        light3 = document.querySelector('link#light3');
        light4 = document.querySelector('link#light4');
        light5 = document.querySelector('link#light5');
        light6 = document.querySelector('link#light6');

        dark1 = document.querySelector('link#dark1');
        dark2 = document.querySelector('link#dark2');
        dark3 = document.querySelector('link#dark3');
        dark4 = document.querySelector('link#dark4');
        dark5 = document.querySelector('link#dark5');
        dark6 = document.querySelector('link#dark6');

        if (matcher.matches) {
          light1.remove();
          light2.remove();
          light3.remove();
          light4.remove();
          light5.remove();
          light6.remove();
          document.head.append(dark1);
          document.head.append(dark2);
          document.head.append(dark3);
          document.head.append(dark4);
          document.head.append(dark5);
          document.head.append(dark6);
        } else {
          dark1.remove();
          dark2.remove();
          dark3.remove();
          dark4.remove();
          dark5.remove();
          dark6.remove();
          document.head.append(light1);
          document.head.append(light2);
          document.head.append(light3);
          document.head.append(light4);
          document.head.append(light5);
          document.head.append(light6);
        }
      }
      matcher = window.matchMedia('(prefers-color-scheme: dark)');
      matcher.addListener(onUpdate);
      onUpdate();
    </script>

    <link href="/css/main.css" rel="stylesheet">
    <link href="/css/syntax.css" rel="stylesheet">
    <script src="/javascript/main.js"></script>
    
    <!-- Matomo -->
<script>
  var _paq = window._paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  /* We explicitly disable cookie tracking to avoid privacy issues */
  _paq.push(['disableCookies']);
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="https://analytics.apache.org/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '20']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Matomo Code -->

    
    <link type="application/atom+xml" rel="alternate" href="https://arrow.apache.org/feed.xml" title="Apache Arrow" />
  </head>


<body class="wrap">
  <header>
    <nav class="navbar navbar-expand-md navbar-dark bg-dark">
  
  <a class="navbar-brand no-padding" href="/"><img src="/img/arrow-inverse-300px.png" height="40px"/></a>
  
   <button class="navbar-toggler ml-auto" type="button" data-toggle="collapse" data-target="#arrow-navbar" aria-controls="arrow-navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse justify-content-end" id="arrow-navbar">
      <ul class="nav navbar-nav">
        <li class="nav-item"><a class="nav-link" href="/overview/" role="button" aria-haspopup="true" aria-expanded="false">Overview</a></li>
        <li class="nav-item"><a class="nav-link" href="/faq/" role="button" aria-haspopup="true" aria-expanded="false">FAQ</a></li>
        <li class="nav-item"><a class="nav-link" href="/blog" role="button" aria-haspopup="true" aria-expanded="false">Blog</a></li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#"
             id="navbarDropdownGetArrow" role="button" data-toggle="dropdown"
             aria-haspopup="true" aria-expanded="false">
             Get Arrow
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownGetArrow">
            <a class="dropdown-item" href="/install/">Install</a>
            <a class="dropdown-item" href="/release/">Releases</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow">Source Code</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#"
             id="navbarDropdownDocumentation" role="button" data-toggle="dropdown"
             aria-haspopup="true" aria-expanded="false">
             Documentation
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownDocumentation">
            <a class="dropdown-item" href="/docs">Project Docs</a>
            <a class="dropdown-item" href="/docs/format/Columnar.html">Format</a>
            <hr/>
            <a class="dropdown-item" href="/docs/c_glib">C GLib</a>
            <a class="dropdown-item" href="/docs/cpp">C++</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow/blob/main/csharp/README.md">C#</a>
            <a class="dropdown-item" href="https://godoc.org/github.com/apache/arrow/go/arrow">Go</a>
            <a class="dropdown-item" href="/docs/java">Java</a>
            <a class="dropdown-item" href="/docs/js">JavaScript</a>
            <a class="dropdown-item" href="/julia/">Julia</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow/blob/main/matlab/README.md">MATLAB</a>
            <a class="dropdown-item" href="/docs/python">Python</a>
            <a class="dropdown-item" href="/docs/r">R</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow/blob/main/ruby/README.md">Ruby</a>
            <a class="dropdown-item" href="https://docs.rs/arrow/latest">Rust</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#"
             id="navbarDropdownSubprojects" role="button" data-toggle="dropdown"
             aria-haspopup="true" aria-expanded="false">
             Subprojects
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownSubprojects">
            <a class="dropdown-item" href="/adbc">ADBC</a>
            <a class="dropdown-item" href="/docs/format/Flight.html">Arrow Flight</a>
            <a class="dropdown-item" href="/docs/format/FlightSql.html">Arrow Flight SQL</a>
            <a class="dropdown-item" href="https://datafusion.apache.org">DataFusion</a>
            <a class="dropdown-item" href="/nanoarrow">nanoarrow</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#"
             id="navbarDropdownCommunity" role="button" data-toggle="dropdown"
             aria-haspopup="true" aria-expanded="false">
             Community
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownCommunity">
            <a class="dropdown-item" href="/community/">Communication</a>
            <a class="dropdown-item" href="/docs/developers/index.html">Contributing</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow/issues">Issue Tracker</a>
            <a class="dropdown-item" href="/committers/">Governance</a>
            <a class="dropdown-item" href="/use_cases/">Use Cases</a>
            <a class="dropdown-item" href="/powered_by/">Powered By</a>
            <a class="dropdown-item" href="/visual_identity/">Visual Identity</a>
            <a class="dropdown-item" href="/security/">Security</a>
            <a class="dropdown-item" href="https://www.apache.org/foundation/policies/conduct.html">Code of Conduct</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#"
             id="navbarDropdownASF" role="button" data-toggle="dropdown"
             aria-haspopup="true" aria-expanded="false">
             ASF Links
          </a>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownASF">
            <a class="dropdown-item" href="https://www.apache.org/">ASF Website</a>
            <a class="dropdown-item" href="https://www.apache.org/licenses/">License</a>
            <a class="dropdown-item" href="https://www.apache.org/foundation/sponsorship.html">Donate</a>
            <a class="dropdown-item" href="https://www.apache.org/foundation/thanks.html">Thanks</a>
            <a class="dropdown-item" href="https://www.apache.org/security/">Security</a>
          </div>
        </li>
      </ul>
    </div><!-- /.navbar-collapse -->
  </nav>

  </header>

  <div class="container p-4 pt-5">
    <div class="col-md-8 mx-auto">
      <main role="main" class="pb-5">
        
<h1>
  Apache Arrow 17.0.0 Release
</h1>
<hr class="mt-4 mb-3">



<p class="mb-4 pb-1">
  <span class="badge badge-secondary">Published</span>
  <span class="published mr-3">
    16 Jul 2024
  </span>
  <br />
  <span class="badge badge-secondary">By</span>
  
    <a class="mr-3" href="https://arrow.apache.org">The Apache Arrow PMC (pmc) </a>
  

  
</p>


        <!--

-->

<p>The Apache Arrow team is pleased to announce the 17.0.0 release. This covers
over 3 months of development work and includes <a href="https://github.com/apache/arrow/milestone/62?closed=1"><strong>331 resolved issues</strong></a>
on <a href="/release/17.0.0.html#contributors"><strong>529 distinct commits</strong></a> from <a href="/release/17.0.0.html#contributors"><strong>92 distinct contributors</strong></a>.
See the <a href="https://arrow.apache.org/install/">Install Page</a>
to learn how to get the libraries for your platform.</p>

<p>The release notes below are not exhaustive and only expose selected highlights
of the release. Many other bugfixes and improvements have been made: we refer
you to the <a href="/release/17.0.0.html#changelog">complete changelog</a>.</p>

<h2 id="community">Community</h2>

<p>Since the 16.0.0 release, Dane Pitkin has been invited to be committer.
No new members have joined the Project Management Committee (PMC).</p>

<p>Thanks for your contributions and participation in the project!</p>

<h2 id="linux-packages-notes">Linux packages notes</h2>

<ul>
  <li>We dropped support for Debian GNU/Linux bullseye</li>
</ul>

<h2 id="c-data-interface-notes">C Data Interface notes</h2>

<ul>
  <li><code class="language-plaintext highlighter-rouge">ArrowDeviceArrayStream</code> can now be imported and exported (GH-40078)</li>
</ul>

<h2 id="arrow-flight-rpc-notes">Arrow Flight RPC notes</h2>

<ul>
  <li>Flight SQL was formally stabilized (GH-39204).</li>
  <li>Flight SQL added a bulk ingestion command (GH-38255).</li>
  <li>The JDBC Flight SQL driver now accepts “catalog” as a connection parameter (GH-41947).</li>
  <li>“Stateless” prepared statements are now supported (GH-37220, GH-41262).</li>
  <li>Java added <code class="language-plaintext highlighter-rouge">FlightStatusCode.RESOURCE_EXHAUSTED</code> (GH-35888).</li>
  <li>C++ has some basic support for logging with OpenTelemetry (GH-39898).</li>
</ul>

<h2 id="c-notes">C++ notes</h2>

<p>For C++ notes refer to the full changelog.</p>

<h3 id="highlights">Highlights</h3>

<ul>
  <li>Half-float values can now be parsed and formatted correctly (GH-41089).</li>
  <li>Record batches can now be converted to row-major tensors, not only column-major (GH-40866).</li>
  <li>The CSV writer is now able to write large string arrays that are larger than
2 GiB (GH-40270).</li>
  <li>A possible invalid memory access in <code class="language-plaintext highlighter-rouge">BooleanArray.true_count()</code> has been fixed (GH-41016).</li>
  <li>A new method <code class="language-plaintext highlighter-rouge">FlattenRecursively</code> allows recursive nesting of list and
fixed-size list arrays (GH-41055).</li>
  <li>The scratch space in some <code class="language-plaintext highlighter-rouge">Scalar</code> subclasses is now immutable. This is required
for proper concurrent access to <code class="language-plaintext highlighter-rouge">Scalar</code> instances (GH-40069).</li>
  <li>Calling the <code class="language-plaintext highlighter-rouge">bit_width</code> or <code class="language-plaintext highlighter-rouge">byte_width</code> method of an extension type now defers
to the underlying storage type (GH-41353).</li>
  <li>Fixed a bug where <code class="language-plaintext highlighter-rouge">MapArray::FromArrays</code> would behave incorrectly if the given
offsets array has a non-zero offset (GH-40750).</li>
  <li><code class="language-plaintext highlighter-rouge">MapArray::FromArrays</code> now accepts an optional null bitmap argument
(GH-41684).</li>
  <li>The <code class="language-plaintext highlighter-rouge">ARROW_NO_DEPRECATED_API</code> macro was unused and has been removed (GH-41343).</li>
</ul>

<h3 id="acero">Acero</h3>

<ul>
  <li>The left anti join filter no longer crashes when the filter rows are empty (GH-41121).</li>
  <li>A race condition was fixed in the asof join (GH-41149).</li>
  <li>A potential stack overflow has been fixed (GH-41334, GH-41738).</li>
  <li>A potential crash on very large data has been fixed (GH-41813).</li>
  <li>Asof join and sort merge join now support single threaded mode (GH-41190).</li>
</ul>

<h3 id="compute">Compute</h3>

<ul>
  <li>List views and maps are now supported by the <code class="language-plaintext highlighter-rouge">if_else</code>, <code class="language-plaintext highlighter-rouge">case_when</code> and
<code class="language-plaintext highlighter-rouge">coalesce</code> functions (GH-41418).</li>
  <li>List views are now supported by the functions <code class="language-plaintext highlighter-rouge">list_slice</code> (GH-42065),
<code class="language-plaintext highlighter-rouge">list_parent_indices</code> (GH-42235), <code class="language-plaintext highlighter-rouge">take</code> and <code class="language-plaintext highlighter-rouge">filter</code> (GH-42116).</li>
  <li><code class="language-plaintext highlighter-rouge">list_flatten</code> can now be recursive based on new optional argument
(GH-41183, GH-41055)</li>
  <li>The <code class="language-plaintext highlighter-rouge">take</code> and <code class="language-plaintext highlighter-rouge">filter</code> functions have been made significantly faster on fixed-width
types, including fixed-size lists of fixed-width types (GH-39798).</li>
</ul>

<h3 id="dataset">Dataset</h3>

<ul>
  <li>Repeated scanning of an encrypted Parquet dataset now works correctly (GH-41431).</li>
</ul>

<h3 id="filesystems">Filesystems</h3>

<ul>
  <li>Standard filesystem implementations are now tracked in a global registry which
also allows loading third-party filesystem implementations, for example from
runtime-loaded DLLs (GH-40342,</li>
  <li>Directory metadata operations on Azure filesystems are now more aligned with
the common expectations for filesystems (GH-41034).</li>
  <li><code class="language-plaintext highlighter-rouge">CopyFile</code> is now supported for Azure filesystems with hierarchical namespace
enabled (GH-41095).</li>
  <li>Azure credentials can now be loaded explicitly from the environment (GH-39345),
or using the Azure CLI (GH-39344).</li>
  <li>A potential deadlock was fixed when closing an S3 output stream (GH-41862).</li>
</ul>

<h3 id="gpu">GPU</h3>

<ul>
  <li>Non-CPU data can now be pretty-printed (GH-41664).</li>
  <li>Non-CPU data with offsets, such as list and binary data, can now be properly
sent over IPC (GH-42198).</li>
</ul>

<h3 id="ipc">IPC</h3>

<ul>
  <li>Flatbuffers serialization is now more deterministic (GH-40361).</li>
</ul>

<h3 id="parquet">Parquet</h3>

<ul>
  <li>A crash was fixed when reading an invalid Parquet file where columns claim to
be of different lengths (GH-41317).</li>
  <li>Definition and repetition levels are now more strictly checked, avoiding later
crashes when reading an invalid Parquet file (GH-41321).</li>
  <li>A crash was fixed when reading an invalid encrypted Parquet file (GH-43070).</li>
  <li>Fixed a bug where <code class="language-plaintext highlighter-rouge">DeltaLengthByteArrayEncoder::EstimatedDataEncodedSize</code> could
return an invalid estimate in some situations (GH-41545).</li>
  <li>Delimiting records is now faster for columns with nested repeating (GH-41361).</li>
</ul>

<h3 id="substrait">Substrait</h3>

<ul>
  <li>Support for more Arrow data types was added: some temporal types, half floats,
large string and large binary (GH-40695).</li>
</ul>

<h2 id="c-notes-1">C# notes</h2>

<ul>
  <li>The performance of building Decimal arrays using SqlDecimal values was improved for .NET 7+ (GH-41349)</li>
  <li>Scalar arrays now implement <code class="language-plaintext highlighter-rouge">ICollection&lt;T?&gt;</code> (GH-38692)</li>
  <li>Concatenating arrays with a non-zero offset with ArrowArrayConcatenator was fixed (GH-41164)</li>
  <li>Concatenating union arrays with ArrowArrayConcatenator was fixed (GH-41198)</li>
  <li>Accessing values of decimal arrays with a non-zero offset was fixed (GH-41199)</li>
</ul>

<h2 id="go-notes">Go Notes</h2>

<h3 id="bug-fixes">Bug Fixes</h3>

<h4 id="arrow">Arrow</h4>

<ul>
  <li>Prevent exposure of invalid Go pointers in CGO code (<a href="https://github.com/apache/arrow/issues/43062">GH-43062</a>)</li>
  <li>Fix memory leak for 0-length C array imports (<a href="https://github.com/apache/arrow/issues/41534">GH=41534</a>)</li>
  <li>Ensure statement handle is updated so stateless prepared statements work properly (<a href="https://github.com/apache/arrow/issues/41427">GH-41427</a>)</li>
</ul>

<h4 id="parquet-1">Parquet</h4>

<ul>
  <li>Fix memory leak in BufferedPageWriter (<a href="https://github.com/apache/arrow/issues/41697">GH-41697</a>)</li>
  <li>Fix performance regression in PooledBufferWriter (<a href="https://github.com/apache/arrow/issues/41541">GH-41541</a>)</li>
</ul>

<h3 id="enhancements">Enhancements</h3>

<h4 id="arrow-1">Arrow</h4>

<ul>
  <li>Arrow Schemas and Records can now be created from Protobuf messages (<a href="https://github.com/apache/arrow/issues/40494">GH-40494</a>)</li>
</ul>

<h4 id="parquet-2">Parquet</h4>

<ul>
  <li>Performance improvement for BitWriter VlqInt (<a href="https://github.com/apache/arrow/pull/41160">GH-41160</a>)</li>
</ul>

<h2 id="java-notes">Java notes</h2>

<p><strong>Some changes are coming up in the next version, Arrow 18. Java 8 support will be removed. The version of the flight-core artifact with shaded gRPC will no longer be distributed.</strong></p>

<ul>
  <li>Basic support for ListView (GH-41287) and StringView (GH-40339) has been added. These types should still be considered experimental.</li>
</ul>

<h2 id="javascript-notes">JavaScript notes</h2>

<ul>
  <li>General maintenance. Clean up packaging (<a href="https://github.com/apache/arrow/issues/39722">GH-39722</a>), update dependencies (<a href="https://github.com/apache/arrow/issues/41905">GH-41905</a>).</li>
</ul>

<h2 id="python-notes">Python notes</h2>

<h3 id="compatibility-notes">Compatibility notes:</h3>
<ul>
  <li>To ensure Python 3.13 compatibility, _Py_IsFinalizing has been replaced with a public API (GH-41475).</li>
  <li>The C Data Interface now supports CUDA devices (GH-40384).</li>
</ul>

<h3 id="new-features">New features:</h3>
<ul>
  <li>Added support for Emscripten via Pyodide (GH-41910).</li>
</ul>

<h3 id="other-improvements">Other improvements:</h3>
<ul>
  <li>The ParquetWriter added the store_decimal_as_integer option (GH-42168).</li>
  <li>The Float16 logical type is supported in Parquet (GH-42016).</li>
  <li>Exposed bit_width and byte_width to extension types (GH-41389).</li>
  <li>Added bindings for Device and MemoryManager classes (GH-41126).</li>
  <li>The PyCapsule interface now exposes the device interface (GH-38325).</li>
  <li>Various PyArrow APIs have been updated to work with non-CPU architectures gracefully. (GH-42112, GH-41664, GH-41662,</li>
</ul>

<h3 id="relevant-bug-fixes">Relevant bug fixes:</h3>
<ul>
  <li>Fixed Numpy 2.0 compatibility issues (GH-42170, GH-41924).</li>
  <li>Fixed sporadic as_of join failures (GH-41149).</li>
  <li>Fixed a bug in RecordBatch.filter() when passing a ChunkedArray, which would cause a segfault (GH-38770).</li>
  <li>Fixed a bug in RecordBatch.from_arrays() when passing a storage array, which would cause a segfault (GH-37669).</li>
  <li>Fixed a bug where constructing a MapArray from Array could drop nulls (GH-41684).</li>
  <li>FIxed a bug where RunEndEncodedArray.from_arrays fails if run_ends are pyarrow.Array (GH-40560).</li>
  <li>FIxed a regression introduced in PyArrow v16 in RecordBatchReader.cast() (GH-41884).</li>
</ul>

<h2 id="r-notes">R notes</h2>

<ul>
  <li>R functions that users write that use functions that Arrow supports in dataset queries now can be used in queries too. Previously, only functions that used arithmetic operators worked. For example, <code class="language-plaintext highlighter-rouge">time_hours &lt;- function(mins) mins / 60</code> worked, but <code class="language-plaintext highlighter-rouge">time_hours_rounded &lt;- function(mins) round(mins / 60)</code> did not; now both work. These are automatic translations rather than true user-defined functions (UDFs); for UDFs, see <code class="language-plaintext highlighter-rouge">register_scalar_function()</code>. <a href="https://github.com/apache/arrow/issues/41223">GH-41223</a></li>
  <li><code class="language-plaintext highlighter-rouge">mutate()</code> expressions can now include aggregations, such as <code class="language-plaintext highlighter-rouge">x - mean(x)</code>. <a href="https://github.com/apache/arrow/pull/41350">GH-41350</a></li>
  <li><code class="language-plaintext highlighter-rouge">summarize()</code> supports more complex expressions, and correctly handles cases where column names are reused in expressions. <a href="https://github.com/apache/arrow/issues/41323">GH-41323</a></li>
  <li>The <code class="language-plaintext highlighter-rouge">na_matches</code> argument to the <code class="language-plaintext highlighter-rouge">dplyr::*_join()</code> functions is now supported. This argument controls whether <code class="language-plaintext highlighter-rouge">NA</code> values are considered equal when joining. <a href="https://github.com/apache/arrow/issues/41358">GH-41223</a></li>
  <li>R metadata, stored in the Arrow schema to support round-tripping data between R and Arrow/Parquet, is now serialized and deserialized more strictly. This makes it safer to load data from files from unknown sources into R data.frames. <a href="https://github.com/apache/arrow/issues/41969">GH-41223</a></li>
</ul>

<p>For more on what’s in the 17.0.0 R package, see the <a href="/docs/r/news/">R changelog</a>.</p>

<h2 id="ruby-and-c-glib-notes">Ruby and C GLib notes</h2>

<h3 id="ruby">Ruby</h3>

<ul>
  <li>Improved <code class="language-plaintext highlighter-rouge">Arrow::Table#to_s</code> format
    <ul>
      <li>This is a breaking change</li>
    </ul>
  </li>
</ul>

<h3 id="c-glib">C GLib</h3>

<ul>
  <li>Added support for Microsoft Visual C++</li>
  <li>Added <code class="language-plaintext highlighter-rouge">gadataset_dataset_to_record_batch_reader()</code></li>
</ul>

<h2 id="rust-notes">Rust notes</h2>

<p>The Rust projects have moved to separate repositories outside the
main Arrow monorepo. For notes on the latest release of the Rust
implementation, see the latest <a href="https://github.com/apache/arrow-rs/tags">Arrow Rust changelog</a>.</p>


      </main>
    </div>

    <hr/>
<footer class="footer">
  <div class="row">
    <div class="col-md-9">
      <p>Apache Arrow, Arrow, Apache, the Apache feather logo, and the Apache Arrow project logo are either registered trademarks or trademarks of The Apache Software Foundation in the United States and other countries.</p>
      <p>&copy; 2016-2025 The Apache Software Foundation</p>
    </div>
    <div class="col-md-3">
      <a class="d-sm-none d-md-inline pr-2" href="https://www.apache.org/events/current-event.html">
        <img src="https://www.apache.org/events/current-event-234x60.png"/>
      </a>
    </div>
  </div>
</footer>

  </div>
</body>
</html>
