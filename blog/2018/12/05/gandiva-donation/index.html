<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <title>Apache Arrow Homepage</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Jekyll v3.8.4">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">

    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic,900">

    <link href="/css/main.css" rel="stylesheet">
    <link href="/css/syntax.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    
    <!-- Global Site Tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-107500873-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments)};
  gtag('js', new Date());

  gtag('config', 'UA-107500873-1');
</script>

    
  </head>


<body class="wrap">
  <header>
    <nav class="navbar navbar-expand-md navbar-dark bg-dark">
  <a class="navbar-brand" href="/"><img src="/img/arrow-inverse-300px.png" height="60px"/></a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#arrow-navbar" aria-controls="arrow-navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="arrow-navbar">
      <ul class="nav navbar-nav">
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#"
             id="navbarDropdownProjectLinks" role="button" data-toggle="dropdown"
             aria-haspopup="true" aria-expanded="false">
             Project Links
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownProjectLinks">
            <a class="dropdown-item" href="/install/">Installation</a>
            <a class="dropdown-item" href="/release/">Releases</a>
            <a class="dropdown-item" href="/faq/">FAQ</a>
            <a class="dropdown-item" href="/blog/">Blog</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow">Source Code</a>
            <a class="dropdown-item" href="https://issues.apache.org/jira/browse/ARROW">Issue Tracker</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#"
             id="navbarDropdownCommunity" role="button" data-toggle="dropdown"
             aria-haspopup="true" aria-expanded="false">
             Community
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownCommunity">
            <a class="dropdown-item" href="http://mail-archives.apache.org/mod_mbox/arrow-user/">User Mailing List</a>
            <a class="dropdown-item" href="http://mail-archives.apache.org/mod_mbox/arrow-dev/">Dev Mailing List</a>
            <a class="dropdown-item" href="https://cwiki.apache.org/confluence/display/ARROW">Developer Wiki</a>
            <a class="dropdown-item" href="/committers/">Committers</a>
            <a class="dropdown-item" href="/powered_by/">Powered By</a>
          </div>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/docs/format/README.html"
             role="button" aria-haspopup="true" aria-expanded="false">
             Specification
          </a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#"
             id="navbarDropdownDocumentation" role="button" data-toggle="dropdown"
             aria-haspopup="true" aria-expanded="false">
             Documentation
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownDocumentation">
            <a class="dropdown-item" href="/docs">Project Docs</a>
            <a class="dropdown-item" href="/docs/python">Python</a>
            <a class="dropdown-item" href="/docs/cpp">C++</a>
            <a class="dropdown-item" href="/docs/java">Java</a>
            <a class="dropdown-item" href="/docs/c_glib">C GLib</a>
            <a class="dropdown-item" href="/docs/js">JavaScript</a>
            <a class="dropdown-item" href="/docs/r">R</a>
          </div>
        </li>
        <!-- <li><a href="/blog">Blog</a></li> -->
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#"
             id="navbarDropdownASF" role="button" data-toggle="dropdown"
             aria-haspopup="true" aria-expanded="false">
             ASF Links
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownASF">
            <a class="dropdown-item" href="http://www.apache.org/">ASF Website</a>
            <a class="dropdown-item" href="http://www.apache.org/licenses/">License</a>
            <a class="dropdown-item" href="http://www.apache.org/foundation/sponsorship.html">Donate</a>
            <a class="dropdown-item" href="http://www.apache.org/foundation/thanks.html">Thanks</a>
            <a class="dropdown-item" href="http://www.apache.org/security/">Security</a>
          </div>
        </li>
      </ul>
      <div class="flex-row justify-content-end ml-md-auto">
        <a class="d-sm-none d-md-inline pr-2" href="https://www.apache.org/events/current-event.html">
          <img src="https://www.apache.org/events/current-event-234x60.png"/>
        </a>
        <a href="http://www.apache.org/">
          <img src="/img/asf_logo.svg" width="120px"/>
        </a>
      </div>
      </div><!-- /.navbar-collapse -->
    </div>
  </nav>

  </header>

  <div class="container p-lg-4">
    <main role="main">
    
    
    
<h1>
  Gandiva: A LLVM-based Analytical Expression Compiler for Apache Arrow
  <a href="/blog/2018/12/05/gandiva-donation/" class="permalink" title="Permalink">∞</a>
</h1>



<p>
  <span class="badge badge-secondary">Published</span>
  <span class="published">
    05 Dec 2018
  </span>
  <br />
  <span class="badge badge-secondary">By</span>
  
    <a href="http://github.com/jacques-n">Jacques Nadeau (jacques) </a>
  
</p>


    <!--

-->

<p>Today we’re happy to announce that the Gandiva Initiative for Apache Arrow, an
LLVM-based execution kernel, is now part of the Apache Arrow project. Gandiva
was kindly donated by <a href="https://www.dremio.com/">Dremio</a>, where it was
originally developed and open-sourced. Gandiva extends Arrow’s capabilities to
provide high performance analytical execution and is composed of two main
components:</p>

<ul>
  <li>
    <p>A runtime expression compiler leveraging LLVM</p>
  </li>
  <li>
    <p>A high performance execution environment</p>
  </li>
</ul>

<p>Gandiva works as follows: applications submit an expression tree to the
compiler, built in a language agnostic protobuf-based expression
representation. From there, Gandiva then compiles the expression tree to native
code for the current runtime environment and hardware. Once compiled, the
Gandiva execution kernel then consumes and produces Arrow columnar batches. The
generated code is highly optimized for parallel processing on modern CPUs. For
example, on AVX-128 processors Gandiva can process 8 pairs of 2 byte values in
a single vectorized operation, and on AVX-512 processors Gandiva can process 4x
as many values in a single operation. Gandiva is built from the ground up to
understand Arrow’s in-memory representation and optimize processing against it.</p>

<p>While Gandiva is just starting within the Arrow community, it already supports
hundreds of <a href="https://github.com/apache/arrow/blob/master/cpp/src/gandiva/function_registry.cc">expressions</a>, ranging from math functions to case
statements. Gandiva was built as a standalone C++ library built on top of the
core Apache Arrow codebase and was donated with C++ and Java APIs construction
and execution APIs for projection and filtering operations. The Arrow community
is already looking to expand Gandiva’s capabilities. This will include
incorporating more operations and supporting many new language bindings. As an
example, multiple community members are already actively building new language
bindings that allow use of Gandiva within Python and Ruby.</p>

<p>While young within the Arrow community, Gandiva is already shipped and used in
production by many Dremio customers as part of Dremio’s execution
engine. Experiments have demonstrated <a href="https://www.dremio.com/gandiva-performance-improvements-production-query/">70x performance improvement</a> on many
SQL queries. We expect to see similar performance gains for many other projects
that leverage Arrow.</p>

<p>The Arrow community is working to ship the first formal Apache Arrow release
that includes Gandiva, and we hope this will be available within the next
couple months. This should make it much easier for the broader analytics and
data science development communities to leverage runtime code generation for
high-performance data processing in a variety of contexts and projects.</p>

<p>We started the Arrow project a couple of years ago with the objective of
creating an industry-standard columnar in-memory data representation for
analytics. Within this short period of time, Apache Arrow has been adopted by
dozens of both open source and commercial software products. Some key examples
include technologies such as Apache Spark, Pandas, Nvidia RAPIDS, Dremio, and
InfluxDB. This success has driven Arrow to now be downloaded more than 1
million times per month. Over 200 developers have already contributed to Apache
Arrow. If you’re interested in contributing to Gandiva or any other part of the
Apache Arrow project, feel free to reach out on the mailing list and join us!</p>

<p>For additional technical details on Gandiva, you can check out some of the
following resources:</p>

<ul>
  <li>
    <p><a href="https://www.dremio.com/announcing-gandiva-initiative-for-apache-arrow/">https://www.dremio.com/announcing-gandiva-initiative-for-apache-arrow/</a></p>
  </li>
  <li>
    <p><a href="https://www.dremio.com/gandiva-performance-improvements-production-query/">https://www.dremio.com/gandiva-performance-improvements-production-query/</a></p>
  </li>
  <li>
    <p><a href="https://www.dremio.com/webinars/vectorized-query-processing-apache-arrow/">https://www.dremio.com/webinars/vectorized-query-processing-apache-arrow/</a></p>
  </li>
  <li>
    <p><a href="https://www.dremio.com/adding-a-user-define-function-to-gandiva/">https://www.dremio.com/adding-a-user-define-function-to-gandiva/</a></p>
  </li>
</ul>


    </main>

    <hr/>
<footer class="footer">
  <p>Apache Arrow, Arrow, Apache, the Apache feather logo, and the Apache Arrow project logo are either registered trademarks or trademarks of The Apache Software Foundation in the United States and other countries.</p>
  <p>&copy; 2016-2019 The Apache Software Foundation</p>
  <script integrity="sha256-jSo1n9J6iIJG62OLNqTotorGW58RxIufrGAfoMmn15Y=" crossorigin="anonymous" src="/assets/main-8d2a359fd27a888246eb638b36a4e8b68ac65b9f11c48b9fac601fa0c9a7d796.js" type="text/javascript"></script>
</footer>

  </div>
</body>
</html>
