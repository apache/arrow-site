<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above meta tags *must* come first in the head; any other head content must come *after* these tags -->
    
    <title>Apache Arrow 6.0.0 Release | Apache Arrow</title>
    

    <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Apache Arrow 6.0.0 Release" />
<meta name="author" content="pmc" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="The Apache Arrow team is pleased to announce the 6.0.0 release. This covers over 3 months of development work and includes 572 resolved issues from 77 distinct contributors. See the Install Page to learn how to get the libraries for your platform. The release notes below are not exhaustive and only expose selected highlights of the release. Many other bugfixes and improvements have been made: we refer you to the complete changelog. Community Since the 5.0.0 release, Nic Crane, QP Hou, Jiayu Liu, and Matt Topol have been invited to be committers, and Neville Dipale has joined the Project Management Committee (PMC). Thanks for your contributions and participation in the project! Columnar Format Notes A new calendar interval type consisting of Month, Day and Nanoseconds has been added to the specification. Reference implementations existing in Java, C++ and Python. Arrow Flight RPC notes GLib and Ruby have added bindings for Arrow Flight. While not part of the release, work is ongoing on Arrow Flight SQL, which defines a protocol for clients to communicate with SQL databases using Arrow Flight. For those interested in the project, please reach out on the mailing list. C++ notes The month-day-nano interval type has been added (ARROW-13628). Various APIs, including extension types and scalars, are no longer experimental (ARROW-5244). Support for Visual Studio 2015 was dropped (ARROW-14070). Compute Layer A basic in-memory query engine has been implemented and is accessible from the R bindings. Operations including filter, project, sort, equality joins, and various aggregations are supported. The following compute functions have been added: aggregate functions: approximate_median, count_distinct, max, min, product hash aggregate functions: hash_all, hash_any, hash_approximate_median, hash_count_distinct, hash_distinct, hash_max, hash_mean, hash_min, hash_product, hash_stdev, hash_variance scalar arithmetic functions: logb, round, round_to_multiple scalar string functions: ascii_capitalize, ascii_swapcase, ascii_title, utf8_capitalize, utf8_swapcase, utf8_title scalar temporal functions: assume_timezone, day_time_interval_between, days_between, hours_between, microseconds_between, milliseconds_between, minutes_between, month_day_nano_interval_between, month_interval_between, nanoseconds_between, quarters_between, seconds_between, strftime, us_week, week, weeks_between, years_between other scalar functions: choose, list_element vector functions: drop_null, select_k_unstable In general, type support has been improved for most of the compute functions, but work here is ongoing, particularly around decimal support. Crashes have been fixed in particular cases for take, filter, unique, and value_counts (ARROW-13474, ARROW-13509, ARROW-14129). Hash aggregations (i.e. group by) supports scalar and array values (ARROW-13737, ARROW-14027). Temporal functions are now timezone-aware (e.g. when extracting the hour of a timestamp) (ARROW-12980). count can optionally count all values, not just null or non-null values (ARROW-13574). fill_null has been replaced by the more general coalesce (ARROW-7179). is_null can optionally consider NaN as null (ARROW-12959). Sorting has been optimized (ARROW-10898, ARROW-14165). Also, null values can now be sorted at either the beginning or the end (ARROW-12063). CSV The CSV reader can read time32 and time64 types, and will infer time32 values for columns in the format “hh:mm” and “hh:mm:ss” (ARROW-11243). The decimal point can be customized when reading (ARROW-13421). The streaming reader will not unintentionally infer null-typed columns when using the various skip options (ARROW-13441). If a row has an incorrect number of columns, now the row can be skipped instead of raising an error (ARROW-12673). The option quoted_strings_can_be_null applies to all column types now, not just strings (ARROW-13580). When quoting is disabled entirely, the reader now takes advantage of this to improve performance (ARROW-14150). A CSVWriter object is now exposed, allowing for incremental writing (ARROW-11828). Dates can now be written (ARROW-12540). Dataset Layer The dataset writer was refactored, and now supports more options, including a limit on the number of files open at once, compatibility with the async scanner, a limit on the number of rows written per file, and control over what to do when files already exist in the target directory (ARROW-13650). Additionally, the query engine can feed into the dataset writer as a sink (ARROW-13542). The asynchronous scanner now properly respects backpressure (ARROW-13611, ARROW-14192), as does the writer (ARROW-14191). ORC datasets are supported (ARROW-13572) with support for column projection pushdown (ARROW-13797). The Parquet/IPC format readers now respect the batch_size scanner option (ARROW-14024). Also, the Parquet reader now properly implements readahead for better performance (ARROW-14026). IO and Filesystem Layer The retry strategy of S3FileSystem can be customized (ARROW-13508). When writing to an existing bucket as a user with limited permissions, Arrow will no longer emit a spurious “Access Denied” error (ARROW-13685). On MacOS with NFS mounts, a “[errno 25] Inappropriate ioctl for device” error was fixed (ARROW-13983). The basics of a Google Cloud Storage filesystem have been added; work is in progress for full support (ARROW-8147, ARROW-14222, ARROW-14223, ARROW-14232, ARROW-14236, ARROW-14345, ARROW-14157). JSON A crash was fixed when duplicate keys were present (ARROW-14109). Parquet Written min/max and null_count statistics for dictionary types were corrected (ARROW-11634, ARROW-12513). null_count statistics for columns that contain repeated data where corrected. file_offset for row groups was not being populated according to the specification, this issue has been corrected. Column selection now works for repeated columns and structs of more then one level. An error with large files when built with Thrift 0.14 was fixed (ARROW-13655). The ParquetVersion enum was updated with more values to support finer-grained Parquet format version selection (ARROW-13794). Writer performance was improved by avoiding repeated dynamic casts (ARROW-13965). C# notes This release includes improved support for dictionary arrays, as well as integration testing with the other Arrow implementations for the primitive and decimal types Go notes Bug Fixes Fixed handling of the zero value for Decimal128 FromBigInt #10796 Fixed various “too many releases” errors in the tests allowing all tests to be run using the assert build tag in CI from now on, including a bug when writing slices of String, Binary or FixedWidthType arrays via ipc.Writer #11270, #11276 Fixed builds on ARM and s390x architectures #11299, #11305 Enhancements Added Concatenate function for concatenating arrays Implemented Scalar values and MakeArrayFromScalar function #11252 Added cgo optional allocator for allocating memory using the C++ memory pool for use with the C Data import and export APIs Added support for Month, Day, Nano interval type #11310 Completed Encoding package for Parquet, added Metadata package. Version Compatibility Update Release process updated to add proper git tags for Go release for Module aware version tracking (#11312) meaning that this release will be correctly tagged as v6.0.0 in go.mod and pkg.go.dev and future releases will be correctly versioned with the Go module system. Java notes Some dependent libraries were upgraded. In particular, grpc upgraded to 1.41.0, netty upgraded to 2.0.43, and orc upgraded to 1.7.0. (ARROW-14198) (ARROW-14049) Fixed the problem of appending BitVectors in batch (ARROW-13981) Code coverage support enabled for Java (ARROW-13859) Fixed the incorrect string representations for unsigned integer vectors (ARROW-13792) Reduced the memory consumption of JDBC adapters by reusing record batches (ARROW-13733) Allowed NullVectors to have distinct field names (ARROW-13645) Some APIs that have been deprecated for long have been removed (ARROW-13544) Allowed passing empty columns for projection in Dataset (ARROW-13257) A Java implementation of Arrow C data interface was provided (ARROW-12965) JavaScript notes This release fixes builds with the latest TypeScript versions and ESM tree shaking. Deprecation notice: in Arrow 7, we will remove the compute code from Arrow JS. Python notes Many new pyarrow.compute functions are available (see the C++ notes above for more details), and introspection of the functions was improved so that they look more like standard Python functions. All Python functions and classes should now have documented parameters in the API reference. SIMD optimization is now enabled in M1 wheels Wheels are now built for more Python versions on M1 systems. PyArrow is now compatible with Python 3.10 Creating Arrow arrays now supports more than just numpy arrays as masks Printing Tables now previews the values in the columns copy_files is now available in Python Datasets now support ORC files Sets are now supported when building arrays or converting from pandas. 39 bugs have been fixed. R notes This release adds grouped aggregation and joins in the dplyr interface, on top of the new Arrow C++ query engine. There is also support for using duckdb to query Arrow datasets. For more details, see the complete R changelog. Ruby and C GLib notes Ruby The updates of Red Arrow etc. consists of the following improvements: Red Arrow Added Arrow::RecordBatchReader Support to convert an array of symbols to a dictionary array Add support for building and converting map Add support for group aggregation Use compute kernels for the implementation of slicers Support a Range and an Array of selectors in Arrow::Table#[] and Arrow::RecordBatch#[] Separate min and max aggregators Support a hash slicer; a scalar value is for equality matching, and a range is for between matching Add Arrow::TableConcatenateOptions and conversion from a Hash for convenience Add Arrow::Expression and conversion from Array and Hash for convenience Red Arrow Dataset Add support for loading from directories Add support for writing Add filter expression support in a loader Red Arrow Flight Add ArrowFlight::Client#do_get support C GLib The updates of Arrow GLib etc. consists of the following improvements: Arrow GLib Add the following new functions: garrow_record_batch_reader_new garrow_record_batch_reader_read_all garrow_union_scalar_get_type_code Add type_code supports in union scalar types Add C ABI support Add GArrowCountOptions and let count functions support it Add support for group aggregation Add GArrowSetLookupOptions for options of is_in and index_in kernels Add GArrowVarianceOptions to specify the calculation options for variance and standard deviation kernels Add GArrowFunctionDoc Add GArrowTableConcatenateOptions and let garrow_table_concatenate support it Add expressions support Arrow Dataset GLib Add support for writing data Support recursive scanning in a directory Add gadataset_scanner_builder_set_filter Make use_async of GADatasetScannerBuilder a property, and remove gadataset_scanner_builder_use_async Arrow Flight GLib Add DoGet support: New functions: gaflight_client_do_get and gaflight_server_do_get New classes: GAFlightStreamReader, GAFlightStreamChunk, GAFlightRecordBatchReader, GAFlightDataStream, GAFlightRecordBatchStream, and GAFlightServerCallContext Change the argument order of gaflight_client_list_flights function Parquet GLib Add gparquet_arrow_file_reader_get_n_rows function Rust notes Rust continues to release minor versions every 2 weeks in addition to a major version with the rest of the Arrow language implementations. Thus most enhancements have been incrementally released over the last 3 months as part of the 5.x. The DataFusion and Ballista sub projects have begun releasing at their own cadence which is expected to continue in the next few weeks. Major changes in the 6.0.0 release include support for the MapArray array type, improved lower level ArrayData APIs to better communicate safety, and a faster (but unstable) sorting kernel. For additional details on the 6.0.0 Rust implementation, please see the Arrow Rust CHANGELOG" />
<meta property="og:description" content="The Apache Arrow team is pleased to announce the 6.0.0 release. This covers over 3 months of development work and includes 572 resolved issues from 77 distinct contributors. See the Install Page to learn how to get the libraries for your platform. The release notes below are not exhaustive and only expose selected highlights of the release. Many other bugfixes and improvements have been made: we refer you to the complete changelog. Community Since the 5.0.0 release, Nic Crane, QP Hou, Jiayu Liu, and Matt Topol have been invited to be committers, and Neville Dipale has joined the Project Management Committee (PMC). Thanks for your contributions and participation in the project! Columnar Format Notes A new calendar interval type consisting of Month, Day and Nanoseconds has been added to the specification. Reference implementations existing in Java, C++ and Python. Arrow Flight RPC notes GLib and Ruby have added bindings for Arrow Flight. While not part of the release, work is ongoing on Arrow Flight SQL, which defines a protocol for clients to communicate with SQL databases using Arrow Flight. For those interested in the project, please reach out on the mailing list. C++ notes The month-day-nano interval type has been added (ARROW-13628). Various APIs, including extension types and scalars, are no longer experimental (ARROW-5244). Support for Visual Studio 2015 was dropped (ARROW-14070). Compute Layer A basic in-memory query engine has been implemented and is accessible from the R bindings. Operations including filter, project, sort, equality joins, and various aggregations are supported. The following compute functions have been added: aggregate functions: approximate_median, count_distinct, max, min, product hash aggregate functions: hash_all, hash_any, hash_approximate_median, hash_count_distinct, hash_distinct, hash_max, hash_mean, hash_min, hash_product, hash_stdev, hash_variance scalar arithmetic functions: logb, round, round_to_multiple scalar string functions: ascii_capitalize, ascii_swapcase, ascii_title, utf8_capitalize, utf8_swapcase, utf8_title scalar temporal functions: assume_timezone, day_time_interval_between, days_between, hours_between, microseconds_between, milliseconds_between, minutes_between, month_day_nano_interval_between, month_interval_between, nanoseconds_between, quarters_between, seconds_between, strftime, us_week, week, weeks_between, years_between other scalar functions: choose, list_element vector functions: drop_null, select_k_unstable In general, type support has been improved for most of the compute functions, but work here is ongoing, particularly around decimal support. Crashes have been fixed in particular cases for take, filter, unique, and value_counts (ARROW-13474, ARROW-13509, ARROW-14129). Hash aggregations (i.e. group by) supports scalar and array values (ARROW-13737, ARROW-14027). Temporal functions are now timezone-aware (e.g. when extracting the hour of a timestamp) (ARROW-12980). count can optionally count all values, not just null or non-null values (ARROW-13574). fill_null has been replaced by the more general coalesce (ARROW-7179). is_null can optionally consider NaN as null (ARROW-12959). Sorting has been optimized (ARROW-10898, ARROW-14165). Also, null values can now be sorted at either the beginning or the end (ARROW-12063). CSV The CSV reader can read time32 and time64 types, and will infer time32 values for columns in the format “hh:mm” and “hh:mm:ss” (ARROW-11243). The decimal point can be customized when reading (ARROW-13421). The streaming reader will not unintentionally infer null-typed columns when using the various skip options (ARROW-13441). If a row has an incorrect number of columns, now the row can be skipped instead of raising an error (ARROW-12673). The option quoted_strings_can_be_null applies to all column types now, not just strings (ARROW-13580). When quoting is disabled entirely, the reader now takes advantage of this to improve performance (ARROW-14150). A CSVWriter object is now exposed, allowing for incremental writing (ARROW-11828). Dates can now be written (ARROW-12540). Dataset Layer The dataset writer was refactored, and now supports more options, including a limit on the number of files open at once, compatibility with the async scanner, a limit on the number of rows written per file, and control over what to do when files already exist in the target directory (ARROW-13650). Additionally, the query engine can feed into the dataset writer as a sink (ARROW-13542). The asynchronous scanner now properly respects backpressure (ARROW-13611, ARROW-14192), as does the writer (ARROW-14191). ORC datasets are supported (ARROW-13572) with support for column projection pushdown (ARROW-13797). The Parquet/IPC format readers now respect the batch_size scanner option (ARROW-14024). Also, the Parquet reader now properly implements readahead for better performance (ARROW-14026). IO and Filesystem Layer The retry strategy of S3FileSystem can be customized (ARROW-13508). When writing to an existing bucket as a user with limited permissions, Arrow will no longer emit a spurious “Access Denied” error (ARROW-13685). On MacOS with NFS mounts, a “[errno 25] Inappropriate ioctl for device” error was fixed (ARROW-13983). The basics of a Google Cloud Storage filesystem have been added; work is in progress for full support (ARROW-8147, ARROW-14222, ARROW-14223, ARROW-14232, ARROW-14236, ARROW-14345, ARROW-14157). JSON A crash was fixed when duplicate keys were present (ARROW-14109). Parquet Written min/max and null_count statistics for dictionary types were corrected (ARROW-11634, ARROW-12513). null_count statistics for columns that contain repeated data where corrected. file_offset for row groups was not being populated according to the specification, this issue has been corrected. Column selection now works for repeated columns and structs of more then one level. An error with large files when built with Thrift 0.14 was fixed (ARROW-13655). The ParquetVersion enum was updated with more values to support finer-grained Parquet format version selection (ARROW-13794). Writer performance was improved by avoiding repeated dynamic casts (ARROW-13965). C# notes This release includes improved support for dictionary arrays, as well as integration testing with the other Arrow implementations for the primitive and decimal types Go notes Bug Fixes Fixed handling of the zero value for Decimal128 FromBigInt #10796 Fixed various “too many releases” errors in the tests allowing all tests to be run using the assert build tag in CI from now on, including a bug when writing slices of String, Binary or FixedWidthType arrays via ipc.Writer #11270, #11276 Fixed builds on ARM and s390x architectures #11299, #11305 Enhancements Added Concatenate function for concatenating arrays Implemented Scalar values and MakeArrayFromScalar function #11252 Added cgo optional allocator for allocating memory using the C++ memory pool for use with the C Data import and export APIs Added support for Month, Day, Nano interval type #11310 Completed Encoding package for Parquet, added Metadata package. Version Compatibility Update Release process updated to add proper git tags for Go release for Module aware version tracking (#11312) meaning that this release will be correctly tagged as v6.0.0 in go.mod and pkg.go.dev and future releases will be correctly versioned with the Go module system. Java notes Some dependent libraries were upgraded. In particular, grpc upgraded to 1.41.0, netty upgraded to 2.0.43, and orc upgraded to 1.7.0. (ARROW-14198) (ARROW-14049) Fixed the problem of appending BitVectors in batch (ARROW-13981) Code coverage support enabled for Java (ARROW-13859) Fixed the incorrect string representations for unsigned integer vectors (ARROW-13792) Reduced the memory consumption of JDBC adapters by reusing record batches (ARROW-13733) Allowed NullVectors to have distinct field names (ARROW-13645) Some APIs that have been deprecated for long have been removed (ARROW-13544) Allowed passing empty columns for projection in Dataset (ARROW-13257) A Java implementation of Arrow C data interface was provided (ARROW-12965) JavaScript notes This release fixes builds with the latest TypeScript versions and ESM tree shaking. Deprecation notice: in Arrow 7, we will remove the compute code from Arrow JS. Python notes Many new pyarrow.compute functions are available (see the C++ notes above for more details), and introspection of the functions was improved so that they look more like standard Python functions. All Python functions and classes should now have documented parameters in the API reference. SIMD optimization is now enabled in M1 wheels Wheels are now built for more Python versions on M1 systems. PyArrow is now compatible with Python 3.10 Creating Arrow arrays now supports more than just numpy arrays as masks Printing Tables now previews the values in the columns copy_files is now available in Python Datasets now support ORC files Sets are now supported when building arrays or converting from pandas. 39 bugs have been fixed. R notes This release adds grouped aggregation and joins in the dplyr interface, on top of the new Arrow C++ query engine. There is also support for using duckdb to query Arrow datasets. For more details, see the complete R changelog. Ruby and C GLib notes Ruby The updates of Red Arrow etc. consists of the following improvements: Red Arrow Added Arrow::RecordBatchReader Support to convert an array of symbols to a dictionary array Add support for building and converting map Add support for group aggregation Use compute kernels for the implementation of slicers Support a Range and an Array of selectors in Arrow::Table#[] and Arrow::RecordBatch#[] Separate min and max aggregators Support a hash slicer; a scalar value is for equality matching, and a range is for between matching Add Arrow::TableConcatenateOptions and conversion from a Hash for convenience Add Arrow::Expression and conversion from Array and Hash for convenience Red Arrow Dataset Add support for loading from directories Add support for writing Add filter expression support in a loader Red Arrow Flight Add ArrowFlight::Client#do_get support C GLib The updates of Arrow GLib etc. consists of the following improvements: Arrow GLib Add the following new functions: garrow_record_batch_reader_new garrow_record_batch_reader_read_all garrow_union_scalar_get_type_code Add type_code supports in union scalar types Add C ABI support Add GArrowCountOptions and let count functions support it Add support for group aggregation Add GArrowSetLookupOptions for options of is_in and index_in kernels Add GArrowVarianceOptions to specify the calculation options for variance and standard deviation kernels Add GArrowFunctionDoc Add GArrowTableConcatenateOptions and let garrow_table_concatenate support it Add expressions support Arrow Dataset GLib Add support for writing data Support recursive scanning in a directory Add gadataset_scanner_builder_set_filter Make use_async of GADatasetScannerBuilder a property, and remove gadataset_scanner_builder_use_async Arrow Flight GLib Add DoGet support: New functions: gaflight_client_do_get and gaflight_server_do_get New classes: GAFlightStreamReader, GAFlightStreamChunk, GAFlightRecordBatchReader, GAFlightDataStream, GAFlightRecordBatchStream, and GAFlightServerCallContext Change the argument order of gaflight_client_list_flights function Parquet GLib Add gparquet_arrow_file_reader_get_n_rows function Rust notes Rust continues to release minor versions every 2 weeks in addition to a major version with the rest of the Arrow language implementations. Thus most enhancements have been incrementally released over the last 3 months as part of the 5.x. The DataFusion and Ballista sub projects have begun releasing at their own cadence which is expected to continue in the next few weeks. Major changes in the 6.0.0 release include support for the MapArray array type, improved lower level ArrayData APIs to better communicate safety, and a faster (but unstable) sorting kernel. For additional details on the 6.0.0 Rust implementation, please see the Arrow Rust CHANGELOG" />
<link rel="canonical" href="https://arrow.apache.org/blog/2021/11/04/6.0.0-release/" />
<meta property="og:url" content="https://arrow.apache.org/blog/2021/11/04/6.0.0-release/" />
<meta property="og:site_name" content="Apache Arrow" />
<meta property="og:image" content="https://arrow.apache.org/img/arrow-logo_horizontal_black-txt_white-bg.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-11-04T02:00:00-04:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://arrow.apache.org/img/arrow-logo_horizontal_black-txt_white-bg.png" />
<meta property="twitter:title" content="Apache Arrow 6.0.0 Release" />
<meta name="twitter:site" content="@ApacheArrow" />
<meta name="twitter:creator" content="@pmc" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"pmc"},"dateModified":"2021-11-04T02:00:00-04:00","datePublished":"2021-11-04T02:00:00-04:00","description":"The Apache Arrow team is pleased to announce the 6.0.0 release. This covers over 3 months of development work and includes 572 resolved issues from 77 distinct contributors. See the Install Page to learn how to get the libraries for your platform. The release notes below are not exhaustive and only expose selected highlights of the release. Many other bugfixes and improvements have been made: we refer you to the complete changelog. Community Since the 5.0.0 release, Nic Crane, QP Hou, Jiayu Liu, and Matt Topol have been invited to be committers, and Neville Dipale has joined the Project Management Committee (PMC). Thanks for your contributions and participation in the project! Columnar Format Notes A new calendar interval type consisting of Month, Day and Nanoseconds has been added to the specification. Reference implementations existing in Java, C++ and Python. Arrow Flight RPC notes GLib and Ruby have added bindings for Arrow Flight. While not part of the release, work is ongoing on Arrow Flight SQL, which defines a protocol for clients to communicate with SQL databases using Arrow Flight. For those interested in the project, please reach out on the mailing list. C++ notes The month-day-nano interval type has been added (ARROW-13628). Various APIs, including extension types and scalars, are no longer experimental (ARROW-5244). Support for Visual Studio 2015 was dropped (ARROW-14070). Compute Layer A basic in-memory query engine has been implemented and is accessible from the R bindings. Operations including filter, project, sort, equality joins, and various aggregations are supported. The following compute functions have been added: aggregate functions: approximate_median, count_distinct, max, min, product hash aggregate functions: hash_all, hash_any, hash_approximate_median, hash_count_distinct, hash_distinct, hash_max, hash_mean, hash_min, hash_product, hash_stdev, hash_variance scalar arithmetic functions: logb, round, round_to_multiple scalar string functions: ascii_capitalize, ascii_swapcase, ascii_title, utf8_capitalize, utf8_swapcase, utf8_title scalar temporal functions: assume_timezone, day_time_interval_between, days_between, hours_between, microseconds_between, milliseconds_between, minutes_between, month_day_nano_interval_between, month_interval_between, nanoseconds_between, quarters_between, seconds_between, strftime, us_week, week, weeks_between, years_between other scalar functions: choose, list_element vector functions: drop_null, select_k_unstable In general, type support has been improved for most of the compute functions, but work here is ongoing, particularly around decimal support. Crashes have been fixed in particular cases for take, filter, unique, and value_counts (ARROW-13474, ARROW-13509, ARROW-14129). Hash aggregations (i.e. group by) supports scalar and array values (ARROW-13737, ARROW-14027). Temporal functions are now timezone-aware (e.g. when extracting the hour of a timestamp) (ARROW-12980). count can optionally count all values, not just null or non-null values (ARROW-13574). fill_null has been replaced by the more general coalesce (ARROW-7179). is_null can optionally consider NaN as null (ARROW-12959). Sorting has been optimized (ARROW-10898, ARROW-14165). Also, null values can now be sorted at either the beginning or the end (ARROW-12063). CSV The CSV reader can read time32 and time64 types, and will infer time32 values for columns in the format “hh:mm” and “hh:mm:ss” (ARROW-11243). The decimal point can be customized when reading (ARROW-13421). The streaming reader will not unintentionally infer null-typed columns when using the various skip options (ARROW-13441). If a row has an incorrect number of columns, now the row can be skipped instead of raising an error (ARROW-12673). The option quoted_strings_can_be_null applies to all column types now, not just strings (ARROW-13580). When quoting is disabled entirely, the reader now takes advantage of this to improve performance (ARROW-14150). A CSVWriter object is now exposed, allowing for incremental writing (ARROW-11828). Dates can now be written (ARROW-12540). Dataset Layer The dataset writer was refactored, and now supports more options, including a limit on the number of files open at once, compatibility with the async scanner, a limit on the number of rows written per file, and control over what to do when files already exist in the target directory (ARROW-13650). Additionally, the query engine can feed into the dataset writer as a sink (ARROW-13542). The asynchronous scanner now properly respects backpressure (ARROW-13611, ARROW-14192), as does the writer (ARROW-14191). ORC datasets are supported (ARROW-13572) with support for column projection pushdown (ARROW-13797). The Parquet/IPC format readers now respect the batch_size scanner option (ARROW-14024). Also, the Parquet reader now properly implements readahead for better performance (ARROW-14026). IO and Filesystem Layer The retry strategy of S3FileSystem can be customized (ARROW-13508). When writing to an existing bucket as a user with limited permissions, Arrow will no longer emit a spurious “Access Denied” error (ARROW-13685). On MacOS with NFS mounts, a “[errno 25] Inappropriate ioctl for device” error was fixed (ARROW-13983). The basics of a Google Cloud Storage filesystem have been added; work is in progress for full support (ARROW-8147, ARROW-14222, ARROW-14223, ARROW-14232, ARROW-14236, ARROW-14345, ARROW-14157). JSON A crash was fixed when duplicate keys were present (ARROW-14109). Parquet Written min/max and null_count statistics for dictionary types were corrected (ARROW-11634, ARROW-12513). null_count statistics for columns that contain repeated data where corrected. file_offset for row groups was not being populated according to the specification, this issue has been corrected. Column selection now works for repeated columns and structs of more then one level. An error with large files when built with Thrift 0.14 was fixed (ARROW-13655). The ParquetVersion enum was updated with more values to support finer-grained Parquet format version selection (ARROW-13794). Writer performance was improved by avoiding repeated dynamic casts (ARROW-13965). C# notes This release includes improved support for dictionary arrays, as well as integration testing with the other Arrow implementations for the primitive and decimal types Go notes Bug Fixes Fixed handling of the zero value for Decimal128 FromBigInt #10796 Fixed various “too many releases” errors in the tests allowing all tests to be run using the assert build tag in CI from now on, including a bug when writing slices of String, Binary or FixedWidthType arrays via ipc.Writer #11270, #11276 Fixed builds on ARM and s390x architectures #11299, #11305 Enhancements Added Concatenate function for concatenating arrays Implemented Scalar values and MakeArrayFromScalar function #11252 Added cgo optional allocator for allocating memory using the C++ memory pool for use with the C Data import and export APIs Added support for Month, Day, Nano interval type #11310 Completed Encoding package for Parquet, added Metadata package. Version Compatibility Update Release process updated to add proper git tags for Go release for Module aware version tracking (#11312) meaning that this release will be correctly tagged as v6.0.0 in go.mod and pkg.go.dev and future releases will be correctly versioned with the Go module system. Java notes Some dependent libraries were upgraded. In particular, grpc upgraded to 1.41.0, netty upgraded to 2.0.43, and orc upgraded to 1.7.0. (ARROW-14198) (ARROW-14049) Fixed the problem of appending BitVectors in batch (ARROW-13981) Code coverage support enabled for Java (ARROW-13859) Fixed the incorrect string representations for unsigned integer vectors (ARROW-13792) Reduced the memory consumption of JDBC adapters by reusing record batches (ARROW-13733) Allowed NullVectors to have distinct field names (ARROW-13645) Some APIs that have been deprecated for long have been removed (ARROW-13544) Allowed passing empty columns for projection in Dataset (ARROW-13257) A Java implementation of Arrow C data interface was provided (ARROW-12965) JavaScript notes This release fixes builds with the latest TypeScript versions and ESM tree shaking. Deprecation notice: in Arrow 7, we will remove the compute code from Arrow JS. Python notes Many new pyarrow.compute functions are available (see the C++ notes above for more details), and introspection of the functions was improved so that they look more like standard Python functions. All Python functions and classes should now have documented parameters in the API reference. SIMD optimization is now enabled in M1 wheels Wheels are now built for more Python versions on M1 systems. PyArrow is now compatible with Python 3.10 Creating Arrow arrays now supports more than just numpy arrays as masks Printing Tables now previews the values in the columns copy_files is now available in Python Datasets now support ORC files Sets are now supported when building arrays or converting from pandas. 39 bugs have been fixed. R notes This release adds grouped aggregation and joins in the dplyr interface, on top of the new Arrow C++ query engine. There is also support for using duckdb to query Arrow datasets. For more details, see the complete R changelog. Ruby and C GLib notes Ruby The updates of Red Arrow etc. consists of the following improvements: Red Arrow Added Arrow::RecordBatchReader Support to convert an array of symbols to a dictionary array Add support for building and converting map Add support for group aggregation Use compute kernels for the implementation of slicers Support a Range and an Array of selectors in Arrow::Table#[] and Arrow::RecordBatch#[] Separate min and max aggregators Support a hash slicer; a scalar value is for equality matching, and a range is for between matching Add Arrow::TableConcatenateOptions and conversion from a Hash for convenience Add Arrow::Expression and conversion from Array and Hash for convenience Red Arrow Dataset Add support for loading from directories Add support for writing Add filter expression support in a loader Red Arrow Flight Add ArrowFlight::Client#do_get support C GLib The updates of Arrow GLib etc. consists of the following improvements: Arrow GLib Add the following new functions: garrow_record_batch_reader_new garrow_record_batch_reader_read_all garrow_union_scalar_get_type_code Add type_code supports in union scalar types Add C ABI support Add GArrowCountOptions and let count functions support it Add support for group aggregation Add GArrowSetLookupOptions for options of is_in and index_in kernels Add GArrowVarianceOptions to specify the calculation options for variance and standard deviation kernels Add GArrowFunctionDoc Add GArrowTableConcatenateOptions and let garrow_table_concatenate support it Add expressions support Arrow Dataset GLib Add support for writing data Support recursive scanning in a directory Add gadataset_scanner_builder_set_filter Make use_async of GADatasetScannerBuilder a property, and remove gadataset_scanner_builder_use_async Arrow Flight GLib Add DoGet support: New functions: gaflight_client_do_get and gaflight_server_do_get New classes: GAFlightStreamReader, GAFlightStreamChunk, GAFlightRecordBatchReader, GAFlightDataStream, GAFlightRecordBatchStream, and GAFlightServerCallContext Change the argument order of gaflight_client_list_flights function Parquet GLib Add gparquet_arrow_file_reader_get_n_rows function Rust notes Rust continues to release minor versions every 2 weeks in addition to a major version with the rest of the Arrow language implementations. Thus most enhancements have been incrementally released over the last 3 months as part of the 5.x. The DataFusion and Ballista sub projects have begun releasing at their own cadence which is expected to continue in the next few weeks. Major changes in the 6.0.0 release include support for the MapArray array type, improved lower level ArrayData APIs to better communicate safety, and a faster (but unstable) sorting kernel. For additional details on the 6.0.0 Rust implementation, please see the Arrow Rust CHANGELOG","headline":"Apache Arrow 6.0.0 Release","image":"https://arrow.apache.org/img/arrow-logo_horizontal_black-txt_white-bg.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://arrow.apache.org/blog/2021/11/04/6.0.0-release/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://arrow.apache.org/img/logo.png"},"name":"pmc"},"url":"https://arrow.apache.org/blog/2021/11/04/6.0.0-release/"}</script>
<!-- End Jekyll SEO tag -->


    <!-- favicons -->
    <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16.png" id="light1">
    <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png" id="light2">
    <link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/img/apple-touch-icon.png" id="light3">
    <link rel="apple-touch-icon" type="image/png" sizes="120x120" href="/img/apple-touch-icon-120x120.png" id="light4">
    <link rel="apple-touch-icon" type="image/png" sizes="76x76" href="/img/apple-touch-icon-76x76.png" id="light5">
    <link rel="apple-touch-icon" type="image/png" sizes="60x60" href="/img/apple-touch-icon-60x60.png" id="light6">
    <!-- dark mode favicons -->
    <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16-dark.png" id="dark1">
    <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32-dark.png" id="dark2">
    <link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/img/apple-touch-icon-dark.png" id="dark3">
    <link rel="apple-touch-icon" type="image/png" sizes="120x120" href="/img/apple-touch-icon-120x120-dark.png" id="dark4">
    <link rel="apple-touch-icon" type="image/png" sizes="76x76" href="/img/apple-touch-icon-76x76-dark.png" id="dark5">
    <link rel="apple-touch-icon" type="image/png" sizes="60x60" href="/img/apple-touch-icon-60x60-dark.png" id="dark6">

    <script>
      // Switch to the dark-mode favicons if prefers-color-scheme: dark
      function onUpdate() {
        light1 = document.querySelector('link#light1');
        light2 = document.querySelector('link#light2');
        light3 = document.querySelector('link#light3');
        light4 = document.querySelector('link#light4');
        light5 = document.querySelector('link#light5');
        light6 = document.querySelector('link#light6');

        dark1 = document.querySelector('link#dark1');
        dark2 = document.querySelector('link#dark2');
        dark3 = document.querySelector('link#dark3');
        dark4 = document.querySelector('link#dark4');
        dark5 = document.querySelector('link#dark5');
        dark6 = document.querySelector('link#dark6');

        if (matcher.matches) {
          light1.remove();
          light2.remove();
          light3.remove();
          light4.remove();
          light5.remove();
          light6.remove();
          document.head.append(dark1);
          document.head.append(dark2);
          document.head.append(dark3);
          document.head.append(dark4);
          document.head.append(dark5);
          document.head.append(dark6);
        } else {
          dark1.remove();
          dark2.remove();
          dark3.remove();
          dark4.remove();
          dark5.remove();
          dark6.remove();
          document.head.append(light1);
          document.head.append(light2);
          document.head.append(light3);
          document.head.append(light4);
          document.head.append(light5);
          document.head.append(light6);
        }
      }
      matcher = window.matchMedia('(prefers-color-scheme: dark)');
      matcher.addListener(onUpdate);
      onUpdate();
    </script>

    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic,900">

    <link href="/css/main.css" rel="stylesheet">
    <link href="/css/syntax.css" rel="stylesheet">
    <script src="/javascript/main.js"></script>
    
    <!-- Matomo -->
<script>
  var _paq = window._paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  /* We explicitly disable cookie tracking to avoid privacy issues */
  _paq.push(['disableCookies']);
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="https://analytics.apache.org/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '20']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Matomo Code -->

    
  </head>


<body class="wrap">
  <header>
    <nav class="navbar navbar-expand-md navbar-dark bg-dark">
  
  <a class="navbar-brand no-padding" href="/"><img src="/img/arrow-inverse-300px.png" height="40px"/></a>
  
   <button class="navbar-toggler ml-auto" type="button" data-toggle="collapse" data-target="#arrow-navbar" aria-controls="arrow-navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse justify-content-end" id="arrow-navbar">
      <ul class="nav navbar-nav">
        <li class="nav-item"><a class="nav-link" href="/overview/" role="button" aria-haspopup="true" aria-expanded="false">Overview</a></li>
        <li class="nav-item"><a class="nav-link" href="/faq/" role="button" aria-haspopup="true" aria-expanded="false">FAQ</a></li>
        <li class="nav-item"><a class="nav-link" href="/blog" role="button" aria-haspopup="true" aria-expanded="false">Blog</a></li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#"
             id="navbarDropdownGetArrow" role="button" data-toggle="dropdown"
             aria-haspopup="true" aria-expanded="false">
             Get Arrow
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownGetArrow">
            <a class="dropdown-item" href="/install/">Install</a>
            <a class="dropdown-item" href="/release/">Releases</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow">Source Code</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#"
             id="navbarDropdownDocumentation" role="button" data-toggle="dropdown"
             aria-haspopup="true" aria-expanded="false">
             Documentation
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownDocumentation">
            <a class="dropdown-item" href="/docs">Project Docs</a>
            <a class="dropdown-item" href="/docs/format/Columnar.html">Format</a>
            <hr/>
            <a class="dropdown-item" href="/docs/c_glib">C GLib</a>
            <a class="dropdown-item" href="/docs/cpp">C++</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow/blob/main/csharp/README.md">C#</a>
            <a class="dropdown-item" href="https://godoc.org/github.com/apache/arrow/go/arrow">Go</a>
            <a class="dropdown-item" href="/docs/java">Java</a>
            <a class="dropdown-item" href="/docs/js">JavaScript</a>
            <a class="dropdown-item" href="/julia/">Julia</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow/blob/main/matlab/README.md">MATLAB</a>
            <a class="dropdown-item" href="/docs/python">Python</a>
            <a class="dropdown-item" href="/docs/r">R</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow/blob/main/ruby/README.md">Ruby</a>
            <a class="dropdown-item" href="https://docs.rs/arrow/latest">Rust</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#"
             id="navbarDropdownSubprojects" role="button" data-toggle="dropdown"
             aria-haspopup="true" aria-expanded="false">
             Subprojects
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownSubprojects">
            <a class="dropdown-item" href="/adbc">ADBC</a>
            <a class="dropdown-item" href="/docs/format/Flight.html">Arrow Flight</a>
            <a class="dropdown-item" href="/docs/format/FlightSql.html">Arrow Flight SQL</a>
            <a class="dropdown-item" href="/datafusion">DataFusion</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#"
             id="navbarDropdownCommunity" role="button" data-toggle="dropdown"
             aria-haspopup="true" aria-expanded="false">
             Community
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownCommunity">
            <a class="dropdown-item" href="/community/">Communication</a>
            <a class="dropdown-item" href="/docs/developers/contributing.html">Contributing</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow/issues">Issue Tracker</a>
            <a class="dropdown-item" href="/committers/">Governance</a>
            <a class="dropdown-item" href="/use_cases/">Use Cases</a>
            <a class="dropdown-item" href="/powered_by/">Powered By</a>
            <a class="dropdown-item" href="/visual_identity/">Visual Identity</a>
            <a class="dropdown-item" href="/security/">Security</a>
            <a class="dropdown-item" href="https://www.apache.org/foundation/policies/conduct.html">Code of Conduct</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#"
             id="navbarDropdownASF" role="button" data-toggle="dropdown"
             aria-haspopup="true" aria-expanded="false">
             ASF Links
          </a>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownASF">
            <a class="dropdown-item" href="https://www.apache.org/">ASF Website</a>
            <a class="dropdown-item" href="https://www.apache.org/licenses/">License</a>
            <a class="dropdown-item" href="https://www.apache.org/foundation/sponsorship.html">Donate</a>
            <a class="dropdown-item" href="https://www.apache.org/foundation/thanks.html">Thanks</a>
            <a class="dropdown-item" href="https://www.apache.org/security/">Security</a>
          </div>
        </li>
      </ul>
    </div><!-- /.navbar-collapse -->
  </nav>

  </header>

  <div class="container p-4 pt-5">
    <div class="col-md-8 mx-auto">
      <main role="main" class="pb-5">
        
<h1>
  Apache Arrow 6.0.0 Release
</h1>
<hr class="mt-4 mb-3">



<p class="mb-4 pb-1">
  <span class="badge badge-secondary">Published</span>
  <span class="published mr-3">
    04 Nov 2021
  </span>
  <br />
  <span class="badge badge-secondary">By</span>
  
    <a class="mr-3" href="https://arrow.apache.org">The Apache Arrow PMC (pmc) </a>
  

  
</p>


        <!--

-->

<p>The Apache Arrow team is pleased to announce the 6.0.0 release. This covers
over 3 months of development work and includes <a href="https://issues.apache.org/jira/issues/?jql=project%20%3D%20ARROW%20AND%20status%20%3D%20Resolved%20AND%20fixVersion%20%3D%206.0.0"><strong>572 resolved issues</strong></a>
from <a href="/release/6.0.0.html#contributors"><strong>77 distinct contributors</strong></a>. See the Install Page to learn how to
get the libraries for your platform.</p>

<p>The release notes below are not exhaustive and only expose selected highlights
of the release. Many other bugfixes and improvements have been made: we refer
you to the <a href="/release/6.0.0.html">complete changelog</a>.</p>

<h2 id="community">Community</h2>

<p>Since the 5.0.0 release, Nic Crane, QP Hou, Jiayu Liu, and Matt Topol have been invited to be committers, and Neville Dipale has joined the Project Management Committee (PMC). Thanks for your contributions and participation in the project!</p>

<h2 id="columnar-format-notes">Columnar Format Notes</h2>

<p>A new calendar interval type consisting of Month, Day and Nanoseconds has been added to the specification.  Reference implementations existing in Java, C++ and Python.</p>

<h2 id="arrow-flight-rpc-notes">Arrow Flight RPC notes</h2>

<p>GLib and Ruby have added bindings for Arrow Flight.</p>

<p>While not part of the release, work is ongoing on Arrow Flight SQL, which defines a protocol for clients to communicate with SQL databases using Arrow Flight. For those interested in the project, please reach out on the <a href="https://arrow.apache.org/community/">mailing list</a>.</p>

<h2 id="c-notes">C++ notes</h2>

<p>The month-day-nano interval type has been added (ARROW-13628).</p>

<p>Various APIs, including extension types and scalars, are no longer experimental (ARROW-5244).</p>

<p>Support for Visual Studio 2015 was dropped (ARROW-14070).</p>

<h3 id="compute-layer">Compute Layer</h3>

<p>A basic in-memory query engine has been implemented and is accessible from the R bindings. Operations including filter, project, sort, equality joins, and various aggregations are supported.</p>

<p>The following compute functions have been added:</p>

<ul>
  <li>aggregate functions: <code class="language-plaintext highlighter-rouge">approximate_median</code>, <code class="language-plaintext highlighter-rouge">count_distinct</code>, <code class="language-plaintext highlighter-rouge">max</code>, <code class="language-plaintext highlighter-rouge">min</code>, <code class="language-plaintext highlighter-rouge">product</code></li>
  <li>hash aggregate functions: <code class="language-plaintext highlighter-rouge">hash_all</code>, <code class="language-plaintext highlighter-rouge">hash_any</code>, <code class="language-plaintext highlighter-rouge">hash_approximate_median</code>, <code class="language-plaintext highlighter-rouge">hash_count_distinct</code>, <code class="language-plaintext highlighter-rouge">hash_distinct</code>, <code class="language-plaintext highlighter-rouge">hash_max</code>, <code class="language-plaintext highlighter-rouge">hash_mean</code>, <code class="language-plaintext highlighter-rouge">hash_min</code>, <code class="language-plaintext highlighter-rouge">hash_product</code>, <code class="language-plaintext highlighter-rouge">hash_stdev</code>, <code class="language-plaintext highlighter-rouge">hash_variance</code></li>
  <li>scalar arithmetic functions: <code class="language-plaintext highlighter-rouge">logb</code>, <code class="language-plaintext highlighter-rouge">round</code>, <code class="language-plaintext highlighter-rouge">round_to_multiple</code></li>
  <li>scalar string functions: <code class="language-plaintext highlighter-rouge">ascii_capitalize</code>, <code class="language-plaintext highlighter-rouge">ascii_swapcase</code>, <code class="language-plaintext highlighter-rouge">ascii_title</code>, <code class="language-plaintext highlighter-rouge">utf8_capitalize</code>, <code class="language-plaintext highlighter-rouge">utf8_swapcase</code>, <code class="language-plaintext highlighter-rouge">utf8_title</code></li>
  <li>scalar temporal functions: <code class="language-plaintext highlighter-rouge">assume_timezone</code>, <code class="language-plaintext highlighter-rouge">day_time_interval_between</code>, <code class="language-plaintext highlighter-rouge">days_between</code>, <code class="language-plaintext highlighter-rouge">hours_between</code>, <code class="language-plaintext highlighter-rouge">microseconds_between</code>, <code class="language-plaintext highlighter-rouge">milliseconds_between</code>, <code class="language-plaintext highlighter-rouge">minutes_between</code>, <code class="language-plaintext highlighter-rouge">month_day_nano_interval_between</code>, <code class="language-plaintext highlighter-rouge">month_interval_between</code>, <code class="language-plaintext highlighter-rouge">nanoseconds_between</code>, <code class="language-plaintext highlighter-rouge">quarters_between</code>, <code class="language-plaintext highlighter-rouge">seconds_between</code>, <code class="language-plaintext highlighter-rouge">strftime</code>, <code class="language-plaintext highlighter-rouge">us_week</code>, <code class="language-plaintext highlighter-rouge">week</code>, <code class="language-plaintext highlighter-rouge">weeks_between</code>, <code class="language-plaintext highlighter-rouge">years_between</code></li>
  <li>other scalar functions: <code class="language-plaintext highlighter-rouge">choose</code>, <code class="language-plaintext highlighter-rouge">list_element</code></li>
  <li>vector functions: <code class="language-plaintext highlighter-rouge">drop_null</code>, <code class="language-plaintext highlighter-rouge">select_k_unstable</code></li>
</ul>

<p>In general, type support has been improved for most of the compute functions, but work here is ongoing, particularly around decimal support.</p>

<p>Crashes have been fixed in particular cases for <code class="language-plaintext highlighter-rouge">take</code>, <code class="language-plaintext highlighter-rouge">filter</code>, <code class="language-plaintext highlighter-rouge">unique</code>, and <code class="language-plaintext highlighter-rouge">value_counts</code> (ARROW-13474, ARROW-13509, ARROW-14129).</p>

<p>Hash aggregations (i.e. group by) supports scalar and array values (ARROW-13737, ARROW-14027).</p>

<p>Temporal functions are now timezone-aware (e.g. when extracting the hour of a timestamp) (ARROW-12980).</p>

<p><code class="language-plaintext highlighter-rouge">count</code> can optionally count all values, not just null or non-null values (ARROW-13574).</p>

<p><code class="language-plaintext highlighter-rouge">fill_null</code> has been replaced by the more general <code class="language-plaintext highlighter-rouge">coalesce</code> (ARROW-7179).</p>

<p><code class="language-plaintext highlighter-rouge">is_null</code> can optionally consider NaN as null (ARROW-12959).</p>

<p>Sorting has been optimized (ARROW-10898, ARROW-14165). Also, null values can now be sorted at either the beginning or the end (ARROW-12063).</p>

<h3 id="csv">CSV</h3>

<p>The CSV reader can read time32 and time64 types, and will infer time32 values for columns in the format “hh:mm” and “hh:mm:ss” (ARROW-11243).</p>

<p>The decimal point can be customized when reading (ARROW-13421).</p>

<p>The streaming reader will not unintentionally infer null-typed columns when using the various skip options (ARROW-13441).</p>

<p>If a row has an incorrect number of columns, now the row can be skipped instead of raising an error (ARROW-12673).</p>

<p>The option <code class="language-plaintext highlighter-rouge">quoted_strings_can_be_null</code> applies to all column types now, not just strings (ARROW-13580). When quoting is disabled entirely, the reader now takes advantage of this to improve performance (ARROW-14150).</p>

<p>A CSVWriter object is now exposed, allowing for incremental writing (ARROW-11828). Dates can now be written (ARROW-12540).</p>

<h3 id="dataset-layer">Dataset Layer</h3>

<p>The dataset writer was refactored, and now supports more options, including a limit on the number of files open at once, compatibility with the async scanner, a limit on the number of rows written per file, and control over what to do when files already exist in the target directory (ARROW-13650). Additionally, the query engine can feed into the dataset writer as a sink (ARROW-13542).</p>

<p>The asynchronous scanner now properly respects backpressure (ARROW-13611, ARROW-14192), as does the writer (ARROW-14191).</p>

<p>ORC datasets are supported (ARROW-13572) with support for column projection pushdown (ARROW-13797).</p>

<p>The Parquet/IPC format readers now respect the batch_size scanner option (ARROW-14024). Also, the Parquet reader now properly implements readahead for better performance (ARROW-14026).</p>

<h3 id="io-and-filesystem-layer">IO and Filesystem Layer</h3>

<p>The retry strategy of S3FileSystem can be customized (ARROW-13508). When writing to an existing bucket as a user with limited permissions, Arrow will no longer emit a spurious “Access Denied” error (ARROW-13685).</p>

<p>On MacOS with NFS mounts, a “[errno 25] Inappropriate ioctl for device” error was fixed (ARROW-13983).</p>

<p>The basics of a Google Cloud Storage filesystem have been added; work is in progress for full support (ARROW-8147, ARROW-14222, ARROW-14223, ARROW-14232, ARROW-14236, ARROW-14345, ARROW-14157).</p>

<h3 id="json">JSON</h3>

<p>A crash was fixed when duplicate keys were present (ARROW-14109).</p>

<h3 id="parquet">Parquet</h3>

<p>Written min/max and null_count statistics for dictionary types were corrected (ARROW-11634, ARROW-12513).
null_count statistics for columns that contain repeated data where corrected.</p>

<p>file_offset for row groups was not being populated according to the specification, this issue has been corrected.</p>

<p>Column selection now works for repeated columns and structs of more then one level.</p>

<p>An error with large files when built with Thrift 0.14 was fixed (ARROW-13655).</p>

<p>The ParquetVersion enum was updated with more values to support finer-grained Parquet format version selection (ARROW-13794).</p>

<p>Writer performance was improved by avoiding repeated dynamic casts (ARROW-13965).</p>

<h2 id="c-notes-1">C# notes</h2>

<p>This release includes improved support for dictionary arrays, as well as integration testing with the other Arrow implementations for the primitive and decimal types</p>

<h2 id="go-notes">Go notes</h2>

<h3 id="bug-fixes">Bug Fixes</h3>

<ul>
  <li>Fixed handling of the zero value for Decimal128 <code class="language-plaintext highlighter-rouge">FromBigInt</code> <a href="https://github.com/apache/arrow/pull/10796">#10796</a></li>
  <li>Fixed various “too many releases” errors in the tests allowing all tests to be run using the <code class="language-plaintext highlighter-rouge">assert</code> build tag in CI from now on, including a bug when writing slices of String, Binary or FixedWidthType arrays via ipc.Writer <a href="https://github.com/apache/arrow/pull/11270">#11270</a>, <a href="https://github.com/apache/arrow/pull/11276">#11276</a></li>
  <li>Fixed builds on ARM and s390x architectures <a href="https://github.com/apache/arrow/pull/11299">#11299</a>, <a href="https://github.com/apache/arrow/pull/11305">#11305</a></li>
</ul>

<h3 id="enhancements">Enhancements</h3>

<ul>
  <li>Added <a href="https://github.com/apache/arrow/pull/11128">Concatenate</a> function for concatenating arrays</li>
  <li>Implemented <a href="https://github.com/apache/arrow/pull/11024">Scalar</a> values and <code class="language-plaintext highlighter-rouge">MakeArrayFromScalar</code> function <a href="https://github.com/apache/arrow/pull/11252">#11252</a></li>
  <li>Added cgo <a href="https://github.com/apache/arrow/pull/11206">optional allocator</a> for allocating memory using the C++ memory pool for use with the C Data <a href="https://github.com/apache/arrow/pull/11037">import</a> and <a href="https://github.com/apache/arrow/pull/11220">export</a> APIs</li>
  <li>Added support for Month, Day, Nano interval type <a href="https://github.com/apache/arrow/pull/11310">#11310</a></li>
  <li>Completed <a href="https://github.com/apache/arrow/pull/10716">Encoding</a> package for Parquet, added <a href="https://github.com/apache/arrow/pull/10951">Metadata</a> package.</li>
</ul>

<h3 id="version-compatibility-update">Version Compatibility Update</h3>

<ul>
  <li>Release process updated to add proper git tags for Go release for Module aware version tracking (<a href="https://github.com/apache/arrow/pull/11312">#11312</a>) meaning that this release will be correctly tagged as v6.0.0 in go.mod and pkg.go.dev and future releases will be correctly versioned with the Go module system.</li>
</ul>

<h2 id="java-notes">Java notes</h2>
<ul>
  <li>Some dependent libraries were upgraded. In particular, grpc upgraded to 1.41.0, netty upgraded to 2.0.43, and orc upgraded to 1.7.0. (ARROW-14198) (ARROW-14049)</li>
  <li>Fixed the problem of appending BitVectors in batch (ARROW-13981)</li>
  <li>Code coverage support enabled for Java (ARROW-13859)</li>
  <li>Fixed the incorrect string representations for unsigned integer vectors (ARROW-13792)</li>
  <li>Reduced the memory consumption of JDBC adapters by reusing record batches (ARROW-13733)</li>
  <li>Allowed NullVectors to have distinct field names (ARROW-13645)</li>
  <li>Some APIs that have been deprecated for long have been removed (ARROW-13544)</li>
  <li>Allowed passing empty columns for projection in Dataset (ARROW-13257)</li>
  <li>A Java implementation of Arrow C data interface was provided (ARROW-12965)</li>
</ul>

<h2 id="javascript-notes">JavaScript notes</h2>

<p>This release fixes builds with the latest TypeScript versions and ESM tree shaking.</p>

<p>Deprecation notice: in Arrow 7, we will remove the compute code from Arrow JS.</p>

<h2 id="python-notes">Python notes</h2>

<ul>
  <li>Many new <code class="language-plaintext highlighter-rouge">pyarrow.compute</code> functions are available (see the C++ notes above for more details), and introspection of the functions was improved so that they look more like standard Python functions.</li>
  <li>All Python functions and classes should now have documented parameters in the API reference.</li>
  <li>SIMD optimization is now enabled in M1 wheels</li>
  <li>Wheels are now built for more Python versions on M1 systems.</li>
  <li>PyArrow is now compatible with Python 3.10</li>
  <li>Creating Arrow arrays now supports more than just numpy arrays as masks</li>
  <li>Printing Tables now previews the values in the columns</li>
  <li><code class="language-plaintext highlighter-rouge">copy_files</code> is now available in Python</li>
  <li>Datasets now support ORC files</li>
  <li>Sets are now supported when building arrays or converting from pandas.</li>
  <li>39 bugs have been fixed.</li>
</ul>

<h2 id="r-notes">R notes</h2>

<p>This release adds grouped aggregation and joins in the <code class="language-plaintext highlighter-rouge">dplyr</code> interface, on top of the new Arrow C++ query engine. There is also support for using <code class="language-plaintext highlighter-rouge">duckdb</code> to query Arrow datasets. For more details, see the <a href="/docs/r/news/">complete R changelog</a>.</p>

<h2 id="ruby-and-c-glib-notes">Ruby and C GLib notes</h2>

<h3 id="ruby">Ruby</h3>

<p>The updates of Red Arrow etc. consists of the following improvements:</p>

<ul>
  <li>Red Arrow
    <ul>
      <li>Added <code class="language-plaintext highlighter-rouge">Arrow::RecordBatchReader</code></li>
      <li>Support to convert an array of symbols to a dictionary array</li>
      <li>Add support for building and converting map</li>
      <li>Add support for group aggregation</li>
      <li>Use compute kernels for the implementation of slicers</li>
      <li>Support a Range and an Array of selectors in <code class="language-plaintext highlighter-rouge">Arrow::Table#[]</code> and <code class="language-plaintext highlighter-rouge">Arrow::RecordBatch#[]</code></li>
      <li>Separate min and max aggregators</li>
      <li>Support a hash slicer; a scalar value is for equality matching, and a range is for between matching</li>
      <li>Add <code class="language-plaintext highlighter-rouge">Arrow::TableConcatenateOptions</code> and conversion from a <code class="language-plaintext highlighter-rouge">Hash</code> for convenience</li>
      <li>Add <code class="language-plaintext highlighter-rouge">Arrow::Expression</code> and conversion from <code class="language-plaintext highlighter-rouge">Array</code> and <code class="language-plaintext highlighter-rouge">Hash</code> for convenience</li>
    </ul>
  </li>
  <li>Red Arrow Dataset
    <ul>
      <li>Add support for loading from directories</li>
      <li>Add support for writing</li>
      <li>Add filter expression support in a loader</li>
    </ul>
  </li>
  <li>Red Arrow Flight
    <ul>
      <li>Add <code class="language-plaintext highlighter-rouge">ArrowFlight::Client#do_get</code> support</li>
    </ul>
  </li>
</ul>

<h3 id="c-glib">C GLib</h3>

<p>The updates of Arrow GLib etc. consists of the following improvements:</p>

<ul>
  <li>Arrow GLib
    <ul>
      <li>Add the following new functions:
        <ul>
          <li><code class="language-plaintext highlighter-rouge">garrow_record_batch_reader_new</code></li>
          <li><code class="language-plaintext highlighter-rouge">garrow_record_batch_reader_read_all</code></li>
          <li><code class="language-plaintext highlighter-rouge">garrow_union_scalar_get_type_code</code></li>
        </ul>
      </li>
      <li>Add <code class="language-plaintext highlighter-rouge">type_code</code> supports in union scalar types</li>
      <li>Add C ABI support</li>
      <li>Add <code class="language-plaintext highlighter-rouge">GArrowCountOptions</code> and let count functions support it</li>
      <li>Add support for group aggregation</li>
      <li>Add <code class="language-plaintext highlighter-rouge">GArrowSetLookupOptions</code> for options of <code class="language-plaintext highlighter-rouge">is_in</code> and <code class="language-plaintext highlighter-rouge">index_in</code> kernels</li>
      <li>Add <code class="language-plaintext highlighter-rouge">GArrowVarianceOptions</code> to specify the calculation options for variance and standard deviation kernels</li>
      <li>Add <code class="language-plaintext highlighter-rouge">GArrowFunctionDoc</code></li>
      <li>Add <code class="language-plaintext highlighter-rouge">GArrowTableConcatenateOptions</code> and let <code class="language-plaintext highlighter-rouge">garrow_table_concatenate</code> support it</li>
      <li>Add expressions support</li>
    </ul>
  </li>
  <li>Arrow Dataset GLib
    <ul>
      <li>Add support for writing data</li>
      <li>Support recursive scanning in a directory</li>
      <li>Add <code class="language-plaintext highlighter-rouge">gadataset_scanner_builder_set_filter</code></li>
      <li>Make <code class="language-plaintext highlighter-rouge">use_async</code> of <code class="language-plaintext highlighter-rouge">GADatasetScannerBuilder</code> a property, and remove <code class="language-plaintext highlighter-rouge">gadataset_scanner_builder_use_async</code></li>
    </ul>
  </li>
  <li>Arrow Flight GLib
    <ul>
      <li>Add DoGet support:
        <ul>
          <li>New functions: <code class="language-plaintext highlighter-rouge">gaflight_client_do_get</code> and <code class="language-plaintext highlighter-rouge">gaflight_server_do_get</code></li>
          <li>New classes: <code class="language-plaintext highlighter-rouge">GAFlightStreamReader</code>, <code class="language-plaintext highlighter-rouge">GAFlightStreamChunk</code>, <code class="language-plaintext highlighter-rouge">GAFlightRecordBatchReader</code>,  <code class="language-plaintext highlighter-rouge">GAFlightDataStream</code>, <code class="language-plaintext highlighter-rouge">GAFlightRecordBatchStream</code>, and <code class="language-plaintext highlighter-rouge">GAFlightServerCallContext</code></li>
        </ul>
      </li>
      <li>Change the argument order of <code class="language-plaintext highlighter-rouge">gaflight_client_list_flights</code> function</li>
    </ul>
  </li>
  <li>Parquet GLib
    <ul>
      <li>Add <code class="language-plaintext highlighter-rouge">gparquet_arrow_file_reader_get_n_rows</code> function</li>
    </ul>
  </li>
</ul>

<h2 id="rust-notes">Rust notes</h2>

<p>Rust continues to release minor versions every 2 weeks in addition to
a major version with the rest of the Arrow language
implementations. Thus most enhancements have been incrementally
released over the last 3 months as part of the 5.x.</p>

<p>The DataFusion and Ballista sub projects have begun releasing at their
own cadence which is expected to continue in the next few weeks.</p>

<p>Major changes in the 6.0.0 release include support for the <code class="language-plaintext highlighter-rouge">MapArray</code>
array type, improved lower level <code class="language-plaintext highlighter-rouge">ArrayData</code> APIs to better
communicate safety, and a faster (but unstable) sorting kernel.</p>

<p>For additional details on the 6.0.0
Rust implementation, please see the <a href="https://github.com/apache/arrow-rs/blob/6.0.0/CHANGELOG.md">Arrow Rust
CHANGELOG</a></p>


      </main>
    </div>

    <hr/>
<footer class="footer">
  <div class="row">
    <div class="col-md-9">
      <p>Apache Arrow, Arrow, Apache, the Apache feather logo, and the Apache Arrow project logo are either registered trademarks or trademarks of The Apache Software Foundation in the United States and other countries.</p>
      <p>&copy; 2016-2023 The Apache Software Foundation</p>
    </div>
    <div class="col-md-3">
      <a class="d-sm-none d-md-inline pr-2" href="https://www.apache.org/events/current-event.html">
        <img src="https://www.apache.org/events/current-event-234x60.png"/>
      </a>
    </div>
  </div>
</footer>

  </div>
</body>
</html>
