<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above meta tags *must* come first in the head; any other head content must come *after* these tags -->
    
    <title>Apache Arrow DataFusion 6.0.0 Release | Apache Arrow</title>
    

    <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="Apache Arrow DataFusion 6.0.0 Release" />
<meta name="author" content="pmc" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Introduction DataFusion is an embedded query engine which leverages the unique features of Rust and Apache Arrow to provide a system that is high performance, easy to connect, easy to embed, and high quality. The Apache Arrow team is pleased to announce the DataFusion 6.0.0 release. This covers 4 months of development work and includes 134 commits from the following 28 distinct contributors. 28 Andrew Lamb 26 Jiayu Liu 13 xudong963 9 rdettai 9 QP Hou 6 Matthew Turner 5 Daniël Heres 4 Guillaume Balaine 3 Francis Du 3 Marco Neumann 3 Jon Mease 3 Nga Tran 2 Yijie Shen 2 Ruihang Xia 2 Liang-Chi Hsieh 2 baishen 2 Andy Grove 2 Jason Tianyi Wang 1 Nan Zhu 1 Antoine Wendlinger 1 Krisztián Szűcs 1 Mike Seddon 1 Conner Murphy 1 Patrick More 1 Taehoon Moon 1 Tiphaine Ruy 1 adsharma 1 lichuan6 The release notes below are not exhaustive and only expose selected highlights of the release. Many other bug fixes and improvements have been made: we refer you to the complete changelog. New Website Befitting a growing project, DataFusion now has its own website hosted as part of the main Apache Arrow Website Roadmap The community worked to gather their thoughts about where we are taking DataFusion into a public Roadmap for the first time New Features Runtime operator metrics collection framework Object store abstraction for unified access to local or remote storage Hive style table partitioning support, for Parquet, CSV, Avro and Json files DataFrame API support for: except, intersect, show, limit and window functions SQL EXPLAIN ANALYZE with runtime metrics trim ( [ LEADING | TRAILING | BOTH ] [ FROM ] string text [, characters text ] ) syntax Postgres style regular expression matching operators ~, ~*, !~, and !~* SQL set operators UNION, INTERSECT, and EXCEPT cume_dist, percent_rank window functions digest, blake2s, blake2b, blake3 crypto functions HyperLogLog based approx_distinct is distinct from and is not distinct from CREATE TABLE AS SELECT Accessing elements of nested Struct and List columns (e.g. SELECT struct_column[&#39;field_name&#39;], array_column[0] FROM ...) Boolean expressions in CASE statement DROP TABLE VALUES List Postgres regex match operators Support for Avro format Support for ScalarValue::Struct Automatic schema inference for CSV files Better interactive editing support in datafusion-cli as well as psql style commands such as \d, \?, and \q Generic constant evaluation and simplification framework Added common subexpression eliminate query plan optimization rule Python binding 0.4.0 with all Datafusion 6.0.0 features With these new features, we are also now passing TPC-H queries 8, 13 and 21. For the full list of new features with their relevant PRs, see the enhancements section in the changelog. async planning and decoupling file format from table layout Driven by the need to support Hive style table partitioning, @rdettai introduced the following design change to the Datafusion core. The code for reading specific file formats (Parquet, Avro, CSV, and JSON) was separated from the logic that handles grouping sets of files into execution partitions. The query planning process was made async. As a result, we are able to replace the old Parquet, CSV and JSON table providers with a single ListingTable table provider. This also sets up DataFusion and its plug-in ecosystem to supporting a wide range of catalogs and various object store implementations. You can read more about this change in the design document and on the arrow-datafusion#1010 PR. How to Get Involved If you are interested in contributing to DataFusion, we would love to have you! You can help by trying out DataFusion on some of your own data and projects and filing bug reports and helping to improve the documentation, or contribute to the documentation, tests or code. A list of open issues suitable for beginners is here and the full list is here. Check out our new Communication Doc on more ways to engage with the community." />
<meta property="og:description" content="Introduction DataFusion is an embedded query engine which leverages the unique features of Rust and Apache Arrow to provide a system that is high performance, easy to connect, easy to embed, and high quality. The Apache Arrow team is pleased to announce the DataFusion 6.0.0 release. This covers 4 months of development work and includes 134 commits from the following 28 distinct contributors. 28 Andrew Lamb 26 Jiayu Liu 13 xudong963 9 rdettai 9 QP Hou 6 Matthew Turner 5 Daniël Heres 4 Guillaume Balaine 3 Francis Du 3 Marco Neumann 3 Jon Mease 3 Nga Tran 2 Yijie Shen 2 Ruihang Xia 2 Liang-Chi Hsieh 2 baishen 2 Andy Grove 2 Jason Tianyi Wang 1 Nan Zhu 1 Antoine Wendlinger 1 Krisztián Szűcs 1 Mike Seddon 1 Conner Murphy 1 Patrick More 1 Taehoon Moon 1 Tiphaine Ruy 1 adsharma 1 lichuan6 The release notes below are not exhaustive and only expose selected highlights of the release. Many other bug fixes and improvements have been made: we refer you to the complete changelog. New Website Befitting a growing project, DataFusion now has its own website hosted as part of the main Apache Arrow Website Roadmap The community worked to gather their thoughts about where we are taking DataFusion into a public Roadmap for the first time New Features Runtime operator metrics collection framework Object store abstraction for unified access to local or remote storage Hive style table partitioning support, for Parquet, CSV, Avro and Json files DataFrame API support for: except, intersect, show, limit and window functions SQL EXPLAIN ANALYZE with runtime metrics trim ( [ LEADING | TRAILING | BOTH ] [ FROM ] string text [, characters text ] ) syntax Postgres style regular expression matching operators ~, ~*, !~, and !~* SQL set operators UNION, INTERSECT, and EXCEPT cume_dist, percent_rank window functions digest, blake2s, blake2b, blake3 crypto functions HyperLogLog based approx_distinct is distinct from and is not distinct from CREATE TABLE AS SELECT Accessing elements of nested Struct and List columns (e.g. SELECT struct_column[&#39;field_name&#39;], array_column[0] FROM ...) Boolean expressions in CASE statement DROP TABLE VALUES List Postgres regex match operators Support for Avro format Support for ScalarValue::Struct Automatic schema inference for CSV files Better interactive editing support in datafusion-cli as well as psql style commands such as \d, \?, and \q Generic constant evaluation and simplification framework Added common subexpression eliminate query plan optimization rule Python binding 0.4.0 with all Datafusion 6.0.0 features With these new features, we are also now passing TPC-H queries 8, 13 and 21. For the full list of new features with their relevant PRs, see the enhancements section in the changelog. async planning and decoupling file format from table layout Driven by the need to support Hive style table partitioning, @rdettai introduced the following design change to the Datafusion core. The code for reading specific file formats (Parquet, Avro, CSV, and JSON) was separated from the logic that handles grouping sets of files into execution partitions. The query planning process was made async. As a result, we are able to replace the old Parquet, CSV and JSON table providers with a single ListingTable table provider. This also sets up DataFusion and its plug-in ecosystem to supporting a wide range of catalogs and various object store implementations. You can read more about this change in the design document and on the arrow-datafusion#1010 PR. How to Get Involved If you are interested in contributing to DataFusion, we would love to have you! You can help by trying out DataFusion on some of your own data and projects and filing bug reports and helping to improve the documentation, or contribute to the documentation, tests or code. A list of open issues suitable for beginners is here and the full list is here. Check out our new Communication Doc on more ways to engage with the community." />
<link rel="canonical" href="https://arrow.apache.org/blog/2021/11/19/datafusion-6.0.0/" />
<meta property="og:url" content="https://arrow.apache.org/blog/2021/11/19/datafusion-6.0.0/" />
<meta property="og:site_name" content="Apache Arrow" />
<meta property="og:image" content="https://arrow.apache.org/img/arrow-logo_horizontal_black-txt_white-bg.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-11-19T00:00:00-05:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://arrow.apache.org/img/arrow-logo_horizontal_black-txt_white-bg.png" />
<meta property="twitter:title" content="Apache Arrow DataFusion 6.0.0 Release" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"pmc"},"dateModified":"2021-11-19T00:00:00-05:00","datePublished":"2021-11-19T00:00:00-05:00","description":"Introduction DataFusion is an embedded query engine which leverages the unique features of Rust and Apache Arrow to provide a system that is high performance, easy to connect, easy to embed, and high quality. The Apache Arrow team is pleased to announce the DataFusion 6.0.0 release. This covers 4 months of development work and includes 134 commits from the following 28 distinct contributors. 28 Andrew Lamb 26 Jiayu Liu 13 xudong963 9 rdettai 9 QP Hou 6 Matthew Turner 5 Daniël Heres 4 Guillaume Balaine 3 Francis Du 3 Marco Neumann 3 Jon Mease 3 Nga Tran 2 Yijie Shen 2 Ruihang Xia 2 Liang-Chi Hsieh 2 baishen 2 Andy Grove 2 Jason Tianyi Wang 1 Nan Zhu 1 Antoine Wendlinger 1 Krisztián Szűcs 1 Mike Seddon 1 Conner Murphy 1 Patrick More 1 Taehoon Moon 1 Tiphaine Ruy 1 adsharma 1 lichuan6 The release notes below are not exhaustive and only expose selected highlights of the release. Many other bug fixes and improvements have been made: we refer you to the complete changelog. New Website Befitting a growing project, DataFusion now has its own website hosted as part of the main Apache Arrow Website Roadmap The community worked to gather their thoughts about where we are taking DataFusion into a public Roadmap for the first time New Features Runtime operator metrics collection framework Object store abstraction for unified access to local or remote storage Hive style table partitioning support, for Parquet, CSV, Avro and Json files DataFrame API support for: except, intersect, show, limit and window functions SQL EXPLAIN ANALYZE with runtime metrics trim ( [ LEADING | TRAILING | BOTH ] [ FROM ] string text [, characters text ] ) syntax Postgres style regular expression matching operators ~, ~*, !~, and !~* SQL set operators UNION, INTERSECT, and EXCEPT cume_dist, percent_rank window functions digest, blake2s, blake2b, blake3 crypto functions HyperLogLog based approx_distinct is distinct from and is not distinct from CREATE TABLE AS SELECT Accessing elements of nested Struct and List columns (e.g. SELECT struct_column[&#39;field_name&#39;], array_column[0] FROM ...) Boolean expressions in CASE statement DROP TABLE VALUES List Postgres regex match operators Support for Avro format Support for ScalarValue::Struct Automatic schema inference for CSV files Better interactive editing support in datafusion-cli as well as psql style commands such as \\d, \\?, and \\q Generic constant evaluation and simplification framework Added common subexpression eliminate query plan optimization rule Python binding 0.4.0 with all Datafusion 6.0.0 features With these new features, we are also now passing TPC-H queries 8, 13 and 21. For the full list of new features with their relevant PRs, see the enhancements section in the changelog. async planning and decoupling file format from table layout Driven by the need to support Hive style table partitioning, @rdettai introduced the following design change to the Datafusion core. The code for reading specific file formats (Parquet, Avro, CSV, and JSON) was separated from the logic that handles grouping sets of files into execution partitions. The query planning process was made async. As a result, we are able to replace the old Parquet, CSV and JSON table providers with a single ListingTable table provider. This also sets up DataFusion and its plug-in ecosystem to supporting a wide range of catalogs and various object store implementations. You can read more about this change in the design document and on the arrow-datafusion#1010 PR. How to Get Involved If you are interested in contributing to DataFusion, we would love to have you! You can help by trying out DataFusion on some of your own data and projects and filing bug reports and helping to improve the documentation, or contribute to the documentation, tests or code. A list of open issues suitable for beginners is here and the full list is here. Check out our new Communication Doc on more ways to engage with the community.","headline":"Apache Arrow DataFusion 6.0.0 Release","image":"https://arrow.apache.org/img/arrow-logo_horizontal_black-txt_white-bg.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://arrow.apache.org/blog/2021/11/19/datafusion-6.0.0/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://arrow.apache.org/img/logo.png"},"name":"pmc"},"url":"https://arrow.apache.org/blog/2021/11/19/datafusion-6.0.0/"}</script>
<!-- End Jekyll SEO tag -->


    <!-- favicons -->
    <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16.png" id="light1">
    <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png" id="light2">
    <link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/img/apple-touch-icon.png" id="light3">
    <link rel="apple-touch-icon" type="image/png" sizes="120x120" href="/img/apple-touch-icon-120x120.png" id="light4">
    <link rel="apple-touch-icon" type="image/png" sizes="76x76" href="/img/apple-touch-icon-76x76.png" id="light5">
    <link rel="apple-touch-icon" type="image/png" sizes="60x60" href="/img/apple-touch-icon-60x60.png" id="light6">
    <!-- dark mode favicons -->
    <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16-dark.png" id="dark1">
    <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32-dark.png" id="dark2">
    <link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/img/apple-touch-icon-dark.png" id="dark3">
    <link rel="apple-touch-icon" type="image/png" sizes="120x120" href="/img/apple-touch-icon-120x120-dark.png" id="dark4">
    <link rel="apple-touch-icon" type="image/png" sizes="76x76" href="/img/apple-touch-icon-76x76-dark.png" id="dark5">
    <link rel="apple-touch-icon" type="image/png" sizes="60x60" href="/img/apple-touch-icon-60x60-dark.png" id="dark6">

    <script>
      // Switch to the dark-mode favicons if prefers-color-scheme: dark
      function onUpdate() {
        light1 = document.querySelector('link#light1');
        light2 = document.querySelector('link#light2');
        light3 = document.querySelector('link#light3');
        light4 = document.querySelector('link#light4');
        light5 = document.querySelector('link#light5');
        light6 = document.querySelector('link#light6');

        dark1 = document.querySelector('link#dark1');
        dark2 = document.querySelector('link#dark2');
        dark3 = document.querySelector('link#dark3');
        dark4 = document.querySelector('link#dark4');
        dark5 = document.querySelector('link#dark5');
        dark6 = document.querySelector('link#dark6');

        if (matcher.matches) {
          light1.remove();
          light2.remove();
          light3.remove();
          light4.remove();
          light5.remove();
          light6.remove();
          document.head.append(dark1);
          document.head.append(dark2);
          document.head.append(dark3);
          document.head.append(dark4);
          document.head.append(dark5);
          document.head.append(dark6);
        } else {
          dark1.remove();
          dark2.remove();
          dark3.remove();
          dark4.remove();
          dark5.remove();
          dark6.remove();
          document.head.append(light1);
          document.head.append(light2);
          document.head.append(light3);
          document.head.append(light4);
          document.head.append(light5);
          document.head.append(light6);
        }
      }
      matcher = window.matchMedia('(prefers-color-scheme: dark)');
      matcher.addListener(onUpdate);
      onUpdate();
    </script>

    <link href="/css/main.css" rel="stylesheet">
    <link href="/css/syntax.css" rel="stylesheet">
    <script src="/javascript/main.js"></script>
    
    <!-- Matomo -->
<script>
  var _paq = window._paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  /* We explicitly disable cookie tracking to avoid privacy issues */
  _paq.push(['disableCookies']);
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="https://analytics.apache.org/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '20']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Matomo Code -->

    
    <link type="application/atom+xml" rel="alternate" href="https://arrow.apache.org/feed.xml" title="Apache Arrow" />
  </head>


<body class="wrap">
  <header>
    <nav class="navbar navbar-expand-md navbar-dark bg-dark">
  
  <a class="navbar-brand no-padding" href="/"><img src="/img/arrow-inverse-300px.png" height="40px"/></a>
  
   <button class="navbar-toggler ml-auto" type="button" data-toggle="collapse" data-target="#arrow-navbar" aria-controls="arrow-navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse justify-content-end" id="arrow-navbar">
      <ul class="nav navbar-nav">
        <li class="nav-item"><a class="nav-link" href="/overview/" role="button" aria-haspopup="true" aria-expanded="false">Overview</a></li>
        <li class="nav-item"><a class="nav-link" href="/faq/" role="button" aria-haspopup="true" aria-expanded="false">FAQ</a></li>
        <li class="nav-item"><a class="nav-link" href="/blog" role="button" aria-haspopup="true" aria-expanded="false">Blog</a></li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#"
             id="navbarDropdownGetArrow" role="button" data-toggle="dropdown"
             aria-haspopup="true" aria-expanded="false">
             Get Arrow
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownGetArrow">
            <a class="dropdown-item" href="/install/">Install</a>
            <a class="dropdown-item" href="/release/">Releases</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#"
             id="navbarDropdownDocumentation" role="button" data-toggle="dropdown"
             aria-haspopup="true" aria-expanded="false">
             Docs
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownDocumentation">
            <a class="dropdown-item" href="/docs">Project Docs</a>
            <a class="dropdown-item" href="/docs/format/Columnar.html">Format</a>
            <hr/>
            <a class="dropdown-item" href="/docs/c_glib">C GLib</a>
            <a class="dropdown-item" href="/docs/cpp">C++</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow/blob/main/csharp/README.md">C#</a>
            <a class="dropdown-item" href="https://godoc.org/github.com/apache/arrow/go/arrow">Go</a>
            <a class="dropdown-item" href="/docs/java">Java</a>
            <a class="dropdown-item" href="/docs/js">JavaScript</a>
            <a class="dropdown-item" href="/julia/">Julia</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow/blob/main/matlab/README.md">MATLAB</a>
            <a class="dropdown-item" href="/docs/python">Python</a>
            <a class="dropdown-item" href="/docs/r">R</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow/blob/main/ruby/README.md">Ruby</a>
            <a class="dropdown-item" href="https://docs.rs/arrow/latest">Rust</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow/blob/main/swift/Arrow/README.md">Swift</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#"
             id="navbarDropdownSource" role="button" data-toggle="dropdown"
             aria-haspopup="true" aria-expanded="false">
             Source
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownSource">
            <a class="dropdown-item" href="https://github.com/apache/arrow">Main Repo</a>
            <hr/>
            <a class="dropdown-item" href="https://github.com/apache/arrow/tree/main/c_glib">C GLib</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow/tree/main/cpp">C++</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow/tree/main/csharp">C#</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow-go">Go</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow-java">Java</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow-js">JavaScript</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow-julia">Julia</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow/tree/main/matlab">MATLAB</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow/tree/main/python">Python</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow/tree/main/r">R</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow/tree/main/ruby">Ruby</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow-rs">Rust</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow/tree/main/swift">Swift</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#"
             id="navbarDropdownSubprojects" role="button" data-toggle="dropdown"
             aria-haspopup="true" aria-expanded="false">
             Subprojects
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownSubprojects">
            <a class="dropdown-item" href="/adbc">ADBC</a>
            <a class="dropdown-item" href="/docs/format/Flight.html">Arrow Flight</a>
            <a class="dropdown-item" href="/docs/format/FlightSql.html">Arrow Flight SQL</a>
            <a class="dropdown-item" href="https://datafusion.apache.org">DataFusion</a>
            <a class="dropdown-item" href="/nanoarrow">nanoarrow</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#"
             id="navbarDropdownCommunity" role="button" data-toggle="dropdown"
             aria-haspopup="true" aria-expanded="false">
             Community
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownCommunity">
            <a class="dropdown-item" href="/community/">Communication</a>
            <a class="dropdown-item" href="/docs/developers/index.html">Contributing</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow/issues">Issue Tracker</a>
            <a class="dropdown-item" href="/committers/">Governance</a>
            <a class="dropdown-item" href="/use_cases/">Use Cases</a>
            <a class="dropdown-item" href="/powered_by/">Powered By</a>
            <a class="dropdown-item" href="/visual_identity/">Visual Identity</a>
            <a class="dropdown-item" href="/security/">Security</a>
            <a class="dropdown-item" href="https://www.apache.org/foundation/policies/conduct.html">Code of Conduct</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#"
             id="navbarDropdownASF" role="button" data-toggle="dropdown"
             aria-haspopup="true" aria-expanded="false">
             ASF Links
          </a>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownASF">
            <a class="dropdown-item" href="https://www.apache.org/">ASF Website</a>
            <a class="dropdown-item" href="https://www.apache.org/licenses/">License</a>
            <a class="dropdown-item" href="https://www.apache.org/foundation/sponsorship.html">Donate</a>
            <a class="dropdown-item" href="https://www.apache.org/foundation/thanks.html">Thanks</a>
            <a class="dropdown-item" href="https://www.apache.org/security/">Security</a>
          </div>
        </li>
      </ul>
    </div><!-- /.navbar-collapse -->
  </nav>

  </header>

  <div class="container p-4 pt-5">
    <div class="col-md-8 mx-auto">
      <main role="main" class="pb-5">
        
<h1>
  Apache Arrow DataFusion 6.0.0 Release
</h1>
<hr class="mt-4 mb-3">



<p class="mb-4 pb-1">
  <span class="badge badge-secondary">Published</span>
  <span class="published mr-3">
    19 Nov 2021
  </span>
  <br />
  <span class="badge badge-secondary">By</span>
  
    <a class="mr-3" href="https://arrow.apache.org">The Apache Arrow PMC (pmc) </a>
  

  
</p>


        <!--

-->

<h1 id="introduction">Introduction</h1>

<p><a href="https://arrow.apache.org/datafusion/">DataFusion</a> is an embedded
query engine which leverages the unique features of
<a href="https://www.rust-lang.org/">Rust</a> and <a href="https://arrow.apache.org/">Apache
Arrow</a> to provide a system that is high
performance, easy to connect, easy to embed, and high quality.</p>

<p>The Apache Arrow team is pleased to announce the DataFusion 6.0.0 release. This covers 4 months of development work
and includes 134 commits from the following 28 distinct contributors.</p>

<!--
git log --pretty=oneline 5.0.0..6.0.0 datafusion datafusion-cli datafusion-examples | wc -l
     134

git shortlog -sn 5.0.0..6.0.0 datafusion datafusion-cli datafusion-examples | wc -l
      29

      Carlos and xudong963 are same individual
-->

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    28  Andrew Lamb
    26  Jiayu Liu
    13  xudong963
     9  rdettai
     9  QP Hou
     6  Matthew Turner
     5  Daniël Heres
     4  Guillaume Balaine
     3  Francis Du
     3  Marco Neumann
     3  Jon Mease
     3  Nga Tran
     2  Yijie Shen
     2  Ruihang Xia
     2  Liang-Chi Hsieh
     2  baishen
     2  Andy Grove
     2  Jason Tianyi Wang
     1  Nan Zhu
     1  Antoine Wendlinger
     1  Krisztián Szűcs
     1  Mike Seddon
     1  Conner Murphy
     1  Patrick More
     1  Taehoon Moon
     1  Tiphaine Ruy
     1  adsharma
     1  lichuan6
</code></pre></div></div>

<p>The release notes below are not exhaustive and only expose selected highlights of the release. Many other bug fixes
and improvements have been made: we refer you to the complete
<a href="https://github.com/apache/arrow-datafusion/blob/6.0.0/datafusion/CHANGELOG.md">changelog</a>.</p>

<h1 id="new-website">New Website</h1>

<p>Befitting a growing project, DataFusion now has its
<a href="https://arrow.apache.org/datafusion/">own website</a> hosted as part of the
main <a href="https://arrow.apache.org">Apache Arrow Website</a></p>

<h1 id="roadmap">Roadmap</h1>

<p>The community worked to gather their thoughts about where we are
taking DataFusion into a public
<a href="https://arrow.apache.org/datafusion/specification/roadmap.html">Roadmap</a>
for the first time</p>

<h1 id="new-features">New Features</h1>

<ul>
  <li>Runtime operator metrics collection framework</li>
  <li>Object store abstraction for unified access to local or remote storage</li>
  <li>Hive style table partitioning support, for Parquet, CSV, Avro and Json files</li>
  <li>DataFrame API support for: <code class="language-plaintext highlighter-rouge">except</code>, <code class="language-plaintext highlighter-rouge">intersect</code>, <code class="language-plaintext highlighter-rouge">show</code>, <code class="language-plaintext highlighter-rouge">limit</code> and window functions</li>
  <li>SQL
    <ul>
      <li><code class="language-plaintext highlighter-rouge">EXPLAIN ANALYZE</code> with runtime metrics</li>
      <li><code class="language-plaintext highlighter-rouge">trim ( [ LEADING | TRAILING | BOTH ] [ FROM ] string text [, characters text ] )</code> syntax</li>
      <li>Postgres style regular expression matching operators <code class="language-plaintext highlighter-rouge">~</code>, <code class="language-plaintext highlighter-rouge">~*</code>, <code class="language-plaintext highlighter-rouge">!~</code>, and <code class="language-plaintext highlighter-rouge">!~*</code></li>
      <li>SQL set operators <code class="language-plaintext highlighter-rouge">UNION</code>, <code class="language-plaintext highlighter-rouge">INTERSECT</code>, and <code class="language-plaintext highlighter-rouge">EXCEPT</code></li>
      <li><code class="language-plaintext highlighter-rouge">cume_dist</code>, <code class="language-plaintext highlighter-rouge">percent_rank</code> window functions</li>
      <li><code class="language-plaintext highlighter-rouge">digest</code>, <code class="language-plaintext highlighter-rouge">blake2s</code>, <code class="language-plaintext highlighter-rouge">blake2b</code>, <code class="language-plaintext highlighter-rouge">blake3</code> crypto functions</li>
      <li>HyperLogLog based <code class="language-plaintext highlighter-rouge">approx_distinct</code></li>
      <li><code class="language-plaintext highlighter-rouge">is distinct from</code> and <code class="language-plaintext highlighter-rouge">is not distinct from</code></li>
      <li><code class="language-plaintext highlighter-rouge">CREATE TABLE AS SELECT</code></li>
      <li>Accessing elements of nested <code class="language-plaintext highlighter-rouge">Struct</code> and <code class="language-plaintext highlighter-rouge">List</code> columns (e.g. <code class="language-plaintext highlighter-rouge">SELECT struct_column['field_name'], array_column[0] FROM ...</code>)</li>
      <li>Boolean expressions in <code class="language-plaintext highlighter-rouge">CASE</code> statement</li>
      <li><code class="language-plaintext highlighter-rouge">DROP TABLE</code></li>
      <li><code class="language-plaintext highlighter-rouge">VALUES</code> List</li>
      <li>Postgres regex match operators</li>
    </ul>
  </li>
  <li>Support for Avro format</li>
  <li>Support for <code class="language-plaintext highlighter-rouge">ScalarValue::Struct</code></li>
  <li>Automatic schema inference for CSV files</li>
  <li>Better interactive editing support in <code class="language-plaintext highlighter-rouge">datafusion-cli</code> as well as <code class="language-plaintext highlighter-rouge">psql</code> style commands such as <code class="language-plaintext highlighter-rouge">\d</code>, <code class="language-plaintext highlighter-rouge">\?</code>, and <code class="language-plaintext highlighter-rouge">\q</code></li>
  <li>Generic constant evaluation and simplification framework</li>
  <li>Added common subexpression eliminate query plan optimization rule</li>
  <li>Python binding 0.4.0 with all Datafusion 6.0.0 features</li>
</ul>

<p>With these new features, we are also now passing TPC-H queries 8, 13 and 21.</p>

<p>For the full list of new features with their relevant PRs, see the
<a href="https://github.com/apache/arrow-datafusion/blob/6.0.0/datafusion/CHANGELOG.md">enhancements section</a>
in the changelog.</p>

<h1 id="async-planning-and-decoupling-file-format-from-table-layout"><code class="language-plaintext highlighter-rouge">async</code> planning and decoupling file format from table layout</h1>

<p>Driven by the need to support Hive style table partitioning, @rdettai
introduced the following design change to the Datafusion core.</p>

<ul>
  <li>The code for reading specific file formats (<code class="language-plaintext highlighter-rouge">Parquet</code>, <code class="language-plaintext highlighter-rouge">Avro</code>, <code class="language-plaintext highlighter-rouge">CSV</code>, and
<code class="language-plaintext highlighter-rouge">JSON</code>) was separated from the logic that handles grouping sets of
files into execution partitions.</li>
  <li>The query planning process was made <code class="language-plaintext highlighter-rouge">async</code>.</li>
</ul>

<p>As a result, we are able to replace the old <code class="language-plaintext highlighter-rouge">Parquet</code>, <code class="language-plaintext highlighter-rouge">CSV</code> and <code class="language-plaintext highlighter-rouge">JSON</code> table
providers with a single <code class="language-plaintext highlighter-rouge">ListingTable</code> table provider.</p>

<p>This also sets up DataFusion and its plug-in ecosystem to
supporting a wide range of catalogs and various object store implementations.
You can read more about this change in the
<a href="https://docs.google.com/document/d/1Bd4-PLLH-pHj0BquMDsJ6cVr_awnxTuvwNJuWsTHxAQ">design document</a>
and on the <a href="https://github.com/apache/arrow-datafusion/pull/1010">arrow-datafusion#1010 PR</a>.</p>

<h1 id="how-to-get-involved">How to Get Involved</h1>

<p>If you are interested in contributing to DataFusion, we would love to have you! You
can help by trying out DataFusion on some of your own data and projects and filing bug reports and helping to
improve the documentation, or contribute to the documentation, tests or code. A list of open issues suitable for
beginners is <a href="https://github.com/apache/arrow-datafusion/issues?q=is%3Aissue+is%3Aopen+label%3A%22good+first+issue%22">here</a>
and the full list is <a href="https://github.com/apache/arrow-datafusion/issues">here</a>.</p>

<p>Check out our new <a href="https://arrow.apache.org/datafusion/community/communication.html">Communication Doc</a> on more
ways to engage with the community.</p>

      </main>
    </div>

    <hr/>
<footer class="footer">
  <div class="row">
    <div class="col-md-9">
      <p>Apache Arrow, Arrow, Apache, the Apache feather logo, and the Apache Arrow project logo are either registered trademarks or trademarks of The Apache Software Foundation in the United States and other countries.</p>
      <p>&copy; 2016-2025 The Apache Software Foundation</p>
    </div>
    <div class="col-md-3">
      <a class="d-sm-none d-md-inline pr-2" href="https://www.apache.org/events/current-event.html">
        <img src="https://www.apache.org/events/current-event-234x60.png"/>
      </a>
    </div>
  </div>
</footer>

  </div>
</body>
</html>
