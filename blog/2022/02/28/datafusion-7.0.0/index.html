<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above meta tags *must* come first in the head; any other head content must come *after* these tags -->
    
    <title>Apache Arrow DataFusion 7.0.0 Release | Apache Arrow</title>
    

    <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="Apache Arrow DataFusion 7.0.0 Release" />
<meta name="author" content="pmc" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Introduction DataFusion is an extensible query execution framework, written in Rust, that uses Apache Arrow as its in-memory format. When you want to extend your Rust project with SQL support, a DataFrame API, or the ability to read and process Parquet, JSON, Avro or CSV data, DataFusion is definitely worth checking out. DataFusion’s SQL, DataFrame, and manual PlanBuilder API let users access a sophisticated query optimizer and execution engine capable of fast, resource efficient, and parallel execution that takes optimal advantage of todays multicore hardware. Being written in Rust means DataFusion can offer both the safety of dynamic languages as well as the resource efficiency of a compiled language. The Apache Arrow team is pleased to announce the DataFusion 7.0.0 release. This covers 4 months of development work and includes 195 commits from the following 37 distinct contributors. 44 Andrew Lamb 24 Kun Liu 23 Jiayu Liu 17 xudong.w 11 Yijie Shen 9 Matthew Turner 7 Liang-Chi Hsieh 5 Lin Ma 4 Stephen Carman 4 James Katz 4 Dmitry Patsura 4 QP Hou 3 dependabot[bot] 3 Remzi Yang 3 Yang 3 ic4y 3 Daniël Heres 2 Andy Grove 2 Raphael Taylor-Davies 2 Jason Tianyi Wang 2 Dan Harris 2 Sergey Melnychuk 1 Nitish Tiwari 1 Dom 1 Eduard Karacharov 1 Javier Goday 1 Boaz 1 Marko Mikulicic 1 Max Burke 1 Carol (Nichols || Goulding) 1 Phillip Cloud 1 Rich 1 Toby Hede 1 Will Jones 1 r.4ntix 1 rdettai The following section highlights some of the improvements in this release. Of course, many other bug fixes and improvements have also been made and we refer you to the complete changelog for the full detail. Summary DataFusion Crate The DataFusion crate is being split into multiple crates to decrease compilation times and improve the development experience. Initially, datafusion-common (the core DataFusion components) and datafusion-expr (DataFusion expressions, functions, and operators) have been split out. There will be additional splits after the 7.0 release. Performance Improvements and Optimizations Arrow’s dyn scalar kernels are now used to enable efficient operations on DictionaryArrays #1685 Switch from std::sync::Mutex to parking_lot::Mutex #1720 New Features Support for memory tracking and spilling to disk MemoryMananger and DiskManager #1526 Out of core sort #1526 New metrics Gauge and CurrentMemoryUsage #1682 Spill_count and spilled_bytes #1641 New math functions Approx_quantile #1529 stddev and variance (sample and population) #1525 corr #1561 Support decimal type #1394#1407#1408#1431#1483#1554#1640 Support for reading Parquet files with evolved schemas #1622#1709 Support for registering DataFrame as table #1699 Support for the substring function #1621 Support array_agg(distinct ...) #1579 Support sort on unprojected columns #1415 Additional Integration Points A new public Expression simplification API #1717 DataFusion-Contrib A new GitHub organization created as a home for both DataFusion extensions and as a testing ground for new features. Extensions DataFusion-Python DataFusion-Java DataFusion-hdsfs-native DataFusion-ObjectStore-s3 New Features DataFusion-Streams Arrow2 An Arrow2 Branch has been created. There are ongoing discussions in DataFusion and arrow-rs about migrating DataFusion to Arrow2 Documentation and Roadmap We are working to consolidate the documentation into the official site. You can find more details there on topics such as the SQL status and a user guide. This is also an area we would love to get help from the broader community #1821. To provide transparency on DataFusion’s priorities to users and developers a three month roadmap will be published at the beginning of each quarter. This can be found here here. Upcoming Attractions Ballista is gaining momentum, and several groups are now evaluating and contributing to the project. Some of the proposed improvements Improvements Overview Extensibility File system access Cluster state Continued improvements for working with limited resources and large datasets Memory limited joins#1599 Sort-merge join#141#1776 Introduce row based bytes representation #1708 How to Get Involved If you are interested in contributing to DataFusion, and learning about state of the art query processing, we would love to have you join us on the journey! You can help by trying out DataFusion on some of your own data and projects and let us know how it goes or contribute a PR with documentation, tests or code. A list of open issues suitable for beginners is here Check out our new Communication Doc on more ways to engage with the community." />
<meta property="og:description" content="Introduction DataFusion is an extensible query execution framework, written in Rust, that uses Apache Arrow as its in-memory format. When you want to extend your Rust project with SQL support, a DataFrame API, or the ability to read and process Parquet, JSON, Avro or CSV data, DataFusion is definitely worth checking out. DataFusion’s SQL, DataFrame, and manual PlanBuilder API let users access a sophisticated query optimizer and execution engine capable of fast, resource efficient, and parallel execution that takes optimal advantage of todays multicore hardware. Being written in Rust means DataFusion can offer both the safety of dynamic languages as well as the resource efficiency of a compiled language. The Apache Arrow team is pleased to announce the DataFusion 7.0.0 release. This covers 4 months of development work and includes 195 commits from the following 37 distinct contributors. 44 Andrew Lamb 24 Kun Liu 23 Jiayu Liu 17 xudong.w 11 Yijie Shen 9 Matthew Turner 7 Liang-Chi Hsieh 5 Lin Ma 4 Stephen Carman 4 James Katz 4 Dmitry Patsura 4 QP Hou 3 dependabot[bot] 3 Remzi Yang 3 Yang 3 ic4y 3 Daniël Heres 2 Andy Grove 2 Raphael Taylor-Davies 2 Jason Tianyi Wang 2 Dan Harris 2 Sergey Melnychuk 1 Nitish Tiwari 1 Dom 1 Eduard Karacharov 1 Javier Goday 1 Boaz 1 Marko Mikulicic 1 Max Burke 1 Carol (Nichols || Goulding) 1 Phillip Cloud 1 Rich 1 Toby Hede 1 Will Jones 1 r.4ntix 1 rdettai The following section highlights some of the improvements in this release. Of course, many other bug fixes and improvements have also been made and we refer you to the complete changelog for the full detail. Summary DataFusion Crate The DataFusion crate is being split into multiple crates to decrease compilation times and improve the development experience. Initially, datafusion-common (the core DataFusion components) and datafusion-expr (DataFusion expressions, functions, and operators) have been split out. There will be additional splits after the 7.0 release. Performance Improvements and Optimizations Arrow’s dyn scalar kernels are now used to enable efficient operations on DictionaryArrays #1685 Switch from std::sync::Mutex to parking_lot::Mutex #1720 New Features Support for memory tracking and spilling to disk MemoryMananger and DiskManager #1526 Out of core sort #1526 New metrics Gauge and CurrentMemoryUsage #1682 Spill_count and spilled_bytes #1641 New math functions Approx_quantile #1529 stddev and variance (sample and population) #1525 corr #1561 Support decimal type #1394#1407#1408#1431#1483#1554#1640 Support for reading Parquet files with evolved schemas #1622#1709 Support for registering DataFrame as table #1699 Support for the substring function #1621 Support array_agg(distinct ...) #1579 Support sort on unprojected columns #1415 Additional Integration Points A new public Expression simplification API #1717 DataFusion-Contrib A new GitHub organization created as a home for both DataFusion extensions and as a testing ground for new features. Extensions DataFusion-Python DataFusion-Java DataFusion-hdsfs-native DataFusion-ObjectStore-s3 New Features DataFusion-Streams Arrow2 An Arrow2 Branch has been created. There are ongoing discussions in DataFusion and arrow-rs about migrating DataFusion to Arrow2 Documentation and Roadmap We are working to consolidate the documentation into the official site. You can find more details there on topics such as the SQL status and a user guide. This is also an area we would love to get help from the broader community #1821. To provide transparency on DataFusion’s priorities to users and developers a three month roadmap will be published at the beginning of each quarter. This can be found here here. Upcoming Attractions Ballista is gaining momentum, and several groups are now evaluating and contributing to the project. Some of the proposed improvements Improvements Overview Extensibility File system access Cluster state Continued improvements for working with limited resources and large datasets Memory limited joins#1599 Sort-merge join#141#1776 Introduce row based bytes representation #1708 How to Get Involved If you are interested in contributing to DataFusion, and learning about state of the art query processing, we would love to have you join us on the journey! You can help by trying out DataFusion on some of your own data and projects and let us know how it goes or contribute a PR with documentation, tests or code. A list of open issues suitable for beginners is here Check out our new Communication Doc on more ways to engage with the community." />
<link rel="canonical" href="https://arrow.apache.org/blog/2022/02/28/datafusion-7.0.0/" />
<meta property="og:url" content="https://arrow.apache.org/blog/2022/02/28/datafusion-7.0.0/" />
<meta property="og:site_name" content="Apache Arrow" />
<meta property="og:image" content="https://arrow.apache.org/img/arrow-logo_horizontal_black-txt_white-bg.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-02-28T00:00:00-05:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://arrow.apache.org/img/arrow-logo_horizontal_black-txt_white-bg.png" />
<meta property="twitter:title" content="Apache Arrow DataFusion 7.0.0 Release" />
<meta name="twitter:site" content="@ApacheArrow" />
<meta name="twitter:creator" content="@pmc" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"pmc"},"dateModified":"2022-02-28T00:00:00-05:00","datePublished":"2022-02-28T00:00:00-05:00","description":"Introduction DataFusion is an extensible query execution framework, written in Rust, that uses Apache Arrow as its in-memory format. When you want to extend your Rust project with SQL support, a DataFrame API, or the ability to read and process Parquet, JSON, Avro or CSV data, DataFusion is definitely worth checking out. DataFusion’s SQL, DataFrame, and manual PlanBuilder API let users access a sophisticated query optimizer and execution engine capable of fast, resource efficient, and parallel execution that takes optimal advantage of todays multicore hardware. Being written in Rust means DataFusion can offer both the safety of dynamic languages as well as the resource efficiency of a compiled language. The Apache Arrow team is pleased to announce the DataFusion 7.0.0 release. This covers 4 months of development work and includes 195 commits from the following 37 distinct contributors. 44 Andrew Lamb 24 Kun Liu 23 Jiayu Liu 17 xudong.w 11 Yijie Shen 9 Matthew Turner 7 Liang-Chi Hsieh 5 Lin Ma 4 Stephen Carman 4 James Katz 4 Dmitry Patsura 4 QP Hou 3 dependabot[bot] 3 Remzi Yang 3 Yang 3 ic4y 3 Daniël Heres 2 Andy Grove 2 Raphael Taylor-Davies 2 Jason Tianyi Wang 2 Dan Harris 2 Sergey Melnychuk 1 Nitish Tiwari 1 Dom 1 Eduard Karacharov 1 Javier Goday 1 Boaz 1 Marko Mikulicic 1 Max Burke 1 Carol (Nichols || Goulding) 1 Phillip Cloud 1 Rich 1 Toby Hede 1 Will Jones 1 r.4ntix 1 rdettai The following section highlights some of the improvements in this release. Of course, many other bug fixes and improvements have also been made and we refer you to the complete changelog for the full detail. Summary DataFusion Crate The DataFusion crate is being split into multiple crates to decrease compilation times and improve the development experience. Initially, datafusion-common (the core DataFusion components) and datafusion-expr (DataFusion expressions, functions, and operators) have been split out. There will be additional splits after the 7.0 release. Performance Improvements and Optimizations Arrow’s dyn scalar kernels are now used to enable efficient operations on DictionaryArrays #1685 Switch from std::sync::Mutex to parking_lot::Mutex #1720 New Features Support for memory tracking and spilling to disk MemoryMananger and DiskManager #1526 Out of core sort #1526 New metrics Gauge and CurrentMemoryUsage #1682 Spill_count and spilled_bytes #1641 New math functions Approx_quantile #1529 stddev and variance (sample and population) #1525 corr #1561 Support decimal type #1394#1407#1408#1431#1483#1554#1640 Support for reading Parquet files with evolved schemas #1622#1709 Support for registering DataFrame as table #1699 Support for the substring function #1621 Support array_agg(distinct ...) #1579 Support sort on unprojected columns #1415 Additional Integration Points A new public Expression simplification API #1717 DataFusion-Contrib A new GitHub organization created as a home for both DataFusion extensions and as a testing ground for new features. Extensions DataFusion-Python DataFusion-Java DataFusion-hdsfs-native DataFusion-ObjectStore-s3 New Features DataFusion-Streams Arrow2 An Arrow2 Branch has been created. There are ongoing discussions in DataFusion and arrow-rs about migrating DataFusion to Arrow2 Documentation and Roadmap We are working to consolidate the documentation into the official site. You can find more details there on topics such as the SQL status and a user guide. This is also an area we would love to get help from the broader community #1821. To provide transparency on DataFusion’s priorities to users and developers a three month roadmap will be published at the beginning of each quarter. This can be found here here. Upcoming Attractions Ballista is gaining momentum, and several groups are now evaluating and contributing to the project. Some of the proposed improvements Improvements Overview Extensibility File system access Cluster state Continued improvements for working with limited resources and large datasets Memory limited joins#1599 Sort-merge join#141#1776 Introduce row based bytes representation #1708 How to Get Involved If you are interested in contributing to DataFusion, and learning about state of the art query processing, we would love to have you join us on the journey! You can help by trying out DataFusion on some of your own data and projects and let us know how it goes or contribute a PR with documentation, tests or code. A list of open issues suitable for beginners is here Check out our new Communication Doc on more ways to engage with the community.","headline":"Apache Arrow DataFusion 7.0.0 Release","image":"https://arrow.apache.org/img/arrow-logo_horizontal_black-txt_white-bg.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://arrow.apache.org/blog/2022/02/28/datafusion-7.0.0/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://arrow.apache.org/img/logo.png"},"name":"pmc"},"url":"https://arrow.apache.org/blog/2022/02/28/datafusion-7.0.0/"}</script>
<!-- End Jekyll SEO tag -->


    <!-- favicons -->
    <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16.png" id="light1">
    <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png" id="light2">
    <link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/img/apple-touch-icon.png" id="light3">
    <link rel="apple-touch-icon" type="image/png" sizes="120x120" href="/img/apple-touch-icon-120x120.png" id="light4">
    <link rel="apple-touch-icon" type="image/png" sizes="76x76" href="/img/apple-touch-icon-76x76.png" id="light5">
    <link rel="apple-touch-icon" type="image/png" sizes="60x60" href="/img/apple-touch-icon-60x60.png" id="light6">
    <!-- dark mode favicons -->
    <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16-dark.png" id="dark1">
    <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32-dark.png" id="dark2">
    <link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/img/apple-touch-icon-dark.png" id="dark3">
    <link rel="apple-touch-icon" type="image/png" sizes="120x120" href="/img/apple-touch-icon-120x120-dark.png" id="dark4">
    <link rel="apple-touch-icon" type="image/png" sizes="76x76" href="/img/apple-touch-icon-76x76-dark.png" id="dark5">
    <link rel="apple-touch-icon" type="image/png" sizes="60x60" href="/img/apple-touch-icon-60x60-dark.png" id="dark6">

    <script>
      // Switch to the dark-mode favicons if prefers-color-scheme: dark
      function onUpdate() {
        light1 = document.querySelector('link#light1');
        light2 = document.querySelector('link#light2');
        light3 = document.querySelector('link#light3');
        light4 = document.querySelector('link#light4');
        light5 = document.querySelector('link#light5');
        light6 = document.querySelector('link#light6');

        dark1 = document.querySelector('link#dark1');
        dark2 = document.querySelector('link#dark2');
        dark3 = document.querySelector('link#dark3');
        dark4 = document.querySelector('link#dark4');
        dark5 = document.querySelector('link#dark5');
        dark6 = document.querySelector('link#dark6');

        if (matcher.matches) {
          light1.remove();
          light2.remove();
          light3.remove();
          light4.remove();
          light5.remove();
          light6.remove();
          document.head.append(dark1);
          document.head.append(dark2);
          document.head.append(dark3);
          document.head.append(dark4);
          document.head.append(dark5);
          document.head.append(dark6);
        } else {
          dark1.remove();
          dark2.remove();
          dark3.remove();
          dark4.remove();
          dark5.remove();
          dark6.remove();
          document.head.append(light1);
          document.head.append(light2);
          document.head.append(light3);
          document.head.append(light4);
          document.head.append(light5);
          document.head.append(light6);
        }
      }
      matcher = window.matchMedia('(prefers-color-scheme: dark)');
      matcher.addListener(onUpdate);
      onUpdate();
    </script>

    <link href="/css/main.css" rel="stylesheet">
    <link href="/css/syntax.css" rel="stylesheet">
    <script src="/javascript/main.js"></script>
    
    <!-- Matomo -->
<script>
  var _paq = window._paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  /* We explicitly disable cookie tracking to avoid privacy issues */
  _paq.push(['disableCookies']);
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="https://analytics.apache.org/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '20']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Matomo Code -->

    
    <link type="application/atom+xml" rel="alternate" href="https://arrow.apache.org/feed.xml" title="Apache Arrow" />
  </head>


<body class="wrap">
  <header>
    <nav class="navbar navbar-expand-md navbar-dark bg-dark">
  
  <a class="navbar-brand no-padding" href="/"><img src="/img/arrow-inverse-300px.png" height="40px"/></a>
  
   <button class="navbar-toggler ml-auto" type="button" data-toggle="collapse" data-target="#arrow-navbar" aria-controls="arrow-navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse justify-content-end" id="arrow-navbar">
      <ul class="nav navbar-nav">
        <li class="nav-item"><a class="nav-link" href="/overview/" role="button" aria-haspopup="true" aria-expanded="false">Overview</a></li>
        <li class="nav-item"><a class="nav-link" href="/faq/" role="button" aria-haspopup="true" aria-expanded="false">FAQ</a></li>
        <li class="nav-item"><a class="nav-link" href="/blog" role="button" aria-haspopup="true" aria-expanded="false">Blog</a></li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#"
             id="navbarDropdownGetArrow" role="button" data-toggle="dropdown"
             aria-haspopup="true" aria-expanded="false">
             Get Arrow
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownGetArrow">
            <a class="dropdown-item" href="/install/">Install</a>
            <a class="dropdown-item" href="/release/">Releases</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow">Source Code</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#"
             id="navbarDropdownDocumentation" role="button" data-toggle="dropdown"
             aria-haspopup="true" aria-expanded="false">
             Documentation
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownDocumentation">
            <a class="dropdown-item" href="/docs">Project Docs</a>
            <a class="dropdown-item" href="/docs/format/Columnar.html">Format</a>
            <hr/>
            <a class="dropdown-item" href="/docs/c_glib">C GLib</a>
            <a class="dropdown-item" href="/docs/cpp">C++</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow/blob/main/csharp/README.md">C#</a>
            <a class="dropdown-item" href="https://godoc.org/github.com/apache/arrow/go/arrow">Go</a>
            <a class="dropdown-item" href="/docs/java">Java</a>
            <a class="dropdown-item" href="/docs/js">JavaScript</a>
            <a class="dropdown-item" href="/julia/">Julia</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow/blob/main/matlab/README.md">MATLAB</a>
            <a class="dropdown-item" href="/docs/python">Python</a>
            <a class="dropdown-item" href="/docs/r">R</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow/blob/main/ruby/README.md">Ruby</a>
            <a class="dropdown-item" href="https://docs.rs/arrow/latest">Rust</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#"
             id="navbarDropdownSubprojects" role="button" data-toggle="dropdown"
             aria-haspopup="true" aria-expanded="false">
             Subprojects
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownSubprojects">
            <a class="dropdown-item" href="/adbc">ADBC</a>
            <a class="dropdown-item" href="/docs/format/Flight.html">Arrow Flight</a>
            <a class="dropdown-item" href="/docs/format/FlightSql.html">Arrow Flight SQL</a>
            <a class="dropdown-item" href="https://datafusion.apache.org">DataFusion</a>
            <a class="dropdown-item" href="/nanoarrow">nanoarrow</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#"
             id="navbarDropdownCommunity" role="button" data-toggle="dropdown"
             aria-haspopup="true" aria-expanded="false">
             Community
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownCommunity">
            <a class="dropdown-item" href="/community/">Communication</a>
            <a class="dropdown-item" href="/docs/developers/index.html">Contributing</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow/issues">Issue Tracker</a>
            <a class="dropdown-item" href="/committers/">Governance</a>
            <a class="dropdown-item" href="/use_cases/">Use Cases</a>
            <a class="dropdown-item" href="/powered_by/">Powered By</a>
            <a class="dropdown-item" href="/visual_identity/">Visual Identity</a>
            <a class="dropdown-item" href="/security/">Security</a>
            <a class="dropdown-item" href="https://www.apache.org/foundation/policies/conduct.html">Code of Conduct</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#"
             id="navbarDropdownASF" role="button" data-toggle="dropdown"
             aria-haspopup="true" aria-expanded="false">
             ASF Links
          </a>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownASF">
            <a class="dropdown-item" href="https://www.apache.org/">ASF Website</a>
            <a class="dropdown-item" href="https://www.apache.org/licenses/">License</a>
            <a class="dropdown-item" href="https://www.apache.org/foundation/sponsorship.html">Donate</a>
            <a class="dropdown-item" href="https://www.apache.org/foundation/thanks.html">Thanks</a>
            <a class="dropdown-item" href="https://www.apache.org/security/">Security</a>
          </div>
        </li>
      </ul>
    </div><!-- /.navbar-collapse -->
  </nav>

  </header>

  <div class="container p-4 pt-5">
    <div class="col-md-8 mx-auto">
      <main role="main" class="pb-5">
        
<h1>
  Apache Arrow DataFusion 7.0.0 Release
</h1>
<hr class="mt-4 mb-3">



<p class="mb-4 pb-1">
  <span class="badge badge-secondary">Published</span>
  <span class="published mr-3">
    28 Feb 2022
  </span>
  <br />
  <span class="badge badge-secondary">By</span>
  
    <a class="mr-3" href="https://arrow.apache.org">The Apache Arrow PMC (pmc) </a>
  

  
</p>


        <!--

-->

<h1 id="introduction">Introduction</h1>

<p><a href="https://arrow.apache.org/datafusion/">DataFusion</a> is an extensible query execution framework, written in Rust, that uses Apache Arrow as its in-memory format.</p>

<p>When you want to extend your Rust project with <a href="https://arrow.apache.org/datafusion/user-guide/sql/sql_status.html">SQL support</a>, a DataFrame API, or the ability to read and process Parquet, JSON, Avro or CSV data, DataFusion is definitely worth checking out.</p>

<p>DataFusion’s  SQL, <code class="language-plaintext highlighter-rouge">DataFrame</code>, and manual <code class="language-plaintext highlighter-rouge">PlanBuilder</code> API let users access a sophisticated query optimizer and execution engine capable of fast, resource efficient, and parallel execution that takes optimal advantage of todays multicore hardware. Being written in Rust means DataFusion can offer <em>both</em> the safety of dynamic languages as well as the resource efficiency of a compiled language.</p>

<p>The Apache Arrow team is pleased to announce the DataFusion 7.0.0 release. This covers 4 months of development work
and includes 195 commits from the following 37 distinct contributors.</p>

<!--
git log --pretty=oneline 5.0.0..6.0.0 datafusion datafusion-cli datafusion-examples | wc -l
     134

git shortlog -sn 5.0.0..6.0.0 datafusion datafusion-cli datafusion-examples | wc -l
      29

      Carlos and xudong963 are same individual
-->

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    44  Andrew Lamb
    24  Kun Liu
    23  Jiayu Liu
    17  xudong.w
    11  Yijie Shen
     9  Matthew Turner
     7  Liang-Chi Hsieh
     5  Lin Ma
     4  Stephen Carman
     4  James Katz
     4  Dmitry Patsura
     4  QP Hou
     3  dependabot[bot]
     3  Remzi Yang
     3  Yang
     3  ic4y
     3  Daniël Heres
     2  Andy Grove
     2  Raphael Taylor-Davies
     2  Jason Tianyi Wang
     2  Dan Harris
     2  Sergey Melnychuk
     1  Nitish Tiwari
     1  Dom
     1  Eduard Karacharov
     1  Javier Goday
     1  Boaz
     1  Marko Mikulicic
     1  Max Burke
     1  Carol (Nichols || Goulding)
     1  Phillip Cloud
     1  Rich
     1  Toby Hede
     1  Will Jones
     1  r.4ntix
     1  rdettai
</code></pre></div></div>

<p>The following section highlights some of the improvements in this release. Of course, many other bug fixes and improvements have also been made and we refer you to the complete <a href="https://github.com/apache/arrow-datafusion/blob/7.0.0/datafusion/CHANGELOG.md">changelog</a> for the full detail.</p>

<h1 id="summary">Summary</h1>

<ul>
  <li>DataFusion Crate
    <ul>
      <li>The DataFusion crate is being split into multiple crates to decrease compilation times and improve the development experience. Initially, <code class="language-plaintext highlighter-rouge">datafusion-common</code> (the core DataFusion components) and <code class="language-plaintext highlighter-rouge">datafusion-expr</code> (DataFusion expressions, functions, and operators) have been split out. There will be additional splits after the 7.0 release.</li>
    </ul>
  </li>
  <li>Performance Improvements and Optimizations
    <ul>
      <li>Arrow’s dyn scalar kernels are now used to enable efficient operations on <code class="language-plaintext highlighter-rouge">DictionaryArray</code>s <a href="https://github.com/apache/arrow-datafusion/pull/1685">#1685</a></li>
      <li>Switch from <code class="language-plaintext highlighter-rouge">std::sync::Mutex</code> to <code class="language-plaintext highlighter-rouge">parking_lot::Mutex</code> <a href="https://github.com/apache/arrow-datafusion/pull/1720">#1720</a></li>
    </ul>
  </li>
  <li>New Features
    <ul>
      <li>Support for memory tracking and spilling to disk
        <ul>
          <li>MemoryMananger and DiskManager <a href="https://github.com/apache/arrow-datafusion/pull/1526">#1526</a></li>
          <li>Out of core sort <a href="https://github.com/apache/arrow-datafusion/pull/1526">#1526</a></li>
          <li>New metrics
            <ul>
              <li><code class="language-plaintext highlighter-rouge">Gauge</code> and <code class="language-plaintext highlighter-rouge">CurrentMemoryUsage</code> <a href="https://github.com/apache/arrow-datafusion/pull/1682">#1682</a></li>
              <li><code class="language-plaintext highlighter-rouge">Spill_count</code> and <code class="language-plaintext highlighter-rouge">spilled_bytes</code> <a href="https://github.com/apache/arrow-datafusion/pull/1641">#1641</a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li>New math functions
        <ul>
          <li><code class="language-plaintext highlighter-rouge">Approx_quantile</code> <a href="https://github.com/apache/arrow-datafusion/pull/1539">#1529</a></li>
          <li><code class="language-plaintext highlighter-rouge">stddev</code> and <code class="language-plaintext highlighter-rouge">variance</code> (sample and population) <a href="https://github.com/apache/arrow-datafusion/pull/1525">#1525</a></li>
          <li><code class="language-plaintext highlighter-rouge">corr</code> <a href="https://github.com/apache/arrow-datafusion/pull/1561">#1561</a></li>
        </ul>
      </li>
      <li>Support decimal type <a href="https://github.com/apache/arrow-datafusion/pull/1394">#1394</a><a href="https://github.com/apache/arrow-datafusion/pull/1407">#1407</a><a href="https://github.com/apache/arrow-datafusion/pull/1408">#1408</a><a href="https://github.com/apache/arrow-datafusion/pull/1431">#1431</a><a href="https://github.com/apache/arrow-datafusion/pull/1483">#1483</a><a href="https://github.com/apache/arrow-datafusion/pull/1554">#1554</a><a href="https://github.com/apache/arrow-datafusion/pull/1640">#1640</a></li>
      <li>Support for reading Parquet files with evolved schemas <a href="https://github.com/apache/arrow-datafusion/pull/1622">#1622</a><a href="https://github.com/apache/arrow-datafusion/pull/1709">#1709</a></li>
      <li>Support for registering <code class="language-plaintext highlighter-rouge">DataFrame</code> as table <a href="https://github.com/apache/arrow-datafusion/pull/1699">#1699</a></li>
      <li>Support for the <code class="language-plaintext highlighter-rouge">substring</code> function <a href="https://github.com/apache/arrow-datafusion/pull/1621">#1621</a></li>
      <li>Support <code class="language-plaintext highlighter-rouge">array_agg(distinct ...)</code> <a href="https://github.com/apache/arrow-datafusion/pull/1579">#1579</a></li>
      <li>Support <code class="language-plaintext highlighter-rouge">sort</code> on unprojected columns <a href="https://github.com/apache/arrow-datafusion/pull/1415">#1415</a></li>
    </ul>
  </li>
  <li>Additional Integration Points
    <ul>
      <li>A new public Expression simplification API <a href="https://github.com/apache/arrow-datafusion/pull/1717">#1717</a></li>
    </ul>
  </li>
  <li><a href="https://github.com/datafusion-contrib">DataFusion-Contrib</a>
    <ul>
      <li>A new GitHub organization created as a home for both <code class="language-plaintext highlighter-rouge">DataFusion</code> extensions and as a testing ground for new features.
        <ul>
          <li>Extensions
            <ul>
              <li><a href="https://github.com/datafusion-contrib/datafusion-python">DataFusion-Python</a></li>
              <li><a href="https://github.com/datafusion-contrib/datafusion-java">DataFusion-Java</a></li>
              <li><a href="https://github.com/datafusion-contrib/datafusion-hdfs-native">DataFusion-hdsfs-native</a></li>
              <li><a href="https://github.com/datafusion-contrib/datafusion-objectstore-s3">DataFusion-ObjectStore-s3</a></li>
            </ul>
          </li>
          <li>New Features
            <ul>
              <li><a href="https://github.com/datafusion-contrib/datafusion-streams">DataFusion-Streams</a></li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="https://github.com/jorgecarleitao/arrow2">Arrow2</a>
    <ul>
      <li>An <a href="https://github.com/apache/arrow-datafusion/tree/arrow2">Arrow2 Branch</a> has been created.  There are ongoing discussions in <a href="https://github.com/apache/arrow-datafusion/issues/1532">DataFusion</a> and <a href="https://github.com/apache/arrow-rs/issues/1176">arrow-rs</a> about migrating <code class="language-plaintext highlighter-rouge">DataFusion</code> to <code class="language-plaintext highlighter-rouge">Arrow2</code></li>
    </ul>
  </li>
</ul>

<h1 id="documentation-and-roadmap">Documentation and Roadmap</h1>

<p>We are working to consolidate the documentation into the <a href="https://arrow.apache.org/datafusion">official site</a>.  You can find more details there on topics such as the <a href="https://arrow.apache.org/datafusion/user-guide/sql/index.html">SQL status</a>  and a <a href="https://arrow.apache.org/datafusion/user-guide/introduction.html#introduction">user guide</a>. This is also an area we would love to get help from the broader community <a href="https://github.com/apache/arrow-datafusion/issues/1821">#1821</a>.</p>

<p>To provide transparency on DataFusion’s priorities to users and developers a three month roadmap will be published at the beginning of each quarter.  This can be found here <a href="https://arrow.apache.org/datafusion/specification/roadmap.html">here</a>.</p>

<h1 id="upcoming-attractions">Upcoming Attractions</h1>

<ul>
  <li>Ballista is gaining momentum, and several groups are now evaluating and contributing to the project.
    <ul>
      <li>Some of the proposed improvements
        <ul>
          <li><a href="https://github.com/apache/arrow-datafusion/issues/1701">Improvements Overview</a></li>
          <li><a href="https://github.com/apache/arrow-datafusion/issues/1675">Extensibility</a></li>
          <li><a href="https://github.com/apache/arrow-datafusion/issues/1702">File system access</a></li>
          <li><a href="https://github.com/apache/arrow-datafusion/issues/1704">Cluster state</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Continued improvements for working with limited resources and large datasets
    <ul>
      <li>Memory limited joins<a href="https://github.com/apache/arrow-datafusion/issues/1599">#1599</a></li>
      <li>Sort-merge join<a href="https://github.com/apache/arrow-datafusion/issues/141">#141</a><a href="https://github.com/apache/arrow-datafusion/pull/1776">#1776</a></li>
      <li>Introduce row based bytes representation <a href="https://github.com/apache/arrow-datafusion/pull/1708">#1708</a></li>
    </ul>
  </li>
</ul>

<h1 id="how-to-get-involved">How to Get Involved</h1>

<p>If you are interested in contributing to DataFusion, and learning about state of
the art query processing, we would love to have you join us on the journey! You
can help by trying out DataFusion on some of your own data and projects and let us know how it goes or contribute a PR with documentation, tests or code. A list of open issues suitable for beginners is <a href="https://github.com/apache/arrow-datafusion/issues?q=is%3Aissue+is%3Aopen+label%3A%22good+first+issue%22">here</a></p>

<p>Check out our new <a href="https://arrow.apache.org/datafusion/community/communication.html">Communication Doc</a> on more
ways to engage with the community.</p>

      </main>
    </div>

    <hr/>
<footer class="footer">
  <div class="row">
    <div class="col-md-9">
      <p>Apache Arrow, Arrow, Apache, the Apache feather logo, and the Apache Arrow project logo are either registered trademarks or trademarks of The Apache Software Foundation in the United States and other countries.</p>
      <p>&copy; 2016-2025 The Apache Software Foundation</p>
    </div>
    <div class="col-md-3">
      <a class="d-sm-none d-md-inline pr-2" href="https://www.apache.org/events/current-event.html">
        <img src="https://www.apache.org/events/current-event-234x60.png"/>
      </a>
    </div>
  </div>
</footer>

  </div>
</body>
</html>
