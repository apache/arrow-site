<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above meta tags *must* come first in the head; any other head content must come *after* these tags -->
    
    <title>Introducing Apache Arrow DataFusion Contrib | Apache Arrow</title>
    

    <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="Introducing Apache Arrow DataFusion Contrib" />
<meta name="author" content="pmc" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Introduction Apache Arrow DataFusion is an extensible query execution framework, written in Rust, that uses Apache Arrow as its in-memory format. When you want to extend your Rust project with SQL support, a DataFrame API, or the ability to read and process Parquet, JSON, Avro or CSV data, DataFusion is definitely worth checking out. DataFusion&#39;s pluggable design makes creating extensions at various points particular easy to build. DataFusion&#39;s SQL, DataFrame, and manual PlanBuilder API let users access a sophisticated query optimizer and execution engine capable of fast, resource efficient, and parallel execution that takes optimal advantage of todays multicore hardware. Being written in Rust means DataFusion can offer both the safety of dynamic languages as well as the resource efficiency of a compiled language. The DataFusion team is pleased to announce the creation of the DataFusion-Contrib GitHub organization to support and accelerate other projects. While the core DataFusion library remains under Apache governance, the contrib organization provides a more flexible testing ground for new DataFusion features and a home for DataFusion extensions. With this announcement, we are pleased to introduce the following inaugural DataFusion-Contrib repositories. DataFusion-Python This project provides Python bindings to the core Rust implementation of DataFusion, which allows users to: Work with familiar SQL or DataFrame APIs to run queries in a safe, multi-threaded environment, returning results in Python Create User Defined Functions and User Defined Aggregate Functions for complex operations Pay no overhead to copy between Python and underlying Rust execution engine (by way of Apache Arrow arrays) Upcoming enhancements The team is focusing on exposing more features from the underlying Rust implementation of DataFusion and improving documentation. How to install From pip pip install datafusion Or python -m pip install datafusion DataFusion-ObjectStore-S3 This crate provides an ObjectStore implementation for querying data stored in S3 or S3 compatible storage. This makes it almost as easy to query data that lives on S3 as lives in local files Ability to create S3FileSystem to register as part of DataFusion ExecutionContext Register files or directories stored on S3 with ctx.register_listing_table Upcoming enhancements The current priority is adding python bindings for S3FileSystem. After that there will be async improvements as DataFusion adopts more of that functionality and we are looking into S3 Select functionality. How to Install Add the below to your Cargo.toml in your Rust Project with DataFusion. datafusion-objectstore-s3 = &quot;0.1.0&quot; DataFusion-Substrait Substrait is an emerging standard that provides a cross-language serialization format for relational algebra (e.g. expressions and query plans). This crate provides a Substrait producer and consumer for DataFusion. A producer converts a DataFusion logical plan into a Substrait protobuf and a consumer does the reverse. Examples of how to use this crate can be found here. Potential Use Cases Replace custom DataFusion protobuf serialization. Make it easier to pass query plans over FFI boundaries, such as from Python to Rust Allow Apache Calcite query plans to be executed in DataFusion DataFusion-BigTable This crate implements Bigtable as a data source and physical executor for DataFusion queries. It currently supports both UTF-8 string and 64-bit big-endian signed integers in Bigtable. From a SQL perspective it supports both simple and composite row keys with =, IN, and BETWEEN operators as well as projection pushdown. The physical execution for queries is handled by this crate while any subsequent aggregation, group bys, or joins are handled in DataFusion. Upcoming Enhancements Predicate pushdown Value range Value Regex Timestamp range Multithreaded Partition aware execution Production ready How to Install Add the below to your Cargo.toml in your Rust Project with DataFusion. datafusion-bigtable = &quot;0.1.0&quot; DataFusion-HDFS This crate introduces HadoopFileSystem as a remote ObjectStore which provides the ability to query HDFS files. For HDFS access the fs-hdfs library is used. DataFusion-Tokomak This crate provides an e-graph based DataFusion optimization framework based on the Rust egg library. An e-graph is a data structure that powers the equality saturation optimization technique. As context, the optimizer framework within DataFusion is currently under review with the objective of implementing a more strategic long term solution that is more efficient and simpler to develop. Some of the benefits of using egg within DataFusion are: Implements optimized algorithms that are hard to match with manually written optimization passes Makes it easy and less verbose to add optimization rules Plugin framework to add more complex optimizations Egg does not depend on rule order and can lead to a higher level of optimization by being able to apply multiple rules at the same time until it converges Allows for cost-based optimizations This is an exciting new area for DataFusion with lots of opportunity for community involvement! DataFusion-Tui DataFusion-tui aka dft provides a feature rich terminal application for using DataFusion. It has drawn inspiration and several features from datafusion-cli. In contrast to datafusion-cli the objective of this tool is to provide a light SQL IDE experience for querying data with DataFusion. This includes features such as the following which are currently implemented: Tab Management to provide clean and structured organization of DataFusion queries, results, ExecutionContext information, and logs SQL Editor Text editor for writing SQL queries Query History History of executed queries, their execution time, and the number of returned rows ExecutionContext information Expose information on which physical optimizers are used and which ExecutionConfig settings are set Logs Logs from dft, DataFusion, and any dependent libraries Support for custom ObjectStores S3 Preload DDL from ~/.datafusionrc to enable having local &quot;database&quot; available at startup Upcoming Enhancements SQL Editor Command to write query results to file Multiple SQL editor tabs Expose more information from ExecutionContext A help tab that provides information on functions Query custom TableProviders such as DeltaTable or BigTable DataFusion-Streams DataFusion-Stream is a new testing ground for creating a StreamProvider in DataFusion that will enable querying streaming data sources such as Apache Kafka. The implementation for this feature is currently being designed and is under active review. Once the design is finalized the trait and attendant data structures will be added back to the core DataFusion crate. DataFusion-Java This project created an initial set of Java bindings to DataFusion. The project is currently in maintenance mode and is looking for maintainers to drive future development. How to Get Involved If you are interested in contributing to DataFusion, and learning about state of the art query processing, we would love to have you join us on the journey! You can help by trying out DataFusion on some of your own data and projects and let us know how it goes or contribute a PR with documentation, tests or code. A list of open issues suitable for beginners is here The best way to find out about creating new extensions within DataFusion-Contrib is reaching out on the #arrow-rust channel of the Apache Software Foundation Slack workspace. You can also check out our new Communication Doc on more ways to engage with the community. Links for each DataFusion-Contrib repository are provided above if you would like to contribute to those." />
<meta property="og:description" content="Introduction Apache Arrow DataFusion is an extensible query execution framework, written in Rust, that uses Apache Arrow as its in-memory format. When you want to extend your Rust project with SQL support, a DataFrame API, or the ability to read and process Parquet, JSON, Avro or CSV data, DataFusion is definitely worth checking out. DataFusion&#39;s pluggable design makes creating extensions at various points particular easy to build. DataFusion&#39;s SQL, DataFrame, and manual PlanBuilder API let users access a sophisticated query optimizer and execution engine capable of fast, resource efficient, and parallel execution that takes optimal advantage of todays multicore hardware. Being written in Rust means DataFusion can offer both the safety of dynamic languages as well as the resource efficiency of a compiled language. The DataFusion team is pleased to announce the creation of the DataFusion-Contrib GitHub organization to support and accelerate other projects. While the core DataFusion library remains under Apache governance, the contrib organization provides a more flexible testing ground for new DataFusion features and a home for DataFusion extensions. With this announcement, we are pleased to introduce the following inaugural DataFusion-Contrib repositories. DataFusion-Python This project provides Python bindings to the core Rust implementation of DataFusion, which allows users to: Work with familiar SQL or DataFrame APIs to run queries in a safe, multi-threaded environment, returning results in Python Create User Defined Functions and User Defined Aggregate Functions for complex operations Pay no overhead to copy between Python and underlying Rust execution engine (by way of Apache Arrow arrays) Upcoming enhancements The team is focusing on exposing more features from the underlying Rust implementation of DataFusion and improving documentation. How to install From pip pip install datafusion Or python -m pip install datafusion DataFusion-ObjectStore-S3 This crate provides an ObjectStore implementation for querying data stored in S3 or S3 compatible storage. This makes it almost as easy to query data that lives on S3 as lives in local files Ability to create S3FileSystem to register as part of DataFusion ExecutionContext Register files or directories stored on S3 with ctx.register_listing_table Upcoming enhancements The current priority is adding python bindings for S3FileSystem. After that there will be async improvements as DataFusion adopts more of that functionality and we are looking into S3 Select functionality. How to Install Add the below to your Cargo.toml in your Rust Project with DataFusion. datafusion-objectstore-s3 = &quot;0.1.0&quot; DataFusion-Substrait Substrait is an emerging standard that provides a cross-language serialization format for relational algebra (e.g. expressions and query plans). This crate provides a Substrait producer and consumer for DataFusion. A producer converts a DataFusion logical plan into a Substrait protobuf and a consumer does the reverse. Examples of how to use this crate can be found here. Potential Use Cases Replace custom DataFusion protobuf serialization. Make it easier to pass query plans over FFI boundaries, such as from Python to Rust Allow Apache Calcite query plans to be executed in DataFusion DataFusion-BigTable This crate implements Bigtable as a data source and physical executor for DataFusion queries. It currently supports both UTF-8 string and 64-bit big-endian signed integers in Bigtable. From a SQL perspective it supports both simple and composite row keys with =, IN, and BETWEEN operators as well as projection pushdown. The physical execution for queries is handled by this crate while any subsequent aggregation, group bys, or joins are handled in DataFusion. Upcoming Enhancements Predicate pushdown Value range Value Regex Timestamp range Multithreaded Partition aware execution Production ready How to Install Add the below to your Cargo.toml in your Rust Project with DataFusion. datafusion-bigtable = &quot;0.1.0&quot; DataFusion-HDFS This crate introduces HadoopFileSystem as a remote ObjectStore which provides the ability to query HDFS files. For HDFS access the fs-hdfs library is used. DataFusion-Tokomak This crate provides an e-graph based DataFusion optimization framework based on the Rust egg library. An e-graph is a data structure that powers the equality saturation optimization technique. As context, the optimizer framework within DataFusion is currently under review with the objective of implementing a more strategic long term solution that is more efficient and simpler to develop. Some of the benefits of using egg within DataFusion are: Implements optimized algorithms that are hard to match with manually written optimization passes Makes it easy and less verbose to add optimization rules Plugin framework to add more complex optimizations Egg does not depend on rule order and can lead to a higher level of optimization by being able to apply multiple rules at the same time until it converges Allows for cost-based optimizations This is an exciting new area for DataFusion with lots of opportunity for community involvement! DataFusion-Tui DataFusion-tui aka dft provides a feature rich terminal application for using DataFusion. It has drawn inspiration and several features from datafusion-cli. In contrast to datafusion-cli the objective of this tool is to provide a light SQL IDE experience for querying data with DataFusion. This includes features such as the following which are currently implemented: Tab Management to provide clean and structured organization of DataFusion queries, results, ExecutionContext information, and logs SQL Editor Text editor for writing SQL queries Query History History of executed queries, their execution time, and the number of returned rows ExecutionContext information Expose information on which physical optimizers are used and which ExecutionConfig settings are set Logs Logs from dft, DataFusion, and any dependent libraries Support for custom ObjectStores S3 Preload DDL from ~/.datafusionrc to enable having local &quot;database&quot; available at startup Upcoming Enhancements SQL Editor Command to write query results to file Multiple SQL editor tabs Expose more information from ExecutionContext A help tab that provides information on functions Query custom TableProviders such as DeltaTable or BigTable DataFusion-Streams DataFusion-Stream is a new testing ground for creating a StreamProvider in DataFusion that will enable querying streaming data sources such as Apache Kafka. The implementation for this feature is currently being designed and is under active review. Once the design is finalized the trait and attendant data structures will be added back to the core DataFusion crate. DataFusion-Java This project created an initial set of Java bindings to DataFusion. The project is currently in maintenance mode and is looking for maintainers to drive future development. How to Get Involved If you are interested in contributing to DataFusion, and learning about state of the art query processing, we would love to have you join us on the journey! You can help by trying out DataFusion on some of your own data and projects and let us know how it goes or contribute a PR with documentation, tests or code. A list of open issues suitable for beginners is here The best way to find out about creating new extensions within DataFusion-Contrib is reaching out on the #arrow-rust channel of the Apache Software Foundation Slack workspace. You can also check out our new Communication Doc on more ways to engage with the community. Links for each DataFusion-Contrib repository are provided above if you would like to contribute to those." />
<link rel="canonical" href="https://arrow.apache.org/blog/2022/03/21/datafusion-contrib/" />
<meta property="og:url" content="https://arrow.apache.org/blog/2022/03/21/datafusion-contrib/" />
<meta property="og:site_name" content="Apache Arrow" />
<meta property="og:image" content="https://arrow.apache.org/img/arrow-logo_horizontal_black-txt_white-bg.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-03-21T00:00:00-04:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://arrow.apache.org/img/arrow-logo_horizontal_black-txt_white-bg.png" />
<meta property="twitter:title" content="Introducing Apache Arrow DataFusion Contrib" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"pmc"},"dateModified":"2022-03-21T00:00:00-04:00","datePublished":"2022-03-21T00:00:00-04:00","description":"Introduction Apache Arrow DataFusion is an extensible query execution framework, written in Rust, that uses Apache Arrow as its in-memory format. When you want to extend your Rust project with SQL support, a DataFrame API, or the ability to read and process Parquet, JSON, Avro or CSV data, DataFusion is definitely worth checking out. DataFusion&#39;s pluggable design makes creating extensions at various points particular easy to build. DataFusion&#39;s SQL, DataFrame, and manual PlanBuilder API let users access a sophisticated query optimizer and execution engine capable of fast, resource efficient, and parallel execution that takes optimal advantage of todays multicore hardware. Being written in Rust means DataFusion can offer both the safety of dynamic languages as well as the resource efficiency of a compiled language. The DataFusion team is pleased to announce the creation of the DataFusion-Contrib GitHub organization to support and accelerate other projects. While the core DataFusion library remains under Apache governance, the contrib organization provides a more flexible testing ground for new DataFusion features and a home for DataFusion extensions. With this announcement, we are pleased to introduce the following inaugural DataFusion-Contrib repositories. DataFusion-Python This project provides Python bindings to the core Rust implementation of DataFusion, which allows users to: Work with familiar SQL or DataFrame APIs to run queries in a safe, multi-threaded environment, returning results in Python Create User Defined Functions and User Defined Aggregate Functions for complex operations Pay no overhead to copy between Python and underlying Rust execution engine (by way of Apache Arrow arrays) Upcoming enhancements The team is focusing on exposing more features from the underlying Rust implementation of DataFusion and improving documentation. How to install From pip pip install datafusion Or python -m pip install datafusion DataFusion-ObjectStore-S3 This crate provides an ObjectStore implementation for querying data stored in S3 or S3 compatible storage. This makes it almost as easy to query data that lives on S3 as lives in local files Ability to create S3FileSystem to register as part of DataFusion ExecutionContext Register files or directories stored on S3 with ctx.register_listing_table Upcoming enhancements The current priority is adding python bindings for S3FileSystem. After that there will be async improvements as DataFusion adopts more of that functionality and we are looking into S3 Select functionality. How to Install Add the below to your Cargo.toml in your Rust Project with DataFusion. datafusion-objectstore-s3 = &quot;0.1.0&quot; DataFusion-Substrait Substrait is an emerging standard that provides a cross-language serialization format for relational algebra (e.g. expressions and query plans). This crate provides a Substrait producer and consumer for DataFusion. A producer converts a DataFusion logical plan into a Substrait protobuf and a consumer does the reverse. Examples of how to use this crate can be found here. Potential Use Cases Replace custom DataFusion protobuf serialization. Make it easier to pass query plans over FFI boundaries, such as from Python to Rust Allow Apache Calcite query plans to be executed in DataFusion DataFusion-BigTable This crate implements Bigtable as a data source and physical executor for DataFusion queries. It currently supports both UTF-8 string and 64-bit big-endian signed integers in Bigtable. From a SQL perspective it supports both simple and composite row keys with =, IN, and BETWEEN operators as well as projection pushdown. The physical execution for queries is handled by this crate while any subsequent aggregation, group bys, or joins are handled in DataFusion. Upcoming Enhancements Predicate pushdown Value range Value Regex Timestamp range Multithreaded Partition aware execution Production ready How to Install Add the below to your Cargo.toml in your Rust Project with DataFusion. datafusion-bigtable = &quot;0.1.0&quot; DataFusion-HDFS This crate introduces HadoopFileSystem as a remote ObjectStore which provides the ability to query HDFS files. For HDFS access the fs-hdfs library is used. DataFusion-Tokomak This crate provides an e-graph based DataFusion optimization framework based on the Rust egg library. An e-graph is a data structure that powers the equality saturation optimization technique. As context, the optimizer framework within DataFusion is currently under review with the objective of implementing a more strategic long term solution that is more efficient and simpler to develop. Some of the benefits of using egg within DataFusion are: Implements optimized algorithms that are hard to match with manually written optimization passes Makes it easy and less verbose to add optimization rules Plugin framework to add more complex optimizations Egg does not depend on rule order and can lead to a higher level of optimization by being able to apply multiple rules at the same time until it converges Allows for cost-based optimizations This is an exciting new area for DataFusion with lots of opportunity for community involvement! DataFusion-Tui DataFusion-tui aka dft provides a feature rich terminal application for using DataFusion. It has drawn inspiration and several features from datafusion-cli. In contrast to datafusion-cli the objective of this tool is to provide a light SQL IDE experience for querying data with DataFusion. This includes features such as the following which are currently implemented: Tab Management to provide clean and structured organization of DataFusion queries, results, ExecutionContext information, and logs SQL Editor Text editor for writing SQL queries Query History History of executed queries, their execution time, and the number of returned rows ExecutionContext information Expose information on which physical optimizers are used and which ExecutionConfig settings are set Logs Logs from dft, DataFusion, and any dependent libraries Support for custom ObjectStores S3 Preload DDL from ~/.datafusionrc to enable having local &quot;database&quot; available at startup Upcoming Enhancements SQL Editor Command to write query results to file Multiple SQL editor tabs Expose more information from ExecutionContext A help tab that provides information on functions Query custom TableProviders such as DeltaTable or BigTable DataFusion-Streams DataFusion-Stream is a new testing ground for creating a StreamProvider in DataFusion that will enable querying streaming data sources such as Apache Kafka. The implementation for this feature is currently being designed and is under active review. Once the design is finalized the trait and attendant data structures will be added back to the core DataFusion crate. DataFusion-Java This project created an initial set of Java bindings to DataFusion. The project is currently in maintenance mode and is looking for maintainers to drive future development. How to Get Involved If you are interested in contributing to DataFusion, and learning about state of the art query processing, we would love to have you join us on the journey! You can help by trying out DataFusion on some of your own data and projects and let us know how it goes or contribute a PR with documentation, tests or code. A list of open issues suitable for beginners is here The best way to find out about creating new extensions within DataFusion-Contrib is reaching out on the #arrow-rust channel of the Apache Software Foundation Slack workspace. You can also check out our new Communication Doc on more ways to engage with the community. Links for each DataFusion-Contrib repository are provided above if you would like to contribute to those.","headline":"Introducing Apache Arrow DataFusion Contrib","image":"https://arrow.apache.org/img/arrow-logo_horizontal_black-txt_white-bg.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://arrow.apache.org/blog/2022/03/21/datafusion-contrib/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://arrow.apache.org/img/logo.png"},"name":"pmc"},"url":"https://arrow.apache.org/blog/2022/03/21/datafusion-contrib/"}</script>
<!-- End Jekyll SEO tag -->


    <!-- favicons -->
    <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16.png" id="light1">
    <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png" id="light2">
    <link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/img/apple-touch-icon.png" id="light3">
    <link rel="apple-touch-icon" type="image/png" sizes="120x120" href="/img/apple-touch-icon-120x120.png" id="light4">
    <link rel="apple-touch-icon" type="image/png" sizes="76x76" href="/img/apple-touch-icon-76x76.png" id="light5">
    <link rel="apple-touch-icon" type="image/png" sizes="60x60" href="/img/apple-touch-icon-60x60.png" id="light6">
    <!-- dark mode favicons -->
    <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16-dark.png" id="dark1">
    <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32-dark.png" id="dark2">
    <link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/img/apple-touch-icon-dark.png" id="dark3">
    <link rel="apple-touch-icon" type="image/png" sizes="120x120" href="/img/apple-touch-icon-120x120-dark.png" id="dark4">
    <link rel="apple-touch-icon" type="image/png" sizes="76x76" href="/img/apple-touch-icon-76x76-dark.png" id="dark5">
    <link rel="apple-touch-icon" type="image/png" sizes="60x60" href="/img/apple-touch-icon-60x60-dark.png" id="dark6">

    <script>
      // Switch to the dark-mode favicons if prefers-color-scheme: dark
      function onUpdate() {
        light1 = document.querySelector('link#light1');
        light2 = document.querySelector('link#light2');
        light3 = document.querySelector('link#light3');
        light4 = document.querySelector('link#light4');
        light5 = document.querySelector('link#light5');
        light6 = document.querySelector('link#light6');

        dark1 = document.querySelector('link#dark1');
        dark2 = document.querySelector('link#dark2');
        dark3 = document.querySelector('link#dark3');
        dark4 = document.querySelector('link#dark4');
        dark5 = document.querySelector('link#dark5');
        dark6 = document.querySelector('link#dark6');

        if (matcher.matches) {
          light1.remove();
          light2.remove();
          light3.remove();
          light4.remove();
          light5.remove();
          light6.remove();
          document.head.append(dark1);
          document.head.append(dark2);
          document.head.append(dark3);
          document.head.append(dark4);
          document.head.append(dark5);
          document.head.append(dark6);
        } else {
          dark1.remove();
          dark2.remove();
          dark3.remove();
          dark4.remove();
          dark5.remove();
          dark6.remove();
          document.head.append(light1);
          document.head.append(light2);
          document.head.append(light3);
          document.head.append(light4);
          document.head.append(light5);
          document.head.append(light6);
        }
      }
      matcher = window.matchMedia('(prefers-color-scheme: dark)');
      matcher.addListener(onUpdate);
      onUpdate();
    </script>

    <link href="/css/main.css" rel="stylesheet">
    <link href="/css/syntax.css" rel="stylesheet">
    <script src="/javascript/main.js"></script>
    
    <!-- Matomo -->
<script>
  var _paq = window._paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  /* We explicitly disable cookie tracking to avoid privacy issues */
  _paq.push(['disableCookies']);
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="https://analytics.apache.org/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '20']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<!-- End Matomo Code -->

    
    <link type="application/atom+xml" rel="alternate" href="https://arrow.apache.org/feed.xml" title="Apache Arrow" />
  </head>


<body class="wrap">
  <header>
    <nav class="navbar navbar-expand-md navbar-dark bg-dark">
  
  <a class="navbar-brand no-padding" href="/"><img src="/img/arrow-inverse-300px.png" height="40px"></a>
  
   <button class="navbar-toggler ml-auto" type="button" data-toggle="collapse" data-target="#arrow-navbar" aria-controls="arrow-navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse justify-content-end" id="arrow-navbar">
      <ul class="nav navbar-nav">
        <li class="nav-item"><a class="nav-link" href="/overview/" role="button" aria-haspopup="true" aria-expanded="false">Overview</a></li>
        <li class="nav-item"><a class="nav-link" href="/faq/" role="button" aria-haspopup="true" aria-expanded="false">FAQ</a></li>
        <li class="nav-item"><a class="nav-link" href="/blog" role="button" aria-haspopup="true" aria-expanded="false">Blog</a></li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownGetArrow" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
             Get Arrow
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownGetArrow">
            <a class="dropdown-item" href="/install/">Install</a>
            <a class="dropdown-item" href="/release/">Releases</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownDocumentation" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
             Docs
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownDocumentation">
            <a class="dropdown-item" href="/docs">Project Docs</a>
            <a class="dropdown-item" href="/docs/format/Columnar.html">Format</a>
            <hr>
            <a class="dropdown-item" href="/docs/c_glib">C GLib</a>
            <a class="dropdown-item" href="/docs/cpp">C++</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow/blob/main/csharp/README.md" target="_blank" rel="noopener">C#</a>
            <a class="dropdown-item" href="https://godoc.org/github.com/apache/arrow/go/arrow" target="_blank" rel="noopener">Go</a>
            <a class="dropdown-item" href="/docs/java">Java</a>
            <a class="dropdown-item" href="/docs/js">JavaScript</a>
            <a class="dropdown-item" href="/julia/">Julia</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow/blob/main/matlab/README.md" target="_blank" rel="noopener">MATLAB</a>
            <a class="dropdown-item" href="/docs/python">Python</a>
            <a class="dropdown-item" href="/docs/r">R</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow/blob/main/ruby/README.md" target="_blank" rel="noopener">Ruby</a>
            <a class="dropdown-item" href="https://docs.rs/arrow/latest" target="_blank" rel="noopener">Rust</a>
            <a class="dropdown-item" href="/swift">Swift</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownSource" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
             Source
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownSource">
            <a class="dropdown-item" href="https://github.com/apache/arrow" target="_blank" rel="noopener">Main Repo</a>
            <hr>
            <a class="dropdown-item" href="https://github.com/apache/arrow/tree/main/c_glib" target="_blank" rel="noopener">C GLib</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow/tree/main/cpp" target="_blank" rel="noopener">C++</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow/tree/main/csharp" target="_blank" rel="noopener">C#</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow-go" target="_blank" rel="noopener">Go</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow-java" target="_blank" rel="noopener">Java</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow-js" target="_blank" rel="noopener">JavaScript</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow-julia" target="_blank" rel="noopener">Julia</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow/tree/main/matlab" target="_blank" rel="noopener">MATLAB</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow/tree/main/python" target="_blank" rel="noopener">Python</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow/tree/main/r" target="_blank" rel="noopener">R</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow/tree/main/ruby" target="_blank" rel="noopener">Ruby</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow-rs" target="_blank" rel="noopener">Rust</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow-swift" target="_blank" rel="noopener">Swift</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownSubprojects" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
             Subprojects
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownSubprojects">
            <a class="dropdown-item" href="/adbc">ADBC</a>
            <a class="dropdown-item" href="/docs/format/Flight.html">Arrow Flight</a>
            <a class="dropdown-item" href="/docs/format/FlightSql.html">Arrow Flight SQL</a>
            <a class="dropdown-item" href="https://datafusion.apache.org" target="_blank" rel="noopener">DataFusion</a>
            <a class="dropdown-item" href="/nanoarrow">nanoarrow</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownCommunity" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
             Community
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdownCommunity">
            <a class="dropdown-item" href="/community/">Communication</a>
            <a class="dropdown-item" href="/docs/developers/index.html">Contributing</a>
            <a class="dropdown-item" href="https://github.com/apache/arrow/issues" target="_blank" rel="noopener">Issue Tracker</a>
            <a class="dropdown-item" href="/committers/">Governance</a>
            <a class="dropdown-item" href="/use_cases/">Use Cases</a>
            <a class="dropdown-item" href="/powered_by/">Powered By</a>
            <a class="dropdown-item" href="/visual_identity/">Visual Identity</a>
            <a class="dropdown-item" href="/security/">Security</a>
            <a class="dropdown-item" href="https://www.apache.org/foundation/policies/conduct.html" target="_blank" rel="noopener">Code of Conduct</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownASF" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
             ASF Links
          </a>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownASF">
            <a class="dropdown-item" href="https://www.apache.org/" target="_blank" rel="noopener">ASF Website</a>
            <a class="dropdown-item" href="https://www.apache.org/licenses/" target="_blank" rel="noopener">License</a>
            <a class="dropdown-item" href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener">Donate</a>
            <a class="dropdown-item" href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener">Thanks</a>
            <a class="dropdown-item" href="https://www.apache.org/security/" target="_blank" rel="noopener">Security</a>
          </div>
        </li>
      </ul>
    </div>
<!-- /.navbar-collapse -->
  </nav>

  </header>

  <div class="container p-4 pt-5">
    <div class="col-md-8 mx-auto">
      <main role="main" class="pb-5">
        
<h1>
  Introducing Apache Arrow DataFusion Contrib
</h1>
<hr class="mt-4 mb-3">



<p class="mb-4 pb-1">
  <span class="badge badge-secondary">Published</span>
  <span class="published mr-3">
    21 Mar 2022
  </span>
  <br>
  <span class="badge badge-secondary">By</span>
  
    <a class="mr-3" href="https://arrow.apache.org">The Apache Arrow PMC (pmc) </a>
  

  
</p>


        <!--

-->
<h1>Introduction</h1>
<p>Apache Arrow <a href="https://arrow.apache.org/datafusion/">DataFusion</a> is an extensible query execution framework, written in Rust, that uses <a href="https://arrow.apache.org">Apache Arrow</a> as its in-memory format.</p>
<p>When you want to extend your Rust project with <a href="https://arrow.apache.org/datafusion/user-guide/sql/sql_status.html">SQL support</a>, a DataFrame API, or the ability to read and process Parquet, JSON, Avro or CSV data, DataFusion is definitely worth checking out. DataFusion's pluggable design makes creating extensions at various points particular easy to build.</p>
<p>DataFusion's  SQL, <code>DataFrame</code>, and manual <code>PlanBuilder</code> API let users access a sophisticated query optimizer and execution engine capable of fast, resource efficient, and parallel execution that takes optimal advantage of todays multicore hardware. Being written in Rust means DataFusion can offer <em>both</em> the safety of dynamic languages as well as the resource efficiency of a compiled language.</p>
<p>The DataFusion team is pleased to announce the creation of the <a href="https://github.com/datafusion-contrib" target="_blank" rel="noopener">DataFusion-Contrib</a> GitHub organization to support and accelerate other projects.  While the core DataFusion library remains under Apache governance, the contrib organization provides a more flexible testing ground for new DataFusion features and a home for DataFusion extensions.  With this announcement, we are pleased to introduce the following inaugural DataFusion-Contrib repositories.</p>
<h2>DataFusion-Python</h2>
<p>This <a href="https://github.com/datafusion-contrib/datafusion-python" target="_blank" rel="noopener">project</a> provides Python bindings to the core Rust implementation of DataFusion, which allows users to:</p>
<ul>
<li>Work with familiar SQL or DataFrame APIs to run queries in a safe, multi-threaded environment, returning results in Python</li>
<li>Create User Defined Functions and User Defined Aggregate Functions for complex operations</li>
<li>Pay no overhead to copy between Python and underlying Rust execution engine (by way of Apache Arrow arrays)</li>
</ul>
<h3>Upcoming enhancements</h3>
<p>The team is focusing on exposing more features from the underlying Rust implementation of DataFusion and improving documentation.</p>
<h3>How to install</h3>
<p>From <code>pip</code></p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="bash">pip <span class="nb">install </span>datafusion
</code></pre></div></div>
<p>Or</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="bash">python <span class="nt">-m</span> pip <span class="nb">install </span>datafusion
</code></pre></div></div>
<h2>DataFusion-ObjectStore-S3</h2>
<p>This <a href="https://github.com/datafusion-contrib/datafusion-objectstore-s3" target="_blank" rel="noopener">crate</a> provides an <code>ObjectStore</code> implementation for querying data stored in S3 or S3 compatible storage. This makes it almost as easy to query data that lives on S3 as lives in local files</p>
<ul>
<li>Ability to create <code>S3FileSystem</code> to register as part of DataFusion <code>ExecutionContext</code>
</li>
<li>Register files or directories stored on S3 with <code>ctx.register_listing_table</code>
</li>
</ul>
<h3>Upcoming enhancements</h3>
<p>The current priority is adding python bindings for <code>S3FileSystem</code>.  After that there will be async improvements as DataFusion adopts more of that functionality and we are looking into S3 Select functionality.</p>
<h3>How to Install</h3>
<p>Add the below to your <code>Cargo.toml</code> in your Rust Project with DataFusion.</p>
<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="toml"><span class="py">datafusion-objectstore-s3</span> <span class="p">=</span> <span class="s">"0.1.0"</span>
</code></pre></div></div>
<h2>DataFusion-Substrait</h2>
<p><a href="https://substrait.io/" target="_blank" rel="noopener">Substrait</a> is an emerging standard that provides a cross-language serialization format for relational algebra (e.g. expressions and query plans).</p>
<p>This <a href="https://github.com/datafusion-contrib/datafusion-substrait" target="_blank" rel="noopener">crate</a> provides a Substrait producer and consumer for DataFusion.  A producer converts a DataFusion logical plan into a Substrait protobuf and a consumer does the reverse.</p>
<p>Examples of how to use this crate can be found <a href="https://github.com/datafusion-contrib/datafusion-substrait/blob/main/src/lib.rs" target="_blank" rel="noopener">here</a>.</p>
<h3>Potential Use Cases</h3>
<ul>
<li>Replace custom DataFusion protobuf serialization.</li>
<li>Make it easier to pass query plans over FFI boundaries, such as from Python to Rust</li>
<li>Allow Apache Calcite query plans to be executed in DataFusion</li>
</ul>
<h2>DataFusion-BigTable</h2>
<p>This <a href="https://github.com/datafusion-contrib/datafusion-bigtable" target="_blank" rel="noopener">crate</a> implements <a href="https://cloud.google.com/bigtable" target="_blank" rel="noopener">Bigtable</a> as a data source and physical executor for DataFusion queries.  It currently supports both UTF-8 string and 64-bit big-endian signed integers in Bigtable.  From a SQL perspective it supports both simple and composite row keys with <code>=</code>, <code>IN</code>, and <code>BETWEEN</code> operators as well as projection pushdown.  The physical execution for queries is handled by this crate while any subsequent aggregation, group bys, or joins are handled in DataFusion.</p>
<h3>Upcoming Enhancements</h3>
<ul>
<li>Predicate pushdown
<ul>
<li>Value range</li>
<li>Value Regex</li>
<li>Timestamp range</li>
</ul>
</li>
<li>Multithreaded</li>
<li>Partition aware execution</li>
<li>Production ready</li>
</ul>
<h3>How to Install</h3>
<p>Add the below to your <code>Cargo.toml</code> in your Rust Project with DataFusion.</p>
<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code data-lang="toml"><span class="py">datafusion-bigtable</span> <span class="p">=</span> <span class="s">"0.1.0"</span>
</code></pre></div></div>
<h2>DataFusion-HDFS</h2>
<p>This <a href="https://github.com/datafusion-contrib/datafusion-objectstore-hdfs" target="_blank" rel="noopener">crate</a> introduces <code>HadoopFileSystem</code> as a remote <code>ObjectStore</code> which provides the ability to query HDFS files.  For HDFS access the <a href="https://github.com/yahoNanJing/fs-hdfs" target="_blank" rel="noopener">fs-hdfs</a> library is used.</p>
<h2>DataFusion-Tokomak</h2>
<p>This <a href="https://github.com/datafusion-contrib/datafusion-tokomak" target="_blank" rel="noopener">crate</a> provides an e-graph based DataFusion optimization framework based on the Rust <a href="https://egraphs-good.github.io" target="_blank" rel="noopener">egg</a> library.  An e-graph is a data structure that powers the equality saturation optimization technique.</p>
<p>As context, the optimizer framework within DataFusion is currently <a href="https://github.com/apache/arrow-datafusion/issues/1972" target="_blank" rel="noopener">under review</a> with the objective of implementing a more strategic long term solution that is more efficient and simpler to develop.</p>
<p>Some of the benefits of using <code>egg</code> within DataFusion are:</p>
<ul>
<li>Implements optimized algorithms that are hard to match with manually written optimization passes</li>
<li>Makes it easy and less verbose to add optimization rules</li>
<li>Plugin framework to add more complex optimizations</li>
<li>Egg does not depend on rule order and can lead to a higher level of optimization by being able to apply multiple rules at the same time until it converges</li>
<li>Allows for cost-based optimizations</li>
</ul>
<p>This is an exciting new area for DataFusion with lots of opportunity for community involvement!</p>
<h2>DataFusion-Tui</h2>
<p><a href="https://github.com/datafusion-contrib/datafusion-tui" target="_blank" rel="noopener">DataFusion-tui</a> aka <code>dft</code> provides a feature rich terminal application for using DataFusion.  It has drawn inspiration and several features from <code>datafusion-cli</code>.  In contrast to <code>datafusion-cli</code> the objective of this tool is to provide a light SQL IDE experience for querying data with DataFusion.  This includes features such as the following which are currently implemented:</p>
<ul>
<li>Tab Management to provide clean and structured organization of DataFusion queries, results, <code>ExecutionContext</code> information, and logs
<ul>
<li>SQL Editor
<ul>
<li>Text editor for writing SQL queries</li>
</ul>
</li>
<li>Query History
<ul>
<li>History of executed queries, their execution time, and the number of returned rows</li>
</ul>
</li>
<li>
<code>ExecutionContext</code> information
<ul>
<li>Expose information on which physical optimizers are used and which <code>ExecutionConfig</code> settings are set</li>
</ul>
</li>
<li>Logs
<ul>
<li>Logs from <code>dft</code>, DataFusion, and any dependent libraries</li>
</ul>
</li>
</ul>
</li>
<li>Support for custom <code>ObjectStore</code>s
<ul>
<li>S3</li>
</ul>
</li>
<li>Preload DDL from <code>~/.datafusionrc</code> to enable having local "database" available at startup</li>
</ul>
<h3>Upcoming Enhancements</h3>
<ul>
<li>SQL Editor
<ul>
<li>Command to write query results to file</li>
<li>Multiple SQL editor tabs</li>
</ul>
</li>
<li>Expose more information from <code>ExecutionContext</code>
</li>
<li>A help tab that provides information on functions</li>
<li>Query custom <code>TableProvider</code>s such as <a href="https://github.com/delta-io/delta-rs" target="_blank" rel="noopener">DeltaTable</a> or <a href="https://github.com/datafusion-contrib/datafusion-bigtable" target="_blank" rel="noopener">BigTable</a>
</li>
</ul>
<h2>DataFusion-Streams</h2>
<p><a href="https://github.com/datafusion-contrib/datafusion-streams" target="_blank" rel="noopener">DataFusion-Stream</a> is a new testing ground for creating a <code>StreamProvider</code> in DataFusion that will enable querying streaming data sources such as Apache Kafka.  The implementation for this feature is currently being designed and is under active review.  Once the design is finalized the trait and attendant data structures will be added back to the core DataFusion crate.</p>
<h2>DataFusion-Java</h2>
<p>This <a href="https://github.com/datafusion-contrib/datafusion-java" target="_blank" rel="noopener">project</a> created an initial set of Java bindings to DataFusion.  The project is currently in maintenance mode and is looking for maintainers to drive future development.</p>
<h1>How to Get Involved</h1>
<p>If you are interested in contributing to DataFusion, and learning about state of
the art query processing, we would love to have you join us on the journey! You
can help by trying out DataFusion on some of your own data and projects and let us know how it goes or contribute a PR with documentation, tests or code. A list of open issues suitable for beginners is <a href="https://github.com/apache/arrow-datafusion/issues?q=is%3Aissue+is%3Aopen+label%3A%22good+first+issue%22" target="_blank" rel="noopener">here</a></p>
<p>The best way to find out about creating new extensions within DataFusion-Contrib is reaching out on the <code>#arrow-rust</code> channel of the Apache Software Foundation <a href="https://join.slack.com/t/the-asf/shared_invite/zt-vlfbf7ch-HkbNHiU_uDlcH_RvaHv9gQ" target="_blank" rel="noopener">Slack</a> workspace.</p>
<p>You can also check out our new <a href="https://arrow.apache.org/datafusion/community/communication.html">Communication Doc</a> on more ways to engage with the community.</p>
<p>Links for each DataFusion-Contrib repository are provided above if you would like to contribute to those.</p>

      </main>
    </div>

    <hr>
<footer class="footer">
  <div class="row">
    <div class="col-md-9">
      <p>Apache Arrow, Arrow, Apache, the Apache feather logo, and the Apache Arrow project logo are either registered trademarks or trademarks of The Apache Software Foundation in the United States and other countries.</p>
      <p> 2016-2025 The Apache Software Foundation</p>
    </div>
    <div class="col-md-3">
      <a class="d-sm-none d-md-inline pr-2" href="https://www.apache.org/events/current-event.html" target="_blank" rel="noopener">
        <img src="https://www.apache.org/events/current-event-234x60.png">
      </a>
    </div>
  </div>
</footer>

  </div>
</body>
</html>
