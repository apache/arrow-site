<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>ReferenceManager (Apache Arrow Java Root POM 18.1.0 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: module: org.apache.arrow.memory.core, package: org.apache.arrow.memory, interface: ReferenceManager">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="../../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/ReferenceManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="module-label-in-type">Module</span>&nbsp;<a href="../../../../module-summary.html">org.apache.arrow.memory.core</a></div>
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.arrow.memory</a></div>
<h1 title="Interface ReferenceManager" class="title">Interface ReferenceManager</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="BufferLedger.html" title="class in org.apache.arrow.memory">BufferLedger</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">ReferenceManager</span></div>
<div class="block">ReferenceManager is the reference count for one or more allocations.

 <p>In order to integrate with the core <a href="BufferAllocator.html" title="interface in org.apache.arrow.memory"><code>BufferAllocator</code></a> implementation, the allocation
 itself should be represented by an <a href="AllocationManager.html" title="class in org.apache.arrow.memory"><code>AllocationManager</code></a>, though this is not required by the
 API.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final <a href="ReferenceManager.html" title="interface in org.apache.arrow.memory">ReferenceManager</a></code></div>
<div class="col-second even-row-color"><code><a href="#NO_OP" class="member-name-link">NO_OP</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#NO_OP_ERROR_MESSAGE" class="member-name-link">NO_OP_ERROR_MESSAGE</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="ArrowBuf.html" title="class in org.apache.arrow.memory">ArrowBuf</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#deriveBuffer(org.apache.arrow.memory.ArrowBuf,long,long)" class="member-name-link">deriveBuffer</a><wbr>(<a href="ArrowBuf.html" title="class in org.apache.arrow.memory">ArrowBuf</a>&nbsp;sourceBuffer,
 long&nbsp;index,
 long&nbsp;length)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Derive a new ArrowBuf from a given source ArrowBuf.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getAccountedSize()" class="member-name-link">getAccountedSize</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Get the total accounted size (in bytes).</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="BufferAllocator.html" title="interface in org.apache.arrow.memory">BufferAllocator</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getAllocator()" class="member-name-link">getAllocator</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Get the buffer allocator associated with this reference manager.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getRefCount()" class="member-name-link">getRefCount</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Return the reference count.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getSize()" class="member-name-link">getSize</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Total size (in bytes) of memory underlying this reference manager.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#release()" class="member-name-link">release</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Decrement this reference manager's reference count by 1 for the associated underlying memory.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#release(int)" class="member-name-link">release</a><wbr>(int&nbsp;decrement)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Decrement this reference manager's reference count for the associated underlying memory.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#retain()" class="member-name-link">retain</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Increment this reference manager's reference count by 1 for the associated underlying memory.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#retain(int)" class="member-name-link">retain</a><wbr>(int&nbsp;increment)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Increment this reference manager's reference count by a given amount for the associated
 underlying memory.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="ArrowBuf.html" title="class in org.apache.arrow.memory">ArrowBuf</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#retain(org.apache.arrow.memory.ArrowBuf,org.apache.arrow.memory.BufferAllocator)" class="member-name-link">retain</a><wbr>(<a href="ArrowBuf.html" title="class in org.apache.arrow.memory">ArrowBuf</a>&nbsp;srcBuffer,
 <a href="BufferAllocator.html" title="interface in org.apache.arrow.memory">BufferAllocator</a>&nbsp;targetAllocator)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Create a new ArrowBuf that is associated with an alternative allocator for the purposes of
 memory ownership and accounting.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="OwnershipTransferResult.html" title="interface in org.apache.arrow.memory">OwnershipTransferResult</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#transferOwnership(org.apache.arrow.memory.ArrowBuf,org.apache.arrow.memory.BufferAllocator)" class="member-name-link">transferOwnership</a><wbr>(<a href="ArrowBuf.html" title="class in org.apache.arrow.memory">ArrowBuf</a>&nbsp;sourceBuffer,
 <a href="BufferAllocator.html" title="interface in org.apache.arrow.memory">BufferAllocator</a>&nbsp;targetAllocator)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Duplicate the memory accounting ownership of the backing allocation of the given ArrowBuf in
 another allocator.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="NO_OP_ERROR_MESSAGE">
<h3>NO_OP_ERROR_MESSAGE</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">NO_OP_ERROR_MESSAGE</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#org.apache.arrow.memory.ReferenceManager.NO_OP_ERROR_MESSAGE">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="NO_OP">
<h3>NO_OP</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type"><a href="ReferenceManager.html" title="interface in org.apache.arrow.memory">ReferenceManager</a></span>&nbsp;<span class="element-name">NO_OP</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getRefCount()">
<h3>getRefCount</h3>
<div class="member-signature"><span class="return-type">int</span>&nbsp;<span class="element-name">getRefCount</span>()</div>
<div class="block">Return the reference count.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>reference count</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="release()">
<h3>release</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">release</span>()</div>
<div class="block">Decrement this reference manager's reference count by 1 for the associated underlying memory.
 If the reference count drops to 0, it implies that ArrowBufs managed by this reference manager
 no longer need access to the underlying memory</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if ref count has dropped to 0, false otherwise</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="release(int)">
<h3>release</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">release</span><wbr><span class="parameters">(int&nbsp;decrement)</span></div>
<div class="block">Decrement this reference manager's reference count for the associated underlying memory. If the
 reference count drops to 0, it implies that ArrowBufs managed by this reference manager no
 longer need access to the underlying memory</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>decrement</code> - the count to decrease the reference count by</dd>
<dt>Returns:</dt>
<dd>the new reference count</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="retain()">
<h3>retain</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">retain</span>()</div>
<div class="block">Increment this reference manager's reference count by 1 for the associated underlying memory.</div>
</section>
</li>
<li>
<section class="detail" id="retain(int)">
<h3>retain</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">retain</span><wbr><span class="parameters">(int&nbsp;increment)</span></div>
<div class="block">Increment this reference manager's reference count by a given amount for the associated
 underlying memory.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>increment</code> - the count to increase the reference count by</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="retain(org.apache.arrow.memory.ArrowBuf,org.apache.arrow.memory.BufferAllocator)">
<h3>retain</h3>
<div class="member-signature"><span class="return-type"><a href="ArrowBuf.html" title="class in org.apache.arrow.memory">ArrowBuf</a></span>&nbsp;<span class="element-name">retain</span><wbr><span class="parameters">(<a href="ArrowBuf.html" title="class in org.apache.arrow.memory">ArrowBuf</a>&nbsp;srcBuffer,
 <a href="BufferAllocator.html" title="interface in org.apache.arrow.memory">BufferAllocator</a>&nbsp;targetAllocator)</span></div>
<div class="block">Create a new ArrowBuf that is associated with an alternative allocator for the purposes of
 memory ownership and accounting. This has no impact on the reference counting for the current
 ArrowBuf except in the situation where the passed in Allocator is the same as the current
 buffer. This operation has no impact on the reference count of this ArrowBuf. The newly created
 ArrowBuf with either have a reference count of 1 (in the case that this is the first time this
 memory is being associated with the target allocator or in other words allocation manager
 currently doesn't hold a mapping for the target allocator) or the current value of the
 reference count for the target allocator-reference manager combination + 1 in the case that the
 provided allocator already had an association to this underlying memory.

 <p>The underlying allocation (<a href="AllocationManager.html" title="class in org.apache.arrow.memory"><code>AllocationManager</code></a>) will not be copied.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>srcBuffer</code> - source ArrowBuf</dd>
<dd><code>targetAllocator</code> - The target allocator to create an association with.</dd>
<dt>Returns:</dt>
<dd>A new ArrowBuf which shares the same underlying memory as this ArrowBuf.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="deriveBuffer(org.apache.arrow.memory.ArrowBuf,long,long)">
<h3>deriveBuffer</h3>
<div class="member-signature"><span class="return-type"><a href="ArrowBuf.html" title="class in org.apache.arrow.memory">ArrowBuf</a></span>&nbsp;<span class="element-name">deriveBuffer</span><wbr><span class="parameters">(<a href="ArrowBuf.html" title="class in org.apache.arrow.memory">ArrowBuf</a>&nbsp;sourceBuffer,
 long&nbsp;index,
 long&nbsp;length)</span></div>
<div class="block">Derive a new ArrowBuf from a given source ArrowBuf. The new derived ArrowBuf will share the
 same reference count as rest of the ArrowBufs associated with this reference manager.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>sourceBuffer</code> - source ArrowBuf</dd>
<dd><code>index</code> - index (relative to source ArrowBuf) new ArrowBuf should be derived from</dd>
<dd><code>length</code> - length (bytes) of data in underlying memory that derived buffer will have access
     to in underlying memory</dd>
<dt>Returns:</dt>
<dd>derived buffer</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="transferOwnership(org.apache.arrow.memory.ArrowBuf,org.apache.arrow.memory.BufferAllocator)">
<h3>transferOwnership</h3>
<div class="member-signature"><span class="return-type"><a href="OwnershipTransferResult.html" title="interface in org.apache.arrow.memory">OwnershipTransferResult</a></span>&nbsp;<span class="element-name">transferOwnership</span><wbr><span class="parameters">(<a href="ArrowBuf.html" title="class in org.apache.arrow.memory">ArrowBuf</a>&nbsp;sourceBuffer,
 <a href="BufferAllocator.html" title="interface in org.apache.arrow.memory">BufferAllocator</a>&nbsp;targetAllocator)</span></div>
<div class="block">Duplicate the memory accounting ownership of the backing allocation of the given ArrowBuf in
 another allocator. This will generate a new ArrowBuf that carries an association with the same
 underlying memory (<a href="AllocationManager.html" title="class in org.apache.arrow.memory"><code>AllocationManager</code></a>s) as the given ArrowBuf.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>sourceBuffer</code> - source ArrowBuf</dd>
<dd><code>targetAllocator</code> - The target allocator to create an association with</dd>
<dt>Returns:</dt>
<dd><a href="OwnershipTransferResult.html" title="interface in org.apache.arrow.memory"><code>OwnershipTransferResult</code></a> with info on transfer result and new buffer</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAllocator()">
<h3>getAllocator</h3>
<div class="member-signature"><span class="return-type"><a href="BufferAllocator.html" title="interface in org.apache.arrow.memory">BufferAllocator</a></span>&nbsp;<span class="element-name">getAllocator</span>()</div>
<div class="block">Get the buffer allocator associated with this reference manager.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>buffer allocator.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getSize()">
<h3>getSize</h3>
<div class="member-signature"><span class="return-type">long</span>&nbsp;<span class="element-name">getSize</span>()</div>
<div class="block">Total size (in bytes) of memory underlying this reference manager.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>Size (in bytes) of the memory chunk.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAccountedSize()">
<h3>getAccountedSize</h3>
<div class="member-signature"><span class="return-type">long</span>&nbsp;<span class="element-name">getAccountedSize</span>()</div>
<div class="block">Get the total accounted size (in bytes).</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>accounted size.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2024 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
