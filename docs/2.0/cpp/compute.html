


<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Compute Functions &mdash; Apache Arrow v2.0.0</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="canonical" href="https://arrow.apache.org/docs/cpp/compute.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Input / output and filesystems" href="io.html" />
    <link rel="prev" title="Tabular Data" href="tables.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> Apache Arrow
          

          
          </a>

          
            
            
              <div class="version">
                2.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Specifications and Protocols</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../format/Versioning.html">Format Versioning and Stability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../format/Columnar.html">Arrow Columnar Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../format/Flight.html">Arrow Flight RPC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../format/Integration.html">Integration Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../format/CDataInterface.html">The Arrow C data interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../format/CStreamInterface.html">The Arrow C stream interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../format/Other.html">Other Data Structures</a></li>
</ul>
<p class="caption"><span class="caption-text">Libraries</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../status.html">Implementation Status</a></li>
<li class="toctree-l1"><a class="reference external" href="https://arrow.apache.org/docs/c_glib/">C/GLib</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">C++</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="getting_started.html">User Guide</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="overview.html">High-Level Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="conventions.html">Conventions</a></li>
<li class="toctree-l3"><a class="reference internal" href="cmake.html">Using Arrow C++ in your own project</a></li>
<li class="toctree-l3"><a class="reference internal" href="memory.html">Memory Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="arrays.html">Arrays</a></li>
<li class="toctree-l3"><a class="reference internal" href="datatypes.html">Data Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="tables.html">Tabular Data</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Compute Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#the-generic-compute-api">The generic Compute API</a></li>
<li class="toctree-l4"><a class="reference internal" href="#available-functions">Available functions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="io.html">Input / output and filesystems</a></li>
<li class="toctree-l3"><a class="reference internal" href="parquet.html">Reading and writing Parquet files</a></li>
<li class="toctree-l3"><a class="reference internal" href="csv.html">Reading CSV files</a></li>
<li class="toctree-l3"><a class="reference internal" href="json.html">Reading JSON files</a></li>
<li class="toctree-l3"><a class="reference internal" href="flight.html">Arrow Flight RPC</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="examples/index.html">Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html">API Reference</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/apache/arrow/blob/master/csharp/README.md">C#</a></li>
<li class="toctree-l1"><a class="reference external" href="https://godoc.org/github.com/apache/arrow/go/arrow">Go</a></li>
<li class="toctree-l1"><a class="reference internal" href="../java/index.html">Java</a></li>
<li class="toctree-l1"><a class="reference external" href="https://arrow.apache.org/docs/js/">JavaScript</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/apache/arrow/blob/master/matlab/README.md">MATLAB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/index.html">Python</a></li>
<li class="toctree-l1"><a class="reference external" href="https://arrow.apache.org/docs/r/">R</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/apache/arrow/blob/master/ruby/README.md">Ruby</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.rs/crate/arrow/">Rust</a></li>
</ul>
<p class="caption"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developers/contributing.html">Contributing to Apache Arrow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/cpp/index.html">C++ Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/python.html">Python Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/archery.html">Daily Development using Archery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/crossbow.html">Packaging and Testing with Crossbow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/docker.html">Running Docker Builds</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/benchmarks.html">Benchmarks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/documentation.html">Building the Documentation</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Apache Arrow</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">C++ Implementation</a> &raquo;</li>
        
          <li><a href="getting_started.html">User Guide</a> &raquo;</li>
        
      <li>Compute Functions</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/cpp/compute.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="compute-functions">
<h1>Compute Functions<a class="headerlink" href="#compute-functions" title="Permalink to this headline">¶</a></h1>
<div class="section" id="the-generic-compute-api">
<h2>The generic Compute API<a class="headerlink" href="#the-generic-compute-api" title="Permalink to this headline">¶</a></h2>
<div class="section" id="functions-and-function-registry">
<h3>Functions and function registry<a class="headerlink" href="#functions-and-function-registry" title="Permalink to this headline">¶</a></h3>
<p>Functions represent compute operations over inputs of possibly varying
types.  Internally, a function is implemented by one or several
“kernels”, depending on the concrete input types (for example, a function
adding values from two inputs can have different kernels depending on
whether the inputs are integral or floating-point).</p>
<p>Functions are stored in a global <a class="reference internal" href="api/compute.html#_CPPv4N5arrow7compute16FunctionRegistryE" title="arrow::compute::FunctionRegistry"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">FunctionRegistry</span></code></a> where
they can be looked up by name.</p>
</div>
<div class="section" id="input-shapes">
<h3>Input shapes<a class="headerlink" href="#input-shapes" title="Permalink to this headline">¶</a></h3>
<p>Computation inputs are represented as a general <a class="reference internal" href="api/compute.html#_CPPv4N5arrow5DatumE" title="arrow::Datum"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">Datum</span></code></a> class,
which is a tagged union of several shapes of data such as <a class="reference internal" href="api/scalar.html#_CPPv4N5arrow6ScalarE" title="arrow::Scalar"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">Scalar</span></code></a>,
<a class="reference internal" href="api/array.html#_CPPv4N5arrow5ArrayE" title="arrow::Array"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">Array</span></code></a> and <a class="reference internal" href="api/array.html#_CPPv4N5arrow12ChunkedArrayE" title="arrow::ChunkedArray"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">ChunkedArray</span></code></a>.  Many compute functions support
both array (chunked or not) and scalar inputs, however some will mandate
either.  For example, the <code class="docutils literal notranslate"><span class="pre">fill_null</span></code> function requires its second input
to be a scalar, while <code class="docutils literal notranslate"><span class="pre">sort_indices</span></code> requires its first and only input to
be an array.</p>
</div>
<div class="section" id="invoking-functions">
<h3>Invoking functions<a class="headerlink" href="#invoking-functions" title="Permalink to this headline">¶</a></h3>
<p>Compute functions can be invoked by name using
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">arrow::compute::CallFunction()</span></code>:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">arrow</span><span class="o">::</span><span class="n">Array</span><span class="o">&gt;</span> <span class="n">numbers_array</span> <span class="o">=</span> <span class="p">...;</span>
<span class="n">std</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">arrow</span><span class="o">::</span><span class="n">Scalar</span><span class="o">&gt;</span> <span class="n">increment</span> <span class="o">=</span> <span class="p">...;</span>
<span class="n">arrow</span><span class="o">::</span><span class="n">Datum</span> <span class="n">incremented_datum</span><span class="p">;</span>

<span class="n">ARROW_ASSIGN_OR_RAISE</span><span class="p">(</span><span class="n">incremented_datum</span><span class="p">,</span>
                      <span class="n">arrow</span><span class="o">::</span><span class="n">compute</span><span class="o">::</span><span class="n">CallFunction</span><span class="p">(</span><span class="s">&quot;add&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">numbers_array</span><span class="p">,</span> <span class="n">increment</span><span class="p">}));</span>
<span class="n">std</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">Array</span><span class="o">&gt;</span> <span class="n">incremented_array</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">move</span><span class="p">(</span><span class="n">incremented_datum</span><span class="p">).</span><span class="n">array</span><span class="p">();</span>
</pre></div>
</div>
<p>(note this example uses implicit conversion from <code class="docutils literal notranslate"><span class="pre">std::shared_ptr&lt;Array&gt;</span></code>
to <code class="docutils literal notranslate"><span class="pre">Datum</span></code>)</p>
<p>Many compute functions are also available directly as concrete APIs, here
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">arrow::compute::Add()</span></code>:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">arrow</span><span class="o">::</span><span class="n">Array</span><span class="o">&gt;</span> <span class="n">numbers_array</span> <span class="o">=</span> <span class="p">...;</span>
<span class="n">std</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">arrow</span><span class="o">::</span><span class="n">Scalar</span><span class="o">&gt;</span> <span class="n">increment</span> <span class="o">=</span> <span class="p">...;</span>
<span class="n">arrow</span><span class="o">::</span><span class="n">Datum</span> <span class="n">incremented_datum</span><span class="p">;</span>

<span class="n">ARROW_ASSIGN_OR_RAISE</span><span class="p">(</span><span class="n">incremented_datum</span><span class="p">,</span>
                      <span class="n">arrow</span><span class="o">::</span><span class="n">compute</span><span class="o">::</span><span class="n">Add</span><span class="p">(</span><span class="n">numbers_array</span><span class="p">,</span> <span class="n">increment</span><span class="p">));</span>
<span class="n">std</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">Array</span><span class="o">&gt;</span> <span class="n">incremented_array</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">move</span><span class="p">(</span><span class="n">incremented_datum</span><span class="p">).</span><span class="n">array</span><span class="p">();</span>
</pre></div>
</div>
<p>Some functions accept or require an options structure that determines the
exact semantics of the function:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">MinMaxOptions</span> <span class="n">options</span><span class="p">;</span>
<span class="n">options</span><span class="p">.</span><span class="n">null_handling</span> <span class="o">=</span> <span class="n">MinMaxOptions</span><span class="o">::</span><span class="n">EMIT_NULL</span><span class="p">;</span>

<span class="n">std</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">arrow</span><span class="o">::</span><span class="n">Array</span><span class="o">&gt;</span> <span class="n">array</span> <span class="o">=</span> <span class="p">...;</span>
<span class="n">arrow</span><span class="o">::</span><span class="n">Datum</span> <span class="n">min_max_datum</span><span class="p">;</span>

<span class="n">ARROW_ASSIGN_OR_RAISE</span><span class="p">(</span><span class="n">min_max_datum</span><span class="p">,</span>
                      <span class="n">arrow</span><span class="o">::</span><span class="n">compute</span><span class="o">::</span><span class="n">CallFunction</span><span class="p">(</span><span class="s">&quot;min_max&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">array</span><span class="p">},</span> <span class="o">&amp;</span><span class="n">options</span><span class="p">));</span>

<span class="c1">// Unpack struct scalar result (a two-field {&quot;min&quot;, &quot;max&quot;} scalar)</span>
<span class="k">const</span> <span class="k">auto</span><span class="o">&amp;</span> <span class="n">min_max_scalar</span> <span class="o">=</span> \
      <span class="k">static_cast</span><span class="o">&lt;</span><span class="k">const</span> <span class="n">arrow</span><span class="o">::</span><span class="n">StructScalar</span><span class="o">&amp;&gt;</span><span class="p">(</span><span class="o">*</span><span class="n">min_max_datum</span><span class="p">.</span><span class="n">scalar</span><span class="p">());</span>
<span class="k">const</span> <span class="k">auto</span> <span class="n">min_value</span> <span class="o">=</span> <span class="n">min_max_scalar</span><span class="p">.</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="k">const</span> <span class="k">auto</span> <span class="n">max_value</span> <span class="o">=</span> <span class="n">min_max_scalar</span><span class="p">.</span><span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="api/compute.html"><span class="doc">Compute API reference</span></a></p>
</div>
</div>
</div>
<div class="section" id="available-functions">
<span id="compute-function-list"></span><h2>Available functions<a class="headerlink" href="#available-functions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="type-categories">
<h3>Type categories<a class="headerlink" href="#type-categories" title="Permalink to this headline">¶</a></h3>
<p>To avoid exhaustively listing supported types, the tables below use a number
of general type categories:</p>
<ul class="simple">
<li><p>“Numeric”: Integer types (Int8, etc.) and Floating-point types (Float32,
Float64, sometimes Float16).  Some functions also accept Decimal128 input.</p></li>
<li><p>“Temporal”: Date types (Date32, Date64), Time types (Time32, Time64),
Timestamp, Duration, Interval.</p></li>
<li><p>“Binary-like”: Binary, LargeBinary, sometimes also FixedSizeBinary.</p></li>
<li><p>“String-like”: String, LargeString.</p></li>
<li><p>“List-like”: List, LargeList, sometimes also FixedSizeList.</p></li>
</ul>
<p>If you are unsure whether a function supports a concrete input type, we
recommend you try it out.  Unsupported input types return a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>
<a class="reference internal" href="api/support.html#_CPPv4N5arrow6StatusE" title="arrow::Status"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">Status</span></code></a>.</p>
</div>
<div class="section" id="aggregations">
<h3>Aggregations<a class="headerlink" href="#aggregations" title="Permalink to this headline">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 21%" />
<col style="width: 10%" />
<col style="width: 16%" />
<col style="width: 18%" />
<col style="width: 35%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Function name</p></th>
<th class="head"><p>Arity</p></th>
<th class="head"><p>Input types</p></th>
<th class="head"><p>Output type</p></th>
<th class="head"><p>Options class</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>count</p></td>
<td><p>Unary</p></td>
<td><p>Any</p></td>
<td><p>Scalar Int64</p></td>
<td><p><a class="reference internal" href="api/compute.html#_CPPv4N5arrow7compute12CountOptionsE" title="arrow::compute::CountOptions"><code class="xref cpp cpp-struct docutils literal notranslate"><span class="pre">CountOptions</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p>mean</p></td>
<td><p>Unary</p></td>
<td><p>Numeric</p></td>
<td><p>Scalar Float64</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>min_max</p></td>
<td><p>Unary</p></td>
<td><p>Numeric</p></td>
<td><p>Scalar Struct  (1)</p></td>
<td><p><a class="reference internal" href="api/compute.html#_CPPv4N5arrow7compute13MinMaxOptionsE" title="arrow::compute::MinMaxOptions"><code class="xref cpp cpp-struct docutils literal notranslate"><span class="pre">MinMaxOptions</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p>mode</p></td>
<td><p>Unary</p></td>
<td><p>Numeric</p></td>
<td><p>Scalar Struct  (2)</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>stddev</p></td>
<td><p>Unary</p></td>
<td><p>Numeric</p></td>
<td><p>Scalar Float64</p></td>
<td><p><a class="reference internal" href="api/compute.html#_CPPv4N5arrow7compute15VarianceOptionsE" title="arrow::compute::VarianceOptions"><code class="xref cpp cpp-struct docutils literal notranslate"><span class="pre">VarianceOptions</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p>sum</p></td>
<td><p>Unary</p></td>
<td><p>Numeric</p></td>
<td><p>Scalar Numeric (3)</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>variance</p></td>
<td><p>Unary</p></td>
<td><p>Numeric</p></td>
<td><p>Scalar Float64</p></td>
<td><p><a class="reference internal" href="api/compute.html#_CPPv4N5arrow7compute15VarianceOptionsE" title="arrow::compute::VarianceOptions"><code class="xref cpp cpp-struct docutils literal notranslate"><span class="pre">VarianceOptions</span></code></a></p></td>
</tr>
</tbody>
</table>
<p>Notes:</p>
<ul class="simple">
<li><p>(1) Output is a <code class="docutils literal notranslate"><span class="pre">{&quot;min&quot;:</span> <span class="pre">input</span> <span class="pre">type,</span> <span class="pre">&quot;max&quot;:</span> <span class="pre">input</span> <span class="pre">type}</span></code> Struct</p></li>
<li><p>(2) Output is a <code class="docutils literal notranslate"><span class="pre">{&quot;mode&quot;:</span> <span class="pre">input</span> <span class="pre">type,</span> <span class="pre">&quot;count&quot;:</span> <span class="pre">Int64}</span></code> Struct</p></li>
<li><p>(3) Output is Int64, UInt64 or Float64, depending on the input type</p></li>
</ul>
</div>
<div class="section" id="element-wise-scalar-functions">
<h3>Element-wise (“scalar”) functions<a class="headerlink" href="#element-wise-scalar-functions" title="Permalink to this headline">¶</a></h3>
<p>All element-wise functions accept both arrays and scalars as input.  The
semantics for unary functions are as follow:</p>
<ul class="simple">
<li><p>scalar inputs produce a scalar output</p></li>
<li><p>array inputs produce an array output</p></li>
</ul>
<p>Binary functions have the following semantics (which is sometimes called
“broadcasting” in other systems such as NumPy):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">(scalar,</span> <span class="pre">scalar)</span></code> inputs produce a scalar output</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">(array,</span> <span class="pre">array)</span></code> inputs produce an array output (and both inputs must
be of the same length)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">(scalar,</span> <span class="pre">array)</span></code> and <code class="docutils literal notranslate"><span class="pre">(array,</span> <span class="pre">scalar)</span></code> produce an array output.
The scalar input is handled as if it were an array of the same length N
as the other input, with the same value repeated N times.</p></li>
</ul>
<div class="section" id="arithmetic-functions">
<h4>Arithmetic functions<a class="headerlink" href="#arithmetic-functions" title="Permalink to this headline">¶</a></h4>
<p>These functions expect two inputs of the same type and apply a given binary
operation to each pair of elements gathered from the inputs.  If any of the
input elements in a pair is null, the corresponding output element is null.</p>
<p>The default variant of these functions does not detect overflow (the result
then typically wraps around).  Each function is also available in an
overflow-checking variant, suffixed <code class="docutils literal notranslate"><span class="pre">_checked</span></code>, which returns
an <code class="docutils literal notranslate"><span class="pre">Invalid</span></code> <a class="reference internal" href="api/support.html#_CPPv4N5arrow6StatusE" title="arrow::Status"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">Status</span></code></a> when overflow is detected.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 15%" />
<col style="width: 25%" />
<col style="width: 27%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Function name</p></th>
<th class="head"><p>Arity</p></th>
<th class="head"><p>Input types</p></th>
<th class="head"><p>Output type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>add</p></td>
<td><p>Binary</p></td>
<td><p>Numeric</p></td>
<td><p>Numeric</p></td>
</tr>
<tr class="row-odd"><td><p>add_checked</p></td>
<td><p>Binary</p></td>
<td><p>Numeric</p></td>
<td><p>Numeric</p></td>
</tr>
<tr class="row-even"><td><p>divide</p></td>
<td><p>Binary</p></td>
<td><p>Numeric</p></td>
<td><p>Numeric</p></td>
</tr>
<tr class="row-odd"><td><p>divide_checked</p></td>
<td><p>Binary</p></td>
<td><p>Numeric</p></td>
<td><p>Numeric</p></td>
</tr>
<tr class="row-even"><td><p>multiply</p></td>
<td><p>Binary</p></td>
<td><p>Numeric</p></td>
<td><p>Numeric</p></td>
</tr>
<tr class="row-odd"><td><p>multiply_checked</p></td>
<td><p>Binary</p></td>
<td><p>Numeric</p></td>
<td><p>Numeric</p></td>
</tr>
<tr class="row-even"><td><p>subtract</p></td>
<td><p>Binary</p></td>
<td><p>Numeric</p></td>
<td><p>Numeric</p></td>
</tr>
<tr class="row-odd"><td><p>subtract_checked</p></td>
<td><p>Binary</p></td>
<td><p>Numeric</p></td>
<td><p>Numeric</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="comparisons">
<h4>Comparisons<a class="headerlink" href="#comparisons" title="Permalink to this headline">¶</a></h4>
<p>Those functions expect two inputs of the same type and apply a given
comparison operator.  If any of the input elements in a pair is null,
the corresponding output element is null.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 12%" />
<col style="width: 43%" />
<col style="width: 20%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Function names</p></th>
<th class="head"><p>Arity</p></th>
<th class="head"><p>Input types</p></th>
<th class="head"><p>Output type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>equal, not_equal</p></td>
<td><p>Binary</p></td>
<td><p>Numeric, Temporal, Binary- and String-like</p></td>
<td><p>Boolean</p></td>
</tr>
<tr class="row-odd"><td><p>greater, greater_equal,
less, less_equal</p></td>
<td><p>Binary</p></td>
<td><p>Numeric, Temporal, Binary- and String-like</p></td>
<td><p>Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="logical-functions">
<h4>Logical functions<a class="headerlink" href="#logical-functions" title="Permalink to this headline">¶</a></h4>
<p>The normal behaviour for these functions is to emit a null if any of the
inputs is null (similar to the semantics of <code class="docutils literal notranslate"><span class="pre">NaN</span></code> in floating-point
computations).</p>
<p>Some of them are also available in a <a class="reference external" href="https://en.wikipedia.org/wiki/Three-valued_logic#Kleene_and_Priest_logics">Kleene logic</a> variant (suffixed
<code class="docutils literal notranslate"><span class="pre">_kleene</span></code>) where null is taken to mean “undefined”.  This is the
interpretation of null used in SQL systems as well as R and Julia,
for example.</p>
<p>For the Kleene logic variants, therefore:</p>
<ul class="simple">
<li><p>“true AND null”, “null AND true” give “null” (the result is undefined)</p></li>
<li><p>“true OR null”, “null OR true” give “true”</p></li>
<li><p>“false AND null”, “null AND false” give “false”</p></li>
<li><p>“false OR null”, “null OR false” give “null” (the result is undefined)</p></li>
</ul>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 15%" />
<col style="width: 25%" />
<col style="width: 27%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Function name</p></th>
<th class="head"><p>Arity</p></th>
<th class="head"><p>Input types</p></th>
<th class="head"><p>Output type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>and</p></td>
<td><p>Binary</p></td>
<td><p>Boolean</p></td>
<td><p>Boolean</p></td>
</tr>
<tr class="row-odd"><td><p>and_kleene</p></td>
<td><p>Binary</p></td>
<td><p>Boolean</p></td>
<td><p>Boolean</p></td>
</tr>
<tr class="row-even"><td><p>invert</p></td>
<td><p>Unary</p></td>
<td><p>Boolean</p></td>
<td><p>Boolean</p></td>
</tr>
<tr class="row-odd"><td><p>or</p></td>
<td><p>Binary</p></td>
<td><p>Boolean</p></td>
<td><p>Boolean</p></td>
</tr>
<tr class="row-even"><td><p>or_kleene</p></td>
<td><p>Binary</p></td>
<td><p>Boolean</p></td>
<td><p>Boolean</p></td>
</tr>
<tr class="row-odd"><td><p>xor</p></td>
<td><p>Binary</p></td>
<td><p>Boolean</p></td>
<td><p>Boolean</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="string-predicates">
<h4>String predicates<a class="headerlink" href="#string-predicates" title="Permalink to this headline">¶</a></h4>
<p>These functions classify the input string elements according to their character
contents.  An empty string element emits false in the output.  For ASCII
variants of the functions (prefixed <code class="docutils literal notranslate"><span class="pre">ascii_</span></code>), a string element with non-ASCII
characters emits false in the output.</p>
<p>The first set of functions operates on a character-per-character basis,
and emit true in the output if the input contains only characters of a
given class:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 11%" />
<col style="width: 19%" />
<col style="width: 15%" />
<col style="width: 31%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Function name</p></th>
<th class="head"><p>Arity</p></th>
<th class="head"><p>Input types</p></th>
<th class="head"><p>Output type</p></th>
<th class="head"><p>Matched character class</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ascii_is_alnum</p></td>
<td><p>Unary</p></td>
<td><p>String-like</p></td>
<td><p>Boolean</p></td>
<td><p>Alphanumeric ASCII</p></td>
</tr>
<tr class="row-odd"><td><p>ascii_is_alpha</p></td>
<td><p>Unary</p></td>
<td><p>String-like</p></td>
<td><p>Boolean</p></td>
<td><p>Alphabetic ASCII</p></td>
</tr>
<tr class="row-even"><td><p>ascii_is_decimal</p></td>
<td><p>Unary</p></td>
<td><p>String-like</p></td>
<td><p>Boolean</p></td>
<td><p>Decimal ASCII (1)</p></td>
</tr>
<tr class="row-odd"><td><p>ascii_is_lower</p></td>
<td><p>Unary</p></td>
<td><p>String-like</p></td>
<td><p>Boolean</p></td>
<td><p>Lowercase ASCII (2)</p></td>
</tr>
<tr class="row-even"><td><p>ascii_is_printable</p></td>
<td><p>Unary</p></td>
<td><p>String-like</p></td>
<td><p>Boolean</p></td>
<td><p>Printable ASCII</p></td>
</tr>
<tr class="row-odd"><td><p>ascii_is_space</p></td>
<td><p>Unary</p></td>
<td><p>String-like</p></td>
<td><p>Boolean</p></td>
<td><p>Whitespace ASCII</p></td>
</tr>
<tr class="row-even"><td><p>ascii_is_upper</p></td>
<td><p>Unary</p></td>
<td><p>String-like</p></td>
<td><p>Boolean</p></td>
<td><p>Uppercase ASCII (2)</p></td>
</tr>
<tr class="row-odd"><td><p>utf8_is_alnum</p></td>
<td><p>Unary</p></td>
<td><p>String-like</p></td>
<td><p>Boolean</p></td>
<td><p>Alphanumeric Unicode</p></td>
</tr>
<tr class="row-even"><td><p>utf8_is_alpha</p></td>
<td><p>Unary</p></td>
<td><p>String-like</p></td>
<td><p>Boolean</p></td>
<td><p>Alphabetic Unicode</p></td>
</tr>
<tr class="row-odd"><td><p>utf8_is_decimal</p></td>
<td><p>Unary</p></td>
<td><p>String-like</p></td>
<td><p>Boolean</p></td>
<td><p>Decimal Unicode</p></td>
</tr>
<tr class="row-even"><td><p>utf8_is_digit</p></td>
<td><p>Unary</p></td>
<td><p>String-like</p></td>
<td><p>Boolean</p></td>
<td><p>Unicode digit (3)</p></td>
</tr>
<tr class="row-odd"><td><p>utf8_is_lower</p></td>
<td><p>Unary</p></td>
<td><p>String-like</p></td>
<td><p>Boolean</p></td>
<td><p>Lowercase Unicode (2)</p></td>
</tr>
<tr class="row-even"><td><p>utf8_is_numeric</p></td>
<td><p>Unary</p></td>
<td><p>String-like</p></td>
<td><p>Boolean</p></td>
<td><p>Numeric Unicode (4)</p></td>
</tr>
<tr class="row-odd"><td><p>utf8_is_printable</p></td>
<td><p>Unary</p></td>
<td><p>String-like</p></td>
<td><p>Boolean</p></td>
<td><p>Printable Unicode</p></td>
</tr>
<tr class="row-even"><td><p>utf8_is_space</p></td>
<td><p>Unary</p></td>
<td><p>String-like</p></td>
<td><p>Boolean</p></td>
<td><p>Whitespace Unicode</p></td>
</tr>
<tr class="row-odd"><td><p>utf8_is_upper</p></td>
<td><p>Unary</p></td>
<td><p>String-like</p></td>
<td><p>Boolean</p></td>
<td><p>Uppercase Unicode (2)</p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>(1) Also matches all numeric ASCII characters and all ASCII digits.</p></li>
<li><p>(2) Non-cased characters, such as punctuation, do not match.</p></li>
<li><p>(3) This is currently the same as <code class="docutils literal notranslate"><span class="pre">utf8_is_decimal</span></code>.</p></li>
<li><p>(4) Unlike <code class="docutils literal notranslate"><span class="pre">utf8_is_decimal</span></code>, non-decimal numeric characters also match.</p></li>
</ul>
<p>The second set of functions also consider the character order in a string
element:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 14%" />
<col style="width: 23%" />
<col style="width: 24%" />
<col style="width: 10%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Function name</p></th>
<th class="head"><p>Arity</p></th>
<th class="head"><p>Input types</p></th>
<th class="head"><p>Output type</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ascii_is_title</p></td>
<td><p>Unary</p></td>
<td><p>String-like</p></td>
<td><p>Boolean</p></td>
<td><p>(1)</p></td>
</tr>
<tr class="row-odd"><td><p>utf8_is_title</p></td>
<td><p>Unary</p></td>
<td><p>String-like</p></td>
<td><p>Boolean</p></td>
<td><p>(1)</p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>(1) Output is true iff the input string element is title-cased, i.e. any
word starts with an uppercase character, followed by lowercase characters.
Word boundaries are defined by non-cased characters.</p></li>
</ul>
<p>The third set of functions examines string elements on a byte-per-byte basis:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 14%" />
<col style="width: 23%" />
<col style="width: 24%" />
<col style="width: 10%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Function name</p></th>
<th class="head"><p>Arity</p></th>
<th class="head"><p>Input types</p></th>
<th class="head"><p>Output type</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>string_is_ascii</p></td>
<td><p>Unary</p></td>
<td><p>String-like</p></td>
<td><p>Boolean</p></td>
<td><p>(1)</p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>(1) Output is true iff the input string element contains only ASCII characters,
i.e. only bytes in [0, 127].</p></li>
</ul>
</div>
<div class="section" id="string-transforms">
<h4>String transforms<a class="headerlink" href="#string-transforms" title="Permalink to this headline">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 13%" />
<col style="width: 27%" />
<col style="width: 23%" />
<col style="width: 10%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Function name</p></th>
<th class="head"><p>Arity</p></th>
<th class="head"><p>Input types</p></th>
<th class="head"><p>Output type</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ascii_lower</p></td>
<td><p>Unary</p></td>
<td><p>String-like</p></td>
<td><p>String-like</p></td>
<td><p>(1)</p></td>
</tr>
<tr class="row-odd"><td><p>ascii_upper</p></td>
<td><p>Unary</p></td>
<td><p>String-like</p></td>
<td><p>String-like</p></td>
<td><p>(1)</p></td>
</tr>
<tr class="row-even"><td><p>binary_length</p></td>
<td><p>Unary</p></td>
<td><p>Binary- or String-like</p></td>
<td><p>Int32 or Int64</p></td>
<td><p>(2)</p></td>
</tr>
<tr class="row-odd"><td><p>utf8_lower</p></td>
<td><p>Unary</p></td>
<td><p>String-like</p></td>
<td><p>String-like</p></td>
<td><p>(3)</p></td>
</tr>
<tr class="row-even"><td><p>utf8_upper</p></td>
<td><p>Unary</p></td>
<td><p>String-like</p></td>
<td><p>String-like</p></td>
<td><p>(3)</p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>(1) Each ASCII character in the input is converted to lowercase or
uppercase.  Non-ASCII characters are left untouched.</p></li>
<li><p>(2) Output is the physical length in bytes of each input element.  Output
type is Int32 for Binary / String, Int64 for LargeBinary / LargeString.</p></li>
<li><p>(3) Each UTF8-encoded character in the input is converted to lowercase or
uppercase.</p></li>
</ul>
</div>
<div class="section" id="containment-tests">
<h4>Containment tests<a class="headerlink" href="#containment-tests" title="Permalink to this headline">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 10%" />
<col style="width: 29%" />
<col style="width: 12%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Function name</p></th>
<th class="head"><p>Arity</p></th>
<th class="head"><p>Input types</p></th>
<th class="head"><p>Output type</p></th>
<th class="head"><p>Options class</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>match_substring</p></td>
<td><p>Unary</p></td>
<td><p>String-like</p></td>
<td><p>Boolean (1)</p></td>
<td><p><a class="reference internal" href="api/compute.html#_CPPv4N5arrow7compute21MatchSubstringOptionsE" title="arrow::compute::MatchSubstringOptions"><code class="xref cpp cpp-struct docutils literal notranslate"><span class="pre">MatchSubstringOptions</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p>index_in</p></td>
<td><p>Unary</p></td>
<td><p>Boolean, Null, Numeric, Temporal,
Binary- and String-like</p></td>
<td><p>Int32 (2)</p></td>
<td><p><a class="reference internal" href="api/compute.html#_CPPv4N5arrow7compute16SetLookupOptionsE" title="arrow::compute::SetLookupOptions"><code class="xref cpp cpp-struct docutils literal notranslate"><span class="pre">SetLookupOptions</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p>is_in</p></td>
<td><p>Unary</p></td>
<td><p>Boolean, Null, Numeric, Temporal,
Binary- and String-like</p></td>
<td><p>Boolean (3)</p></td>
<td><p><a class="reference internal" href="api/compute.html#_CPPv4N5arrow7compute16SetLookupOptionsE" title="arrow::compute::SetLookupOptions"><code class="xref cpp cpp-struct docutils literal notranslate"><span class="pre">SetLookupOptions</span></code></a></p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>(1) Output is true iff <a class="reference internal" href="api/compute.html#_CPPv4N5arrow7compute21MatchSubstringOptions7patternE" title="arrow::compute::MatchSubstringOptions::pattern"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">MatchSubstringOptions::pattern</span></code></a>
is a substring of the corresponding input element.</p></li>
<li><p>(2) Output is the index of the corresponding input element in
<a class="reference internal" href="api/compute.html#_CPPv4N5arrow7compute16SetLookupOptions9value_setE" title="arrow::compute::SetLookupOptions::value_set"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">SetLookupOptions::value_set</span></code></a>, if found there.  Otherwise,
output is null.</p></li>
<li><p>(3) Output is true iff the corresponding input element is equal to one
of the elements in <a class="reference internal" href="api/compute.html#_CPPv4N5arrow7compute16SetLookupOptions9value_setE" title="arrow::compute::SetLookupOptions::value_set"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">SetLookupOptions::value_set</span></code></a>.</p></li>
</ul>
</div>
<div class="section" id="structural-transforms">
<h4>Structural transforms<a class="headerlink" href="#structural-transforms" title="Permalink to this headline">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 11%" />
<col style="width: 36%" />
<col style="width: 20%" />
<col style="width: 8%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Function name</p></th>
<th class="head"><p>Arity</p></th>
<th class="head"><p>Input types</p></th>
<th class="head"><p>Output type</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>fill_null</p></td>
<td><p>Binary</p></td>
<td><p>Boolean, Null, Numeric, Temporal</p></td>
<td><p>Boolean</p></td>
<td><p>(1)</p></td>
</tr>
<tr class="row-odd"><td><p>is_null</p></td>
<td><p>Unary</p></td>
<td><p>Any</p></td>
<td><p>Boolean</p></td>
<td><p>(2)</p></td>
</tr>
<tr class="row-even"><td><p>is_valid</p></td>
<td><p>Unary</p></td>
<td><p>Any</p></td>
<td><p>Boolean</p></td>
<td><p>(2)</p></td>
</tr>
<tr class="row-odd"><td><p>list_value_length</p></td>
<td><p>Unary</p></td>
<td><p>List-like</p></td>
<td><p>Int32 or Int64</p></td>
<td><p>(4)</p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>(1) First input must be an array, second input a scalar of the same type.
Output is an array of the same type as the inputs, and with the same values
as the first input, except for nulls replaced with the second input value.</p></li>
<li><p>(2) Output is true iff the corresponding input element is non-null.</p></li>
<li><p>(3) Output is true iff the corresponding input element is null.</p></li>
<li><p>(4) Each output element is the length of the corresponding input element
(null if input is null).  Output type is Int32 for List, Int64 for LargeList.</p></li>
</ul>
</div>
<div class="section" id="conversions">
<h4>Conversions<a class="headerlink" href="#conversions" title="Permalink to this headline">¶</a></h4>
<p>A general conversion function named <code class="docutils literal notranslate"><span class="pre">cast</span></code> is provided which accepts a large
number of input and output types.  The type to cast to can be passed in a
<a class="reference internal" href="api/compute.html#_CPPv4N5arrow7compute11CastOptionsE" title="arrow::compute::CastOptions"><code class="xref cpp cpp-struct docutils literal notranslate"><span class="pre">CastOptions</span></code></a> instance.  As an alternative, the same service is
provided by a concrete function <code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Cast()</span></code>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 21%" />
<col style="width: 10%" />
<col style="width: 16%" />
<col style="width: 18%" />
<col style="width: 35%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Function name</p></th>
<th class="head"><p>Arity</p></th>
<th class="head"><p>Input types</p></th>
<th class="head"><p>Output type</p></th>
<th class="head"><p>Options class</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>cast</p></td>
<td><p>Unary</p></td>
<td><p>Many</p></td>
<td><p>Variable</p></td>
<td><p><a class="reference internal" href="api/compute.html#_CPPv4N5arrow7compute11CastOptionsE" title="arrow::compute::CastOptions"><code class="xref cpp cpp-struct docutils literal notranslate"><span class="pre">CastOptions</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p>strptime</p></td>
<td><p>Unary</p></td>
<td><p>String-like</p></td>
<td><p>Timestamp</p></td>
<td><p><a class="reference internal" href="api/compute.html#_CPPv4N5arrow7compute15StrptimeOptionsE" title="arrow::compute::StrptimeOptions"><code class="xref cpp cpp-struct docutils literal notranslate"><span class="pre">StrptimeOptions</span></code></a></p></td>
</tr>
</tbody>
</table>
<p>The conversions available with <code class="docutils literal notranslate"><span class="pre">cast</span></code> are listed below.  In all cases, a
null input value is converted into a null output value.</p>
<p><strong>Truth value extraction</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 37%" />
<col style="width: 46%" />
<col style="width: 18%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Input type</p></th>
<th class="head"><p>Output type</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Binary- and String-like</p></td>
<td><p>Boolean</p></td>
<td><p>(1)</p></td>
</tr>
<tr class="row-odd"><td><p>Numeric</p></td>
<td><p>Boolean</p></td>
<td><p>(2)</p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>(1) Output is true iff the corresponding input value has non-zero length.</p></li>
<li><p>(2) Output is true iff the corresponding input value is non-zero.</p></li>
</ul>
<p><strong>Same-kind conversion</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 37%" />
<col style="width: 46%" />
<col style="width: 18%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Input type</p></th>
<th class="head"><p>Output type</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Int32</p></td>
<td><p>32-bit Temporal</p></td>
<td><p>(1)</p></td>
</tr>
<tr class="row-odd"><td><p>Int64</p></td>
<td><p>64-bit Temporal</p></td>
<td><p>(1)</p></td>
</tr>
<tr class="row-even"><td><p>(Large)Binary</p></td>
<td><p>(Large)String</p></td>
<td><p>(2)</p></td>
</tr>
<tr class="row-odd"><td><p>(Large)String</p></td>
<td><p>(Large)Binary</p></td>
<td><p>(3)</p></td>
</tr>
<tr class="row-even"><td><p>Numeric</p></td>
<td><p>Numeric</p></td>
<td><p>(4) (5)</p></td>
</tr>
<tr class="row-odd"><td><p>32-bit Temporal</p></td>
<td><p>Int32</p></td>
<td><p>(1)</p></td>
</tr>
<tr class="row-even"><td><p>64-bit Temporal</p></td>
<td><p>Int64</p></td>
<td><p>(1)</p></td>
</tr>
<tr class="row-odd"><td><p>Temporal</p></td>
<td><p>Temporal</p></td>
<td><p>(4) (5)</p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>(1) No-operation cast: the raw values are kept identical, only
the type is changed.</p></li>
<li><p>(2) Validates the contents if <a class="reference internal" href="api/compute.html#_CPPv4N5arrow7compute11CastOptions18allow_invalid_utf8E" title="arrow::compute::CastOptions::allow_invalid_utf8"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">CastOptions::allow_invalid_utf8</span></code></a>
is false.</p></li>
<li><p>(3) No-operation cast: only the type is changed.</p></li>
<li><p>(4) Overflow and truncation checks are enabled depending on
the given <a class="reference internal" href="api/compute.html#_CPPv4N5arrow7compute11CastOptionsE" title="arrow::compute::CastOptions"><code class="xref cpp cpp-struct docutils literal notranslate"><span class="pre">CastOptions</span></code></a>.</p></li>
<li><p>(5) Not all such casts have been implemented.</p></li>
</ul>
<p><strong>String representations</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 39%" />
<col style="width: 49%" />
<col style="width: 12%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Input type</p></th>
<th class="head"><p>Output type</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Boolean</p></td>
<td><p>String-like</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Numeric</p></td>
<td><p>String-like</p></td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Generic conversions</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 39%" />
<col style="width: 49%" />
<col style="width: 12%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Input type</p></th>
<th class="head"><p>Output type</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Dictionary</p></td>
<td><p>Dictionary value type</p></td>
<td><p>(1)</p></td>
</tr>
<tr class="row-odd"><td><p>Extension</p></td>
<td><p>Extension storage type</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>List-like</p></td>
<td><p>List-like</p></td>
<td><p>(2)</p></td>
</tr>
<tr class="row-odd"><td><p>Null</p></td>
<td><p>Any</p></td>
<td></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>(1) The dictionary indices are unchanged, the dictionary values are
cast from the input value type to the output value type (if a conversion
is available).</p></li>
<li><p>(2) The list offsets are unchanged, the list values are cast from the
input value type to the output value type (if a conversion is
available).</p></li>
</ul>
</div>
</div>
<div class="section" id="array-wise-vector-functions">
<h3>Array-wise (“vector”) functions<a class="headerlink" href="#array-wise-vector-functions" title="Permalink to this headline">¶</a></h3>
<div class="section" id="associative-transforms">
<h4>Associative transforms<a class="headerlink" href="#associative-transforms" title="Permalink to this headline">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 12%" />
<col style="width: 35%" />
<col style="width: 27%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Function name</p></th>
<th class="head"><p>Arity</p></th>
<th class="head"><p>Input types</p></th>
<th class="head"><p>Output type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>dictionary_encode</p></td>
<td><p>Unary</p></td>
<td><p>Boolean, Null, Numeric,
Temporal, Binary- and String-like</p></td>
<td><p>Dictionary (1)</p></td>
</tr>
<tr class="row-odd"><td><p>unique</p></td>
<td><p>Unary</p></td>
<td><p>Boolean, Null, Numeric,
Temporal, Binary- and String-like</p></td>
<td><p>Input type (2)</p></td>
</tr>
<tr class="row-even"><td><p>value_counts</p></td>
<td><p>Unary</p></td>
<td><p>Boolean, Null, Numeric,
Temporal, Binary- and String-like</p></td>
<td><p>Input type (3)</p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>(1) Output is <code class="docutils literal notranslate"><span class="pre">Dictionary(Int32,</span> <span class="pre">input</span> <span class="pre">type)</span></code>.</p></li>
<li><p>(2) Duplicates are removed from the output while the original order is
maintained.</p></li>
<li><p>(3) Output is a <code class="docutils literal notranslate"><span class="pre">{&quot;values&quot;:</span> <span class="pre">input</span> <span class="pre">type,</span> <span class="pre">&quot;counts&quot;:</span> <span class="pre">Int64}</span></code> Struct.
Each output element corresponds to a unique value in the input, along
with the number of times this value has appeared.</p></li>
</ul>
</div>
<div class="section" id="selections">
<h4>Selections<a class="headerlink" href="#selections" title="Permalink to this headline">¶</a></h4>
<p>These functions select a subset of the first input defined by the second input.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 11%" />
<col style="width: 13%" />
<col style="width: 12%" />
<col style="width: 16%" />
<col style="width: 22%" />
<col style="width: 11%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Function name</p></th>
<th class="head"><p>Arity</p></th>
<th class="head"><p>Input type 1</p></th>
<th class="head"><p>Input type 2</p></th>
<th class="head"><p>Output type</p></th>
<th class="head"><p>Options class</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>filter</p></td>
<td><p>Binary</p></td>
<td><p>Any (1)</p></td>
<td><p>Boolean</p></td>
<td><p>Input type 1</p></td>
<td><p><a class="reference internal" href="api/compute.html#_CPPv4N5arrow7compute13FilterOptionsE" title="arrow::compute::FilterOptions"><code class="xref cpp cpp-struct docutils literal notranslate"><span class="pre">FilterOptions</span></code></a></p></td>
<td><p>(2)</p></td>
</tr>
<tr class="row-odd"><td><p>take</p></td>
<td><p>Binary</p></td>
<td><p>Any (1)</p></td>
<td><p>Integer</p></td>
<td><p>Input type 1</p></td>
<td><p><a class="reference internal" href="api/compute.html#_CPPv4N5arrow7compute11TakeOptionsE" title="arrow::compute::TakeOptions"><code class="xref cpp cpp-struct docutils literal notranslate"><span class="pre">TakeOptions</span></code></a></p></td>
<td><p>(3)</p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>(1) Unions are unsupported.</p></li>
<li><p>(2) Each element in input 1 is appended to the output iff the corresponding
element in input 2 is true.</p></li>
<li><p>(3) For each element <em>i</em> in input 2, the <em>i</em>’th element in input 1 is
appended to the output.</p></li>
</ul>
</div>
<div class="section" id="sorts-and-partitions">
<h4>Sorts and partitions<a class="headerlink" href="#sorts-and-partitions" title="Permalink to this headline">¶</a></h4>
<p>In these functions, nulls are considered greater than any other value
(they will be sorted or partitioned at the end of the array).</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 10%" />
<col style="width: 20%" />
<col style="width: 15%" />
<col style="width: 26%" />
<col style="width: 10%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Function name</p></th>
<th class="head"><p>Arity</p></th>
<th class="head"><p>Input types</p></th>
<th class="head"><p>Output type</p></th>
<th class="head"><p>Options class</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>partition_nth_indices</p></td>
<td><p>Unary</p></td>
<td><p>Binary- and String-like</p></td>
<td><p>UInt64</p></td>
<td><p><a class="reference internal" href="api/compute.html#_CPPv4N5arrow7compute19PartitionNthOptionsE" title="arrow::compute::PartitionNthOptions"><code class="xref cpp cpp-struct docutils literal notranslate"><span class="pre">PartitionNthOptions</span></code></a></p></td>
<td><p>(1) (3)</p></td>
</tr>
<tr class="row-odd"><td><p>partition_nth_indices</p></td>
<td><p>Unary</p></td>
<td><p>Numeric</p></td>
<td><p>UInt64</p></td>
<td><p><a class="reference internal" href="api/compute.html#_CPPv4N5arrow7compute19PartitionNthOptionsE" title="arrow::compute::PartitionNthOptions"><code class="xref cpp cpp-struct docutils literal notranslate"><span class="pre">PartitionNthOptions</span></code></a></p></td>
<td><p>(1)</p></td>
</tr>
<tr class="row-even"><td><p>sort_indices</p></td>
<td><p>Unary</p></td>
<td><p>Binary- and String-like</p></td>
<td><p>UInt64</p></td>
<td></td>
<td><p>(2) (3)</p></td>
</tr>
<tr class="row-odd"><td><p>sort_indices</p></td>
<td><p>Unary</p></td>
<td><p>Numeric</p></td>
<td><p>UInt64</p></td>
<td></td>
<td><p>(2)</p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>(1) The output is an array of indices into the input array, that define
a partial sort such that the <em>N</em>’th index points to the <em>N</em>’th element
in sorted order, and all indices before the <em>N</em>’th point to elements
less or equal to elements at or after the <em>N</em>’th (similar to
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">std::nth_element()</span></code>).  <em>N</em> is given in
<a class="reference internal" href="api/compute.html#_CPPv4N5arrow7compute19PartitionNthOptions5pivotE" title="arrow::compute::PartitionNthOptions::pivot"><code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">PartitionNthOptions::pivot</span></code></a>.</p></li>
<li><p>(2) The output is an array of indices into the input array, that define
a non-stable sort of the input array.</p></li>
<li><p>(3) Input values are ordered lexicographically as bytestrings (even
for String arrays).</p></li>
</ul>
</div>
<div class="section" id="id1">
<h4>Structural transforms<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 14%" />
<col style="width: 23%" />
<col style="width: 24%" />
<col style="width: 10%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Function name</p></th>
<th class="head"><p>Arity</p></th>
<th class="head"><p>Input types</p></th>
<th class="head"><p>Output type</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>list_flatten</p></td>
<td><p>Unary</p></td>
<td><p>List-like</p></td>
<td><p>List value type</p></td>
<td><p>(1)</p></td>
</tr>
<tr class="row-odd"><td><p>list_parent_indices</p></td>
<td><p>Unary</p></td>
<td><p>List-like</p></td>
<td><p>Int32 or Int64</p></td>
<td><p>(2)</p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>(1) The top level of nesting is removed: all values in the list child array,
including nulls, are appended to the output.  However, nulls in the parent
list array are discarded.</p></li>
<li><p>(2) For each value in the list child array, the index at which it is found
in the list array is appended to the output.  Nulls in the parent list array
are discarded.</p></li>
</ul>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="io.html" class="btn btn-neutral float-right" title="Input / output and filesystems" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="tables.html" class="btn btn-neutral float-left" title="Tabular Data" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2016-2019 Apache Software Foundation

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-107500873-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-107500873-1');
</script>


<script type="text/javascript" src="/docs/versionwarning.js"></script></body>
</html>