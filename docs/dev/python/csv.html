

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Reading and Writing CSV files &#8212; Apache Arrow v21.0.0.dev194</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.4cbf315f70debaebd550c87a6162cf0f.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/theme_overrides.css" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/design-tabs.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'python/csv';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.16.1';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = '/docs/_static/versions.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = 'dev/';
        DOCUMENTATION_OPTIONS.show_version_warning_banner =
            true;
        </script>
    <link rel="canonical" href="https://arrow.apache.org/docs/python/csv.html" />
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="21.0.0.dev194" />

  <!-- Matomo -->
  <script>
    var _paq = window._paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    /* We explicitly disable cookie tracking to avoid privacy issues */
    _paq.push(['disableCookies']);
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
      var u="https://analytics.apache.org/";
      _paq.push(['setTrackerUrl', u+'matomo.php']);
      _paq.push(['setSiteId', '20']);
      var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
      g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
    })();
  </script>
  <!-- End Matomo Code -->

  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class=" navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/arrow.png" class="logo__image only-light" alt="Apache Arrow v21.0.0.dev194 - Home"/>
    <img src="../_static/arrow-dark.png" class="logo__image only-dark pst-js-only" alt="Apache Arrow v21.0.0.dev194 - Home"/>
  
  
</a></div>
    
  </div>
  
  <div class=" navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../format/index.html">
    Specifications
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../developers/index.html">
    Development
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../implementations.html">
    Implementations
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item"><div class="kapa-ai-bot">
    <script
        async
        src="https://widget.kapa.ai/kapa-widget.bundle.js"
        data-website-id="9db461d5-ac77-4b3f-a5c5-75efa78339d2"
        data-project-name="Apache Arrow"
        data-project-color="#000000"
        data-project-logo="https://arrow.apache.org/img/arrow-logo_chevrons_white-txt_black-bg.png"
        data-modal-disclaimer="This is a custom LLM with access to all [Arrow documentation](https://arrow.apache.org/docs/). Please include the language you are using in your question, e.g., Python, C++, Java, R, etc."
        data-consent-required="true" 
        data-consent-screen-disclaimer="By clicking &quot;I agree, let's chat&quot;, you consent to the use of the AI assistant in accordance with kapa.ai's [Privacy Policy](https://www.kapa.ai/content/privacy-policy). This service uses reCAPTCHA, which requires your consent to Google's [Privacy Policy](https://policies.google.com/privacy) and [Terms of Service](https://policies.google.com/terms). By proceeding, you explicitly agree to both kapa.ai's and Google's privacy policies."
    ></script>
   
</div>

</div>
      
        <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-2"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-2"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-2"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-2">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/apache/arrow" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.linkedin.com/company/apache-arrow/" title="LinkedIn" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-linkedin fa-lg" aria-hidden="true"></i>
            <span class="sr-only">LinkedIn</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://bsky.app/profile/arrow.apache.org" title="BlueSky" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-bluesky fa-lg" aria-hidden="true"></i>
            <span class="sr-only">BlueSky</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../format/index.html">
    Specifications
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../developers/index.html">
    Development
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../implementations.html">
    Implementations
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item"><div class="kapa-ai-bot">
    <script
        async
        src="https://widget.kapa.ai/kapa-widget.bundle.js"
        data-website-id="9db461d5-ac77-4b3f-a5c5-75efa78339d2"
        data-project-name="Apache Arrow"
        data-project-color="#000000"
        data-project-logo="https://arrow.apache.org/img/arrow-logo_chevrons_white-txt_black-bg.png"
        data-modal-disclaimer="This is a custom LLM with access to all [Arrow documentation](https://arrow.apache.org/docs/). Please include the language you are using in your question, e.g., Python, C++, Java, R, etc."
        data-consent-required="true" 
        data-consent-screen-disclaimer="By clicking &quot;I agree, let's chat&quot;, you consent to the use of the AI assistant in accordance with kapa.ai's [Privacy Policy](https://www.kapa.ai/content/privacy-policy). This service uses reCAPTCHA, which requires your consent to Google's [Privacy Policy](https://policies.google.com/privacy) and [Terms of Service](https://policies.google.com/terms). By proceeding, you explicitly agree to both kapa.ai's and Google's privacy policies."
    ></script>
   
</div>

</div>
        
          <div class="navbar-item">
<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-3"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-3"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-3"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-3">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/apache/arrow" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.linkedin.com/company/apache-arrow/" title="LinkedIn" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-linkedin fa-lg" aria-hidden="true"></i>
            <span class="sr-only">LinkedIn</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://bsky.app/profile/arrow.apache.org" title="BlueSky" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-bluesky fa-lg" aria-hidden="true"></i>
            <span class="sr-only">BlueSky</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"></div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Reading and Writing CSV files</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="reading-and-writing-csv-files">
<span id="py-csv"></span><h1>Reading and Writing CSV files<a class="headerlink" href="#reading-and-writing-csv-files" title="Permalink to this heading">#</a></h1>
<p>Arrow supports reading and writing columnar data from/to CSV files.
The features currently offered are the following:</p>
<ul class="simple">
<li><p>multi-threaded or single-threaded reading</p></li>
<li><p>automatic decompression of input files (based on the filename extension,
such as <code class="docutils literal notranslate"><span class="pre">my_data.csv.gz</span></code>)</p></li>
<li><p>fetching column names from the first row in the CSV file</p></li>
<li><p>column-wise type inference and conversion to one of <code class="docutils literal notranslate"><span class="pre">null</span></code>, <code class="docutils literal notranslate"><span class="pre">int64</span></code>,
<code class="docutils literal notranslate"><span class="pre">float64</span></code>, <code class="docutils literal notranslate"><span class="pre">date32</span></code>, <code class="docutils literal notranslate"><span class="pre">time32[s]</span></code>, <code class="docutils literal notranslate"><span class="pre">timestamp[s]</span></code>, <code class="docutils literal notranslate"><span class="pre">timestamp[ns]</span></code>,
<code class="docutils literal notranslate"><span class="pre">duration</span></code> (from numeric strings), <code class="docutils literal notranslate"><span class="pre">string</span></code> or <code class="docutils literal notranslate"><span class="pre">binary</span></code> data</p></li>
<li><p>opportunistic dictionary encoding of <code class="docutils literal notranslate"><span class="pre">string</span></code> and <code class="docutils literal notranslate"><span class="pre">binary</span></code> columns
(disabled by default)</p></li>
<li><p>detecting various spellings of null values such as <code class="docutils literal notranslate"><span class="pre">NaN</span></code> or <code class="docutils literal notranslate"><span class="pre">#N/A</span></code></p></li>
<li><p>writing CSV files with options to configure the exact output format</p></li>
</ul>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this heading">#</a></h2>
<p>CSV reading and writing functionality is available through the
<code class="xref py py-mod docutils literal notranslate"><span class="pre">pyarrow.csv</span></code> module.  In many cases, you will simply call the
<a class="reference internal" href="generated/pyarrow.csv.read_csv.html#pyarrow.csv.read_csv" title="pyarrow.csv.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a> function with the file path you want to read from:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">pyarrow</span><span class="w"> </span><span class="kn">import</span> <span class="n">csv</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fn</span> <span class="o">=</span> <span class="s1">&#39;tips.csv.gz&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">fn</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span>
<span class="go">pyarrow.Table</span>
<span class="go">total_bill: double</span>
<span class="go">tip: double</span>
<span class="go">sex: string</span>
<span class="go">smoker: string</span>
<span class="go">day: string</span>
<span class="go">time: string</span>
<span class="go">size: int64</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
<span class="go">244</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">to_pandas</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="go">   total_bill   tip     sex smoker  day    time  size</span>
<span class="go">0       16.99  1.01  Female     No  Sun  Dinner     2</span>
<span class="go">1       10.34  1.66    Male     No  Sun  Dinner     3</span>
<span class="go">2       21.01  3.50    Male     No  Sun  Dinner     3</span>
<span class="go">3       23.68  3.31    Male     No  Sun  Dinner     2</span>
<span class="go">4       24.59  3.61  Female     No  Sun  Dinner     4</span>
</pre></div>
</div>
<p>To write CSV files, just call <a class="reference internal" href="generated/pyarrow.csv.write_csv.html#pyarrow.csv.write_csv" title="pyarrow.csv.write_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">write_csv()</span></code></a> with a
<a class="reference internal" href="generated/pyarrow.RecordBatch.html#pyarrow.RecordBatch" title="pyarrow.RecordBatch"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyarrow.RecordBatch</span></code></a> or <a class="reference internal" href="generated/pyarrow.Table.html#pyarrow.Table" title="pyarrow.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyarrow.Table</span></code></a> and a path or
file-like object:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pyarrow</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pa</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pyarrow.csv</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">csv</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">csv</span><span class="o">.</span><span class="n">write_csv</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="s2">&quot;tips.csv&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">pa</span><span class="o">.</span><span class="n">CompressedOutputStream</span><span class="p">(</span><span class="s2">&quot;tips.csv.gz&quot;</span><span class="p">,</span> <span class="s2">&quot;gzip&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">out</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">csv</span><span class="o">.</span><span class="n">write_csv</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">out</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The writer does not yet support all Arrow types.</p>
</div>
</section>
<section id="customized-parsing">
<h2>Customized parsing<a class="headerlink" href="#customized-parsing" title="Permalink to this heading">#</a></h2>
<p>To alter the default parsing settings in case of reading CSV files with an
unusual structure, you should create a <a class="reference internal" href="generated/pyarrow.csv.ParseOptions.html#pyarrow.csv.ParseOptions" title="pyarrow.csv.ParseOptions"><code class="xref py py-class docutils literal notranslate"><span class="pre">ParseOptions</span></code></a> instance
and pass it to <a class="reference internal" href="generated/pyarrow.csv.read_csv.html#pyarrow.csv.read_csv" title="pyarrow.csv.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pyarrow</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pa</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pyarrow.csv</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">csv</span>

<span class="n">table</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;tips.csv.gz&#39;</span><span class="p">,</span> <span class="n">parse_options</span><span class="o">=</span><span class="n">csv</span><span class="o">.</span><span class="n">ParseOptions</span><span class="p">(</span>
   <span class="n">delimiter</span><span class="o">=</span><span class="s2">&quot;;&quot;</span><span class="p">,</span>
   <span class="n">invalid_row_handler</span><span class="o">=</span><span class="n">skip_handler</span>
<span class="p">))</span>
</pre></div>
</div>
<p>Available parsing options are:</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/pyarrow.csv.ParseOptions.html#pyarrow.csv.ParseOptions.delimiter" title="pyarrow.csv.ParseOptions.delimiter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">delimiter</span></code></a></p></td>
<td><p>The character delimiting individual cells in the CSV data.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/pyarrow.csv.ParseOptions.html#pyarrow.csv.ParseOptions.quote_char" title="pyarrow.csv.ParseOptions.quote_char"><code class="xref py py-obj docutils literal notranslate"><span class="pre">quote_char</span></code></a></p></td>
<td><p>The character used optionally for quoting CSV values (False if quoting is not allowed).</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/pyarrow.csv.ParseOptions.html#pyarrow.csv.ParseOptions.double_quote" title="pyarrow.csv.ParseOptions.double_quote"><code class="xref py py-obj docutils literal notranslate"><span class="pre">double_quote</span></code></a></p></td>
<td><p>Whether two quotes in a quoted CSV value denote a single quote in the data.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/pyarrow.csv.ParseOptions.html#pyarrow.csv.ParseOptions.escape_char" title="pyarrow.csv.ParseOptions.escape_char"><code class="xref py py-obj docutils literal notranslate"><span class="pre">escape_char</span></code></a></p></td>
<td><p>The character used optionally for escaping special characters (False if escaping is not allowed).</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/pyarrow.csv.ParseOptions.html#pyarrow.csv.ParseOptions.newlines_in_values" title="pyarrow.csv.ParseOptions.newlines_in_values"><code class="xref py py-obj docutils literal notranslate"><span class="pre">newlines_in_values</span></code></a></p></td>
<td><p>Whether newline characters are allowed in CSV values.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/pyarrow.csv.ParseOptions.html#pyarrow.csv.ParseOptions.ignore_empty_lines" title="pyarrow.csv.ParseOptions.ignore_empty_lines"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ignore_empty_lines</span></code></a></p></td>
<td><p>Whether empty lines are ignored in CSV input.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/pyarrow.csv.ParseOptions.html#pyarrow.csv.ParseOptions.invalid_row_handler" title="pyarrow.csv.ParseOptions.invalid_row_handler"><code class="xref py py-obj docutils literal notranslate"><span class="pre">invalid_row_handler</span></code></a></p></td>
<td><p>Optional handler for invalid rows.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>For more examples see <a class="reference internal" href="generated/pyarrow.csv.ParseOptions.html#pyarrow.csv.ParseOptions" title="pyarrow.csv.ParseOptions"><code class="xref py py-class docutils literal notranslate"><span class="pre">ParseOptions</span></code></a>.</p>
</div>
</section>
<section id="customized-conversion">
<h2>Customized conversion<a class="headerlink" href="#customized-conversion" title="Permalink to this heading">#</a></h2>
<p>To alter how CSV data is converted to Arrow types and data, you should create
a <a class="reference internal" href="generated/pyarrow.csv.ConvertOptions.html#pyarrow.csv.ConvertOptions" title="pyarrow.csv.ConvertOptions"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConvertOptions</span></code></a> instance and pass it to <a class="reference internal" href="generated/pyarrow.csv.read_csv.html#pyarrow.csv.read_csv" title="pyarrow.csv.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pyarrow</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pa</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pyarrow.csv</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">csv</span>

<span class="n">table</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;tips.csv.gz&#39;</span><span class="p">,</span> <span class="n">convert_options</span><span class="o">=</span><span class="n">csv</span><span class="o">.</span><span class="n">ConvertOptions</span><span class="p">(</span>
    <span class="n">column_types</span><span class="o">=</span><span class="p">{</span>
        <span class="s1">&#39;total_bill&#39;</span><span class="p">:</span> <span class="n">pa</span><span class="o">.</span><span class="n">decimal128</span><span class="p">(</span><span class="n">precision</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span>
        <span class="s1">&#39;tip&#39;</span><span class="p">:</span> <span class="n">pa</span><span class="o">.</span><span class="n">decimal128</span><span class="p">(</span><span class="n">precision</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span>
    <span class="p">}</span>
<span class="p">))</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To assign a column as <code class="docutils literal notranslate"><span class="pre">duration</span></code>, the CSV values must be numeric strings
that match the expected unit (e.g. <code class="docutils literal notranslate"><span class="pre">60000</span></code> for 60 seconds when
using <code class="docutils literal notranslate"><span class="pre">duration[ms]</span></code>).</p>
</div>
<p>Available convert options are:</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/pyarrow.csv.ConvertOptions.html#pyarrow.csv.ConvertOptions.check_utf8" title="pyarrow.csv.ConvertOptions.check_utf8"><code class="xref py py-obj docutils literal notranslate"><span class="pre">check_utf8</span></code></a></p></td>
<td><p>Whether to check UTF8 validity of string columns.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/pyarrow.csv.ConvertOptions.html#pyarrow.csv.ConvertOptions.column_types" title="pyarrow.csv.ConvertOptions.column_types"><code class="xref py py-obj docutils literal notranslate"><span class="pre">column_types</span></code></a></p></td>
<td><p>Explicitly map column names to column types.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/pyarrow.csv.ConvertOptions.html#pyarrow.csv.ConvertOptions.null_values" title="pyarrow.csv.ConvertOptions.null_values"><code class="xref py py-obj docutils literal notranslate"><span class="pre">null_values</span></code></a></p></td>
<td><p>A sequence of strings that denote nulls in the data.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/pyarrow.csv.ConvertOptions.html#pyarrow.csv.ConvertOptions.true_values" title="pyarrow.csv.ConvertOptions.true_values"><code class="xref py py-obj docutils literal notranslate"><span class="pre">true_values</span></code></a></p></td>
<td><p>A sequence of strings that denote true booleans in the data.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/pyarrow.csv.ConvertOptions.html#pyarrow.csv.ConvertOptions.false_values" title="pyarrow.csv.ConvertOptions.false_values"><code class="xref py py-obj docutils literal notranslate"><span class="pre">false_values</span></code></a></p></td>
<td><p>A sequence of strings that denote false booleans in the data.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/pyarrow.csv.ConvertOptions.html#pyarrow.csv.ConvertOptions.decimal_point" title="pyarrow.csv.ConvertOptions.decimal_point"><code class="xref py py-obj docutils literal notranslate"><span class="pre">decimal_point</span></code></a></p></td>
<td><p>The character used as decimal point in floating-point and decimal data.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/pyarrow.csv.ConvertOptions.html#pyarrow.csv.ConvertOptions.timestamp_parsers" title="pyarrow.csv.ConvertOptions.timestamp_parsers"><code class="xref py py-obj docutils literal notranslate"><span class="pre">timestamp_parsers</span></code></a></p></td>
<td><p>A sequence of strptime()-compatible format strings, tried in order when attempting to infer or convert timestamp values (the special value ISO8601() can also be given).</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/pyarrow.csv.ConvertOptions.html#pyarrow.csv.ConvertOptions.strings_can_be_null" title="pyarrow.csv.ConvertOptions.strings_can_be_null"><code class="xref py py-obj docutils literal notranslate"><span class="pre">strings_can_be_null</span></code></a></p></td>
<td><p>Whether string / binary columns can have null values.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/pyarrow.csv.ConvertOptions.html#pyarrow.csv.ConvertOptions.quoted_strings_can_be_null" title="pyarrow.csv.ConvertOptions.quoted_strings_can_be_null"><code class="xref py py-obj docutils literal notranslate"><span class="pre">quoted_strings_can_be_null</span></code></a></p></td>
<td><p>Whether quoted values can be null.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/pyarrow.csv.ConvertOptions.html#pyarrow.csv.ConvertOptions.auto_dict_encode" title="pyarrow.csv.ConvertOptions.auto_dict_encode"><code class="xref py py-obj docutils literal notranslate"><span class="pre">auto_dict_encode</span></code></a></p></td>
<td><p>Whether to try to automatically dict-encode string / binary data.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/pyarrow.csv.ConvertOptions.html#pyarrow.csv.ConvertOptions.auto_dict_max_cardinality" title="pyarrow.csv.ConvertOptions.auto_dict_max_cardinality"><code class="xref py py-obj docutils literal notranslate"><span class="pre">auto_dict_max_cardinality</span></code></a></p></td>
<td><p>The maximum dictionary cardinality for <cite>auto_dict_encode</cite>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/pyarrow.csv.ConvertOptions.html#pyarrow.csv.ConvertOptions.include_columns" title="pyarrow.csv.ConvertOptions.include_columns"><code class="xref py py-obj docutils literal notranslate"><span class="pre">include_columns</span></code></a></p></td>
<td><p>The names of columns to include in the Table.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/pyarrow.csv.ConvertOptions.html#pyarrow.csv.ConvertOptions.include_missing_columns" title="pyarrow.csv.ConvertOptions.include_missing_columns"><code class="xref py py-obj docutils literal notranslate"><span class="pre">include_missing_columns</span></code></a></p></td>
<td><p>If false, columns in <cite>include_columns</cite> but not in the CSV file will error out.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>For more examples see <a class="reference internal" href="generated/pyarrow.csv.ConvertOptions.html#pyarrow.csv.ConvertOptions" title="pyarrow.csv.ConvertOptions"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConvertOptions</span></code></a>.</p>
</div>
</section>
<section id="incremental-reading">
<h2>Incremental reading<a class="headerlink" href="#incremental-reading" title="Permalink to this heading">#</a></h2>
<p>For memory-constrained environments, it is also possible to read a CSV file
one batch at a time, using <a class="reference internal" href="generated/pyarrow.csv.open_csv.html#pyarrow.csv.open_csv" title="pyarrow.csv.open_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">open_csv()</span></code></a>.</p>
<p>There are a few caveats:</p>
<ol class="arabic simple">
<li><p>For now, the incremental reader is always single-threaded (regardless of
<a class="reference internal" href="generated/pyarrow.csv.ReadOptions.html#pyarrow.csv.ReadOptions.use_threads" title="pyarrow.csv.ReadOptions.use_threads"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ReadOptions.use_threads</span></code></a>)</p></li>
<li><p>Type inference is done on the first block and types are frozen afterwards;
to make sure the right data types are inferred, either set
<a class="reference internal" href="generated/pyarrow.csv.ReadOptions.html#pyarrow.csv.ReadOptions.block_size" title="pyarrow.csv.ReadOptions.block_size"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ReadOptions.block_size</span></code></a> to a large enough value, or use
<a class="reference internal" href="generated/pyarrow.csv.ConvertOptions.html#pyarrow.csv.ConvertOptions.column_types" title="pyarrow.csv.ConvertOptions.column_types"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ConvertOptions.column_types</span></code></a> to set the desired data types explicitly.</p></li>
</ol>
</section>
<section id="character-encoding">
<h2>Character encoding<a class="headerlink" href="#character-encoding" title="Permalink to this heading">#</a></h2>
<p>By default, CSV files are expected to be encoded in UTF8.  Non-UTF8 data
is accepted for <code class="docutils literal notranslate"><span class="pre">binary</span></code> columns.  The encoding can be changed using
the <a class="reference internal" href="generated/pyarrow.csv.ReadOptions.html#pyarrow.csv.ReadOptions" title="pyarrow.csv.ReadOptions"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReadOptions</span></code></a> class:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pyarrow</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pa</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pyarrow.csv</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">csv</span>

<span class="n">table</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;tips.csv.gz&#39;</span><span class="p">,</span> <span class="n">read_options</span><span class="o">=</span><span class="n">csv</span><span class="o">.</span><span class="n">ReadOptions</span><span class="p">(</span>
   <span class="n">column_names</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;animals&quot;</span><span class="p">,</span> <span class="s2">&quot;n_legs&quot;</span><span class="p">,</span> <span class="s2">&quot;entry&quot;</span><span class="p">],</span>
   <span class="n">skip_rows</span><span class="o">=</span><span class="mi">1</span>
<span class="p">))</span>
</pre></div>
</div>
<p>Available read options are:</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/pyarrow.csv.ReadOptions.html#pyarrow.csv.ReadOptions.use_threads" title="pyarrow.csv.ReadOptions.use_threads"><code class="xref py py-obj docutils literal notranslate"><span class="pre">use_threads</span></code></a></p></td>
<td><p>Whether to use multiple threads to accelerate reading.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/pyarrow.csv.ReadOptions.html#pyarrow.csv.ReadOptions.block_size" title="pyarrow.csv.ReadOptions.block_size"><code class="xref py py-obj docutils literal notranslate"><span class="pre">block_size</span></code></a></p></td>
<td><p>How much bytes to process at a time from the input stream.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/pyarrow.csv.ReadOptions.html#pyarrow.csv.ReadOptions.skip_rows" title="pyarrow.csv.ReadOptions.skip_rows"><code class="xref py py-obj docutils literal notranslate"><span class="pre">skip_rows</span></code></a></p></td>
<td><p>The number of rows to skip before the column names (if any) and the CSV data.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/pyarrow.csv.ReadOptions.html#pyarrow.csv.ReadOptions.skip_rows_after_names" title="pyarrow.csv.ReadOptions.skip_rows_after_names"><code class="xref py py-obj docutils literal notranslate"><span class="pre">skip_rows_after_names</span></code></a></p></td>
<td><p>The number of rows to skip after the column names.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/pyarrow.csv.ReadOptions.html#pyarrow.csv.ReadOptions.column_names" title="pyarrow.csv.ReadOptions.column_names"><code class="xref py py-obj docutils literal notranslate"><span class="pre">column_names</span></code></a></p></td>
<td><p>The column names of the target table.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/pyarrow.csv.ReadOptions.html#pyarrow.csv.ReadOptions.autogenerate_column_names" title="pyarrow.csv.ReadOptions.autogenerate_column_names"><code class="xref py py-obj docutils literal notranslate"><span class="pre">autogenerate_column_names</span></code></a></p></td>
<td><p>Whether to autogenerate column names if <cite>column_names</cite> is empty.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/pyarrow.csv.ReadOptions.html#pyarrow.csv.ReadOptions.encoding" title="pyarrow.csv.ReadOptions.encoding"><code class="xref py py-obj docutils literal notranslate"><span class="pre">encoding</span></code></a></p></td>
<td><p>encoding: object</p></td>
</tr>
</tbody>
</table>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>For more examples see <a class="reference internal" href="generated/pyarrow.csv.ReadOptions.html#pyarrow.csv.ReadOptions" title="pyarrow.csv.ReadOptions"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReadOptions</span></code></a>.</p>
</div>
</section>
<section id="customized-writing">
<h2>Customized writing<a class="headerlink" href="#customized-writing" title="Permalink to this heading">#</a></h2>
<p>To alter the default write settings in case of writing CSV files with
different conventions, you can create a <a class="reference internal" href="generated/pyarrow.csv.WriteOptions.html#pyarrow.csv.WriteOptions" title="pyarrow.csv.WriteOptions"><code class="xref py py-class docutils literal notranslate"><span class="pre">WriteOptions</span></code></a> instance and
pass it to <a class="reference internal" href="generated/pyarrow.csv.write_csv.html#pyarrow.csv.write_csv" title="pyarrow.csv.write_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">write_csv()</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pyarrow</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pa</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pyarrow.csv</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">csv</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Omit the header row (include_header=True is the default)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">options</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">WriteOptions</span><span class="p">(</span><span class="n">include_header</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">csv</span><span class="o">.</span><span class="n">write_csv</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="s2">&quot;data.csv&quot;</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="incremental-writing">
<h2>Incremental writing<a class="headerlink" href="#incremental-writing" title="Permalink to this heading">#</a></h2>
<p>To write CSV files one batch at a time, create a <a class="reference internal" href="generated/pyarrow.csv.CSVWriter.html#pyarrow.csv.CSVWriter" title="pyarrow.csv.CSVWriter"><code class="xref py py-class docutils literal notranslate"><span class="pre">CSVWriter</span></code></a>. This
requires the output (a path or file-like object), the schema of the data to
be written, and optionally write options as described above:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pyarrow</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pa</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pyarrow.csv</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">csv</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">csv</span><span class="o">.</span><span class="n">CSVWriter</span><span class="p">(</span><span class="s2">&quot;data.csv&quot;</span><span class="p">,</span> <span class="n">table</span><span class="o">.</span><span class="n">schema</span><span class="p">)</span> <span class="k">as</span> <span class="n">writer</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="n">writer</span><span class="o">.</span><span class="n">write_table</span><span class="p">(</span><span class="n">table</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="performance">
<h2>Performance<a class="headerlink" href="#performance" title="Permalink to this heading">#</a></h2>
<p>Due to the structure of CSV files, one cannot expect the same levels of
performance as when reading dedicated binary formats like
<a class="reference internal" href="parquet.html#parquet"><span class="std std-ref">Parquet</span></a>.  Nevertheless, Arrow strives to reduce the
overhead of reading CSV files.  A reasonable expectation is at least
100 MB/s per core on a performant desktop or laptop computer (measured
in source CSV bytes, not target Arrow data bytes).</p>
<p>Performance options can be controlled through the <a class="reference internal" href="generated/pyarrow.csv.ReadOptions.html#pyarrow.csv.ReadOptions" title="pyarrow.csv.ReadOptions"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReadOptions</span></code></a> class.
Multi-threaded reading is the default for highest performance, distributing
the workload efficiently over all available cores.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The number of concurrent threads is automatically inferred by Arrow.
You can inspect and change it using the <a class="reference internal" href="generated/pyarrow.cpu_count.html#pyarrow.cpu_count" title="pyarrow.cpu_count"><code class="xref py py-func docutils literal notranslate"><span class="pre">cpu_count()</span></code></a>
and <a class="reference internal" href="generated/pyarrow.set_cpu_count.html#pyarrow.set_cpu_count" title="pyarrow.set_cpu_count"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_cpu_count()</span></code></a> functions, respectively.</p>
</div>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#usage">Usage</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#customized-parsing">Customized parsing</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#customized-conversion">Customized conversion</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#incremental-reading">Incremental reading</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#character-encoding">Character encoding</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#customized-writing">Customized writing</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#incremental-writing">Incremental writing</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#performance">Performance</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  
  <div class="tocsection editthispage">
    <a href="https://github.com/apache/arrow/edit/main/docs/source/python/csv.rst">
      <i class="fa-solid fa-pencil"></i>
      
      
        
          Edit on GitHub
        
      
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
       Copyright 2016-2025 Apache Software Foundation.
Apache Arrow, Arrow, Apache, the Apache feather logo, and the Apache Arrow project logo are either registered trademarks or trademarks of The Apache Software Foundation in the United States and other countries.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 6.2.0.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>