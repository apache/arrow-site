<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="FileSystem is an abstract file system API,
LocalFileSystem is an implementation accessing files
on the local machine. SubTreeFileSystem is an implementation that delegates
to another implementation after prepending a fixed base path"><title>FileSystem classes — FileSystem • Arrow R Package</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><script src="../extra.js"></script><meta property="og:title" content="FileSystem classes — FileSystem"><meta property="og:description" content="FileSystem is an abstract file system API,
LocalFileSystem is an implementation accessing files
on the local machine. SubTreeFileSystem is an implementation that delegates
to another implementation after prepending a fixed base path"><meta property="og:image" content="https://arrow.apache.org/img/arrow-logo_horizontal_black-txt_white-bg.png"><meta property="og:image:alt" content="Apache Arrow logo, displaying the triple chevron image adjacent to the text"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@apachearrow"><meta name="twitter:site" content="@apachearrow"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><script>
  var _paq = window._paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  /* We explicitly disable cookie tracking to avoid privacy issues */
  _paq.push(['disableCookies']);
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="https://analytics.apache.org/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '20']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();
</script><!-- End Matomo Code --></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-black"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">Arrow R Package</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">10.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/arrow.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Using the package</h6>
    <a class="dropdown-item" href="../articles/read_write.html">Reading and writing data files</a>
    <a class="dropdown-item" href="../articles/data_wrangling.html">Data analysis with dplyr syntax</a>
    <a class="dropdown-item" href="../articles/dataset.html">Working with multi-file data sets</a>
    <a class="dropdown-item" href="../articles/python.html">Integrating Arrow, Python, and R</a>
    <a class="dropdown-item" href="../articles/fs.html">Using cloud storage (S3, GCS)</a>
    <a class="dropdown-item" href="../articles/flight.html">Connecting to a Flight server</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Arrow concepts</h6>
    <a class="dropdown-item" href="../articles/data_objects.html">Data objects</a>
    <a class="dropdown-item" href="../articles/data_types.html">Data types</a>
    <a class="dropdown-item" href="../articles/metadata.html">Metadata</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Installation</h6>
    <a class="dropdown-item" href="../articles/install.html">Installing on Linux</a>
    <a class="dropdown-item" href="../articles/install_nightly.html">Installing development versions</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../articles/index.html">More articles...</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>FileSystem classes</h1>
      <small class="dont-index">Source: <a href="https://github.com/apache/arrow/blob/master/r/R/filesystem.R" class="external-link"><code>R/filesystem.R</code></a></small>
      <div class="d-none name"><code>FileSystem.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>FileSystem</code> is an abstract file system API,
<code>LocalFileSystem</code> is an implementation accessing files
on the local machine. <code>SubTreeFileSystem</code> is an implementation that delegates
to another implementation after prepending a fixed base path</p>
    </div>


    <div class="section level2">
    <h2 id="factory">Factory<a class="anchor" aria-label="anchor" href="#factory"></a></h2>
    


<p><code>LocalFileSystem$create()</code> returns the object and takes no arguments.</p>
<p><code>SubTreeFileSystem$create()</code> takes the following arguments:</p><ul><li><p><code>base_path</code>, a string path</p></li>
<li><p><code>base_fs</code>, a <code>FileSystem</code> object</p></li>
</ul><p><code>S3FileSystem$create()</code> optionally takes arguments:</p><ul><li><p><code>anonymous</code>: logical, default <code>FALSE</code>. If true, will not attempt to look up
credentials using standard AWS configuration methods.</p></li>
<li><p><code>access_key</code>, <code>secret_key</code>: authentication credentials. If one is provided,
the other must be as well. If both are provided, they will override any
AWS configuration set at the environment level.</p></li>
<li><p><code>session_token</code>: optional string for authentication along with
<code>access_key</code> and <code>secret_key</code></p></li>
<li><p><code>role_arn</code>: string AWS ARN of an AccessRole. If provided instead of <code>access_key</code> and
<code>secret_key</code>, temporary credentials will be fetched by assuming this role.</p></li>
<li><p><code>session_name</code>: optional string identifier for the assumed role session.</p></li>
<li><p><code>external_id</code>: optional unique string identifier that might be required
when you assume a role in another account.</p></li>
<li><p><code>load_frequency</code>: integer, frequency (in seconds) with which temporary
credentials from an assumed role session will be refreshed. Default is
900 (i.e. 15 minutes)</p></li>
<li><p><code>region</code>: AWS region to connect to. If omitted, the AWS library will
provide a sensible default based on client configuration, falling back
to "us-east-1" if no other alternatives are found.</p></li>
<li><p><code>endpoint_override</code>: If non-empty, override region with a connect string
such as "localhost:9000". This is useful for connecting to file systems
that emulate S3.</p></li>
<li><p><code>scheme</code>: S3 connection transport (default "https")</p></li>
<li><p><code>background_writes</code>: logical, whether <code>OutputStream</code> writes will be issued
in the background, without blocking (default <code>TRUE</code>)</p></li>
<li><p><code>allow_bucket_creation</code>: logical, if TRUE, the filesystem will create
buckets if <code>$CreateDir()</code> is called on the bucket level (default <code>FALSE</code>).</p></li>
<li><p><code>allow_bucket_deletion</code>: logical, if TRUE, the filesystem will delete
buckets if<code>$DeleteDir()</code> is called on the bucket level (default <code>FALSE</code>).</p></li>
</ul><p><code>GcsFileSystem$create()</code> optionally takes arguments:</p><ul><li><p><code>anonymous</code>: logical, default <code>FALSE</code>. If true, will not attempt to look up
credentials using standard GCS configuration methods.</p></li>
<li><p><code>access_token</code>: optional string for authentication. Should be provided along
with <code>expiration</code></p></li>
<li><p><code>expiration</code>: optional date representing point at which <code>access_token</code> will
expire.</p></li>
<li><p><code>json_credentials</code>: optional string for authentication. Point to a JSON
credentials file downloaded from GCS.</p></li>
<li><p><code>endpoint_override</code>: if non-empty, will connect to provided host name / port,
such as "localhost:9001", instead of default GCS ones. This is primarily useful
for testing purposes.</p></li>
<li><p><code>scheme</code>: connection transport (default "https")</p></li>
<li><p><code>default_bucket_location</code>: the default location (or "region") to create new
buckets in.</p></li>
<li><p><code>retry_limit_seconds</code>: the maximum amount of time to spend retrying if
the filesystem encounters errors. Default is 15 seconds.</p></li>
<li><p><code>default_metadata</code>: default metadata to write in new objects.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>
    

<ul><li><p><code>$GetFileInfo(x)</code>: <code>x</code> may be a <a href="FileSelector.html">FileSelector</a> or a character
vector of paths. Returns a list of <a href="FileInfo.html">FileInfo</a></p></li>
<li><p><code>$CreateDir(path, recursive = TRUE)</code>: Create a directory and subdirectories.</p></li>
<li><p><code>$DeleteDir(path)</code>: Delete a directory and its contents, recursively.</p></li>
<li><p><code>$DeleteDirContents(path)</code>: Delete a directory's contents, recursively.
Like <code>$DeleteDir()</code>,
but doesn't delete the directory itself. Passing an empty path (<code>""</code>) will
wipe the entire filesystem tree.</p></li>
<li><p><code>$DeleteFile(path)</code> : Delete a file.</p></li>
<li><p><code>$DeleteFiles(paths)</code> : Delete many files. The default implementation
issues individual delete operations in sequence.</p></li>
<li><p><code>$Move(src, dest)</code>: Move / rename a file or directory. If the destination
exists:
if it is a non-empty directory, an error is returned
otherwise, if it has the same type as the source, it is replaced
otherwise, behavior is unspecified (implementation-dependent).</p></li>
<li><p><code>$CopyFile(src, dest)</code>: Copy a file. If the destination exists and is a
directory, an error is returned. Otherwise, it is replaced.</p></li>
<li><p><code>$OpenInputStream(path)</code>: Open an <a href="InputStream.html">input stream</a> for
sequential reading.</p></li>
<li><p><code>$OpenInputFile(path)</code>: Open an <a href="InputStream.html">input file</a> for random
access reading.</p></li>
<li><p><code>$OpenOutputStream(path)</code>: Open an <a href="OutputStream.html">output stream</a> for
sequential writing.</p></li>
<li><p><code>$OpenAppendStream(path)</code>: Open an <a href="OutputStream.html">output stream</a> for
appending.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="active-bindings">Active bindings<a class="anchor" aria-label="anchor" href="#active-bindings"></a></h2>
    

<ul><li><p><code>$type_name</code>: string filesystem type name, such as "local", "s3", etc.</p></li>
<li><p><code>$region</code>: string AWS region, for <code>S3FileSystem</code> and <code>SubTreeFileSystem</code>
containing a <code>S3FileSystem</code></p></li>
<li><p><code>$base_fs</code>: for <code>SubTreeFileSystem</code>, the <code>FileSystem</code> it contains</p></li>
<li><p><code>$base_path</code>: for <code>SubTreeFileSystem</code>, the path in <code>$base_fs</code> which is considered
root in this <code>SubTreeFileSystem</code>.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="notes">Notes<a class="anchor" aria-label="anchor" href="#notes"></a></h2>
    


<p>On S3FileSystem, <code>$CreateDir()</code> on a top-level directory creates a new bucket.
When S3FileSystem creates new buckets (assuming allow_bucket_creation is TRUE),
it does not pass any non-default settings. In AWS S3, the bucket and all
objects will be not publicly visible, and will have no bucket policies
and no resource tags. To have more control over how buckets are created,
use a different API to create them.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Neal Richardson, Ian Cook, Nic Crane, Dewey Dunnington, Romain François, Jonathan Keane, Dragoș Moldovan-Grünfeld, Jeroen Ooms, Apache Arrow.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

