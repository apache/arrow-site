<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>FileSystem classes — FileSystem • Arrow R Package</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><script src="../extra.js"></script><meta property="og:title" content="FileSystem classes — FileSystem"><meta property="og:description" content="FileSystem is an abstract file system API,
LocalFileSystem is an implementation accessing files
on the local machine. SubTreeFileSystem is an implementation that delegates
to another implementation after prepending a fixed base path"><meta property="og:image" content="https://arrow.apache.org/img/arrow-logo_horizontal_black-txt_white-bg.png"><meta property="og:image:alt" content="Apache Arrow logo, displaying the triple chevron image adjacent to the text"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@apachearrow"><meta name="twitter:site" content="@apachearrow"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><script>
  var _paq = window._paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  /* We explicitly disable cookie tracking to avoid privacy issues */
  _paq.push(['disableCookies']);
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="https://analytics.apache.org/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '20']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();
</script><!-- End Matomo Code --></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Arrow R Package</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">9.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="https://arrow.apache.org/" class="external-link">❯❯❯</a>
</li>
<li>
  <a href="../articles/arrow.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/install.html">Installing the Arrow Package on Linux</a>
    </li>
    <li>
      <a href="../articles/dataset.html">Working with Arrow Datasets and dplyr</a>
    </li>
    <li>
      <a href="../articles/fs.html">Working with Cloud Storage (S3, GCS)</a>
    </li>
    <li>
      <a href="../articles/python.html">Apache Arrow in Python and R with reticulate</a>
    </li>
    <li>
      <a href="../articles/flight.html">Connecting to Flight RPC Servers</a>
    </li>
    <li>
      <a href="../articles/developing.html">Arrow R Developer Guide</a>
    </li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Developers</a>
      <ul class="dropdown-menu" role="menu"><li>
          <a href="../articles/developers/setup.html">Developer Environment Setup</a>
        </li>
        <li>
          <a href="../articles/developers/workflow.html">Common Workflow Tasks</a>
        </li>
        <li>
          <a href="../articles/developers/debugging.html">Debugging</a>
        </li>
        <li>
          <a href="../articles/developers/install_details.html">Package Installation Details</a>
        </li>
        <li>
          <a href="../articles/developers/docker.html">Docker</a>
        </li>
        <li>
          <a href="../articles/developers/bindings.html">Writing Bindings</a>
        </li>
      </ul></li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Project docs
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="https://arrow.apache.org/docs/format/Columnar.html" class="external-link">Specification</a>
    </li>
    <li>
      <a href="https://arrow.apache.org/docs/c_glib" class="external-link">C GLib</a>
    </li>
    <li>
      <a href="https://arrow.apache.org/docs/cpp" class="external-link">C++</a>
    </li>
    <li>
      <a href="https://arrow.apache.org/docs/java" class="external-link">Java</a>
    </li>
    <li>
      <a href="https://arrow.apache.org/docs/js" class="external-link">JavaScript</a>
    </li>
    <li>
      <a href="https://arrow.apache.org/docs/python" class="external-link">Python</a>
    </li>
    <li>
      <a href="../index.html">R</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>FileSystem classes</h1>
    <small class="dont-index">Source: <a href="https://github.com/apache/arrow/blob/master/r/R/filesystem.R" class="external-link"><code>R/filesystem.R</code></a></small>
    <div class="hidden name"><code>FileSystem.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>FileSystem</code> is an abstract file system API,
<code>LocalFileSystem</code> is an implementation accessing files
on the local machine. <code>SubTreeFileSystem</code> is an implementation that delegates
to another implementation after prepending a fixed base path</p>
    </div>


    <div id="factory">
    <h2>Factory</h2>
    


<p><code>LocalFileSystem$create()</code> returns the object and takes no arguments.</p>
<p><code>SubTreeFileSystem$create()</code> takes the following arguments:</p><ul><li><p><code>base_path</code>, a string path</p></li>
<li><p><code>base_fs</code>, a <code>FileSystem</code> object</p></li>
</ul><p><code>S3FileSystem$create()</code> optionally takes arguments:</p><ul><li><p><code>anonymous</code>: logical, default <code>FALSE</code>. If true, will not attempt to look up
credentials using standard AWS configuration methods.</p></li>
<li><p><code>access_key</code>, <code>secret_key</code>: authentication credentials. If one is provided,
the other must be as well. If both are provided, they will override any
AWS configuration set at the environment level.</p></li>
<li><p><code>session_token</code>: optional string for authentication along with
<code>access_key</code> and <code>secret_key</code></p></li>
<li><p><code>role_arn</code>: string AWS ARN of an AccessRole. If provided instead of <code>access_key</code> and
<code>secret_key</code>, temporary credentials will be fetched by assuming this role.</p></li>
<li><p><code>session_name</code>: optional string identifier for the assumed role session.</p></li>
<li><p><code>external_id</code>: optional unique string identifier that might be required
when you assume a role in another account.</p></li>
<li><p><code>load_frequency</code>: integer, frequency (in seconds) with which temporary
credentials from an assumed role session will be refreshed. Default is
900 (i.e. 15 minutes)</p></li>
<li><p><code>region</code>: AWS region to connect to. If omitted, the AWS library will
provide a sensible default based on client configuration, falling back
to "us-east-1" if no other alternatives are found.</p></li>
<li><p><code>endpoint_override</code>: If non-empty, override region with a connect string
such as "localhost:9000". This is useful for connecting to file systems
that emulate S3.</p></li>
<li><p><code>scheme</code>: S3 connection transport (default "https")</p></li>
<li><p><code>background_writes</code>: logical, whether <code>OutputStream</code> writes will be issued
in the background, without blocking (default <code>TRUE</code>)</p></li>
<li><p><code>allow_bucket_creation</code>: logical, if TRUE, the filesystem will create
buckets if <code>$CreateDir()</code> is called on the bucket level (default <code>FALSE</code>).</p></li>
<li><p><code>allow_bucket_deletion</code>: logical, if TRUE, the filesystem will delete
buckets if<code>$DeleteDir()</code> is called on the bucket level (default <code>FALSE</code>).</p></li>
</ul><p><code>GcsFileSystem$create()</code> optionally takes arguments:</p><ul><li><p><code>anonymous</code>: logical, default <code>FALSE</code>. If true, will not attempt to look up
credentials using standard GCS configuration methods.</p></li>
<li><p><code>access_token</code>: optional string for authentication. Should be provided along
with <code>expiration</code></p></li>
<li><p><code>expiration</code>: optional date representing point at which <code>access_token</code> will
expire.</p></li>
<li><p><code>json_credentials</code>: optional string for authentication. Point to a JSON
credentials file downloaded from GCS.</p></li>
<li><p><code>endpoint_override</code>: if non-empty, will connect to provided host name / port,
such as "localhost:9001", instead of default GCS ones. This is primarily useful
for testing purposes.</p></li>
<li><p><code>scheme</code>: connection transport (default "https")</p></li>
<li><p><code>default_bucket_location</code>: the default location (or "region") to create new
buckets in.</p></li>
<li><p><code>retry_limit_seconds</code>: the maximum amount of time to spend retrying if
the filesystem encounters errors. Default is 15 seconds.</p></li>
<li><p><code>default_metadata</code>: default metadata to write in new objects.</p></li>
</ul></div>
    <div id="methods">
    <h2>Methods</h2>
    

<ul><li><p><code>$GetFileInfo(x)</code>: <code>x</code> may be a <a href="FileSelector.html">FileSelector</a> or a character
vector of paths. Returns a list of <a href="FileInfo.html">FileInfo</a></p></li>
<li><p><code>$CreateDir(path, recursive = TRUE)</code>: Create a directory and subdirectories.</p></li>
<li><p><code>$DeleteDir(path)</code>: Delete a directory and its contents, recursively.</p></li>
<li><p><code>$DeleteDirContents(path)</code>: Delete a directory's contents, recursively.
Like <code>$DeleteDir()</code>,
but doesn't delete the directory itself. Passing an empty path (<code>""</code>) will
wipe the entire filesystem tree.</p></li>
<li><p><code>$DeleteFile(path)</code> : Delete a file.</p></li>
<li><p><code>$DeleteFiles(paths)</code> : Delete many files. The default implementation
issues individual delete operations in sequence.</p></li>
<li><p><code>$Move(src, dest)</code>: Move / rename a file or directory. If the destination
exists:
if it is a non-empty directory, an error is returned
otherwise, if it has the same type as the source, it is replaced
otherwise, behavior is unspecified (implementation-dependent).</p></li>
<li><p><code>$CopyFile(src, dest)</code>: Copy a file. If the destination exists and is a
directory, an error is returned. Otherwise, it is replaced.</p></li>
<li><p><code>$OpenInputStream(path)</code>: Open an <a href="InputStream.html">input stream</a> for
sequential reading.</p></li>
<li><p><code>$OpenInputFile(path)</code>: Open an <a href="InputStream.html">input file</a> for random
access reading.</p></li>
<li><p><code>$OpenOutputStream(path)</code>: Open an <a href="OutputStream.html">output stream</a> for
sequential writing.</p></li>
<li><p><code>$OpenAppendStream(path)</code>: Open an <a href="OutputStream.html">output stream</a> for
appending.</p></li>
</ul></div>
    <div id="active-bindings">
    <h2>Active bindings</h2>
    

<ul><li><p><code>$type_name</code>: string filesystem type name, such as "local", "s3", etc.</p></li>
<li><p><code>$region</code>: string AWS region, for <code>S3FileSystem</code> and <code>SubTreeFileSystem</code>
containing a <code>S3FileSystem</code></p></li>
<li><p><code>$base_fs</code>: for <code>SubTreeFileSystem</code>, the <code>FileSystem</code> it contains</p></li>
<li><p><code>$base_path</code>: for <code>SubTreeFileSystem</code>, the path in <code>$base_fs</code> which is considered
root in this <code>SubTreeFileSystem</code>.</p></li>
</ul></div>
    <div id="notes">
    <h2>Notes</h2>
    


<p>On S3FileSystem, <code>$CreateDir()</code> on a top-level directory creates a new bucket.
When S3FileSystem creates new buckets (assuming allow_bucket_creation is TRUE),
it does not pass any non-default settings. In AWS S3, the bucket and all
objects will be not publicly visible, and will have no bucket policies
and no resource tags. To have more control over how buckets are created,
use a different API to create them.</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Neal Richardson, Ian Cook, Nic Crane, Dewey Dunnington, Romain François, Jonathan Keane, Dragoș Moldovan-Grünfeld, Jeroen Ooms, Apache Arrow.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

<script type="text/javascript" src="/docs/_static/versionwarning.js"></script>  </body></html>

