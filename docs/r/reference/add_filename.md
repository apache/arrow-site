<div id="main" class="col-md-9" role="main">

# Add the data filename as a column

<div class="ref-description section level2">

This function only exists inside `arrow` `dplyr` queries, and it only is
valid when querying on a `FileSystemDataset`.

</div>

<div class="section level2">

## Usage

<div class="sourceCode">

``` r
add_filename()
```

</div>

</div>

<div class="section level2">

## Value

A `FieldRef` `Expression` that refers to the filename augmented column.

</div>

<div class="section level2">

## Details

To use filenames generated by this function in subsequent pipeline
steps, you must either call `compute()` or `collect()` first. See
Examples.

</div>

<div class="section level2">

## Examples

<div class="sourceCode">

``` r
if (FALSE) { # \dontrun{
open_dataset("nyc-taxi") |> mutate(
  file =
    add_filename()
)

# To use a verb like mutate() with add_filename() we need to first call
# compute()
open_dataset("nyc-taxi") |>
  mutate(file = add_filename()) |>
  compute() |>
  mutate(filename_length = nchar(file))
} # }
```

</div>

</div>

</div>
