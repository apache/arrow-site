<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="-8 -8 1331.234375 701.1171875" style="max-width: 1331.23px; background-color: white;" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="my-svg"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:2px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span,#my-svg p{color:#333;}#my-svg .label text,#my-svg span,#my-svg p{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .flowchart-label text{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .node .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:#e8e8e8;text-align:center;}#my-svg .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span,#my-svg p{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="6" viewBox="0 0 10 10" class="marker flowchart" id="my-svg_flowchart-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"/></marker><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart" id="my-svg_flowchart-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart" id="my-svg_flowchart-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart" id="my-svg_flowchart-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart" id="my-svg_flowchart-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart" id="my-svg_flowchart-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-client LE-c1" id="L-client-c1-0" d="M48.037,185.607L67.358,157.506C86.678,129.405,125.32,73.202,229.547,45.184C333.775,17.165,503.589,17.33,588.496,17.412L673.403,17.495"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-client LE-meta" id="L-client-meta-0" d="M61.328,210.875L78.434,210.875C95.539,210.875,129.75,210.875,176.745,210.875C223.74,210.875,283.52,210.875,313.409,210.875L343.299,210.875"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-client LE-data" id="L-client-data-0" d="M43.219,241.539L63.343,290.688C83.466,339.837,123.714,438.135,160.059,487.285C196.405,536.434,228.849,536.434,245.072,536.434L261.294,536.434"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(163.9609375, 210.875)" class="edgeLabel"><g transform="translate(-77.6328125, -9.5)" class="label"><foreignObject height="19" width="155.265625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">recv untagged msg</span></div></foreignObject></g></g><g transform="translate(163.9609375, 536.43359375)" class="edgeLabel"><g transform="translate(-63.4609375, -9.5)" class="label"><foreignObject height="19" width="126.921875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">get tagged msg</span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(259.09375, 379.75)" class="root"><g class="clusters"><g id="data" class="cluster default flowchart-label"><rect height="297.3671875" width="1048.140625" y="8" x="8" ry="0" rx="0" style=""/><g transform="translate(481.4765625, 8)" class="cluster-label"><foreignObject height="19" width="101.1875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Data Stream</span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-d1 LE-d2" id="L-d1-d2-0" d="M150.375,156.684L154.542,156.684C158.708,156.684,167.042,156.684,174.575,156.75C182.109,156.816,188.842,156.948,192.209,157.014L195.576,157.08"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-d2 LE-d3" id="L-d2-d3-0" d="M368.524,129.099L378.138,125.113C387.751,121.127,406.977,113.155,435.444,109.169C463.911,105.184,501.62,105.184,538.479,105.184C575.339,105.184,611.349,105.184,633.945,105.184C656.541,105.184,665.722,105.184,670.313,105.184L674.903,105.184"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-d2 LE-d4" id="L-d2-d4-0" d="M368.524,185.269L378.138,189.088C387.751,192.907,406.977,200.545,420.722,204.364C434.468,208.184,442.732,208.184,446.865,208.184L450.997,208.184"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-d4 LE-d5" id="L-d4-d5-0" d="M622.359,208.184L626.526,208.184C630.693,208.184,639.026,208.184,646.476,208.184C653.926,208.184,660.493,208.184,663.776,208.184L667.059,208.184"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-d3 LE-e2" id="L-d3-e2-0" d="M851.641,105.184L857.115,105.184C862.589,105.184,873.536,105.184,887.836,110.479C902.135,115.775,919.786,126.366,928.611,131.661L937.436,136.957"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-d5 LE-e2" id="L-d5-e2-0" d="M859.484,208.184L863.651,208.184C867.818,208.184,876.151,208.184,889.143,202.888C902.135,197.593,919.786,187.002,928.611,181.706L937.436,176.411"/></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(539.328125, 105.18359375)" class="edgeLabel"><g transform="translate(-5.09375, -9.5)" class="label"><foreignObject height="19" width="10.1875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">0</span></div></foreignObject></g></g><g transform="translate(426.203125, 208.18359375)" class="edgeLabel"><g transform="translate(-5.09375, -9.5)" class="label"><foreignObject height="19" width="10.1875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">1</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(298.2421875, 156.68359375)" data-id="d2" data-node="true" id="flowchart-d2-11" class="node default default flowchart-label"><polygon style="" transform="translate(-97.8671875,97.8671875)" class="label-container" points="97.8671875,0 195.734375,-97.8671875 97.8671875,-195.734375 0,-97.8671875"/><g transform="translate(-63.8671875, -19)" style="" class="label"><rect/><foreignObject height="38" width="127.734375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Most Significant<br />Byte</span></div></foreignObject></g></g><g transform="translate(91.6875, 156.68359375)" data-id="d1" data-node="true" id="flowchart-d1-10" class="node default default flowchart-label"><rect height="53" width="117.375" y="-26.5" x="-58.6875" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-51.1875, -19)" style="" class="label"><rect/><foreignObject height="38" width="102.375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Request Msg<br />for Seq Num</span></div></foreignObject></g></g><g transform="translate(765.921875, 105.18359375)" data-id="d3" data-node="true" id="flowchart-d3-13" class="node default default flowchart-label"><rect height="53" width="171.4375" y="-26.5" x="-85.71875" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-78.21875, -19)" style="" class="label"><rect/><foreignObject height="38" width="156.4375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Construct from<br />Metadata and Body</span></div></foreignObject></g></g><g transform="translate(539.328125, 208.18359375)" data-id="d4" data-node="true" id="flowchart-d4-15" class="node default default flowchart-label"><rect height="53" width="166.0625" y="-26.5" x="-83.03125" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-75.53125, -19)" style="" class="label"><rect/><foreignObject height="38" width="151.0625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Get shared/remote<br />buffers</span></div></foreignObject></g></g><g transform="translate(765.921875, 208.18359375)" data-id="d5" data-node="true" id="flowchart-d5-17" class="node default default flowchart-label"><rect height="53" width="187.125" y="-26.5" x="-93.5625" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-86.0625, -19)" style="" class="label"><rect/><foreignObject height="38" width="172.125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Construct from<br />Metadata and buffers</span></div></foreignObject></g></g><g transform="translate(970.3125, 156.68359375)" data-id="e2" data-node="true" id="flowchart-e2-20" class="node default default flowchart-label"><rect height="34" width="121.65625" y="-17" x="-60.828125" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-53.328125, -9.5)" style="" class="label"><rect/><foreignObject height="19" width="106.65625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Output Batch</span></div></foreignObject></g></g></g></g><g transform="translate(341.0989685058594, 76)" class="root"><g class="clusters"><g id="meta" class="cluster default flowchart-label"><rect height="253.75" width="884.1302185058594" y="8" x="8" ry="0" rx="0" style=""/><g transform="translate(392.5963592529297, 8)" class="cluster-label"><foreignObject height="19" width="114.9375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Meta Message</span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-m1 LE-m2" id="L-m1-m2-0" d="M241.63,132.25L251.3,129.583C260.971,126.917,280.312,121.583,298.641,118.992C316.97,116.401,334.287,116.552,342.945,116.628L351.604,116.704"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-m2 LE-m3" id="L-m2-m3-0" d="M513.688,99.75L532.257,94.708C550.825,89.667,587.962,79.583,618.444,74.542C648.926,69.5,672.753,69.5,684.667,69.5L696.58,69.5"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-m2 LE-m4" id="L-m2-m4-0" d="M513.688,133.75L532.257,138.625C550.825,143.5,587.962,153.25,621.267,158.204C654.573,163.157,684.047,163.314,698.783,163.393L713.52,163.472"/><path marker-end="url(#my-svg_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-m1 LE-e" id="L-m1-e-0" d="M224.214,183.113L236.788,186.761C249.361,190.409,274.507,197.704,294.615,201.352C314.723,205,329.792,205,337.327,205L344.861,205"/></g><g class="edgeLabels"><g transform="translate(299.6536560058594, 116.25)" class="edgeLabel"><g transform="translate(-25.5078125, -9.5)" class="label"><foreignObject height="19" width="51.015625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">type 1</span></div></foreignObject></g></g><g transform="translate(625.0989685058594, 69.5)" class="edgeLabel"><g transform="translate(-51.78125, -9.5)" class="label"><foreignObject height="19" width="103.5625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">IPC has body</span></div></foreignObject></g></g><g transform="translate(625.0989685058594, 163)" class="edgeLabel"><g transform="translate(-50.859375, -9.5)" class="label"><foreignObject height="19" width="101.71875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Schema Msg</span></div></foreignObject></g></g><g transform="translate(299.6536560058594, 205)" class="edgeLabel"><g transform="translate(-25.5078125, -9.5)" class="label"><foreignObject height="19" width="51.015625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">type 0</span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(449.2395935058594, 116.25)" data-id="m2" data-node="true" id="flowchart-m2-3" class="node default default flowchart-label"><polygon style="" transform="translate(-84.8359375,17)" class="label-container" points="0,0 169.671875,0 169.671875,-34 0,-34 0,0 -8,0 177.671875,0 177.671875,-34 -8,-34 -8,0"/><g transform="translate(-77.3359375, -9.5)" style="" class="label"><rect/><foreignObject height="19" width="154.671875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Process IPC Header</span></div></foreignObject></g></g><g transform="translate(141.0729217529297, 158.25)" data-id="m1" data-node="true" id="flowchart-m1-2" class="node default default flowchart-label"><polygon style="" transform="translate(-90.40625,26.5)" class="label-container" points="-17.666666666666668,0 171.97916666666666,0 198.47916666666666,-53 8.833333333333334,-53"/><g transform="translate(-82.90625, -19)" style="" class="label"><rect/><foreignObject height="38" width="165.8125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Msg Type (byte 0)<br />Seq Num (bytes 1-5)</span></div></foreignObject></g></g><g transform="translate(784.5052185058594, 69.5)" data-id="m3" data-node="true" id="flowchart-m3-5" class="node default default flowchart-label"><rect height="53" width="165.25" y="-26.5" x="-82.625" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-75.125, -19)" style="" class="label"><rect/><foreignObject height="38" width="150.25"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Get Corresponding<br />Tagged Msg</span></div></foreignObject></g></g><g transform="translate(784.5052185058594, 163)" data-id="m4" data-node="true" id="flowchart-m4-7" class="node default default flowchart-label"><polygon style="" transform="translate(-63.3515625,17)" class="label-container" points="-11.333333333333334,0 121.03645833333333,0 138.03645833333334,-34 5.666666666666667,-34"/><g transform="translate(-55.8515625, -9.5)" style="" class="label"><rect/><foreignObject height="19" width="111.703125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Store Schema</span></div></foreignObject></g></g><g transform="translate(449.2395935058594, 205)" data-id="e" data-node="true" id="flowchart-e-9" class="node default default flowchart-label"><rect height="34" width="198.15625" y="-17" x="-99.078125" ry="0" rx="0" style="" class="basic label-container"/><g transform="translate(-91.578125, -9.5)" style="" class="label"><rect/><foreignObject height="19" width="183.15625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Indicate End of Stream</span></div></foreignObject></g></g></g></g><g transform="translate(30.6640625, 210.875)" data-id="client" data-node="true" id="flowchart-client-0" class="node default default flowchart-label"><circle height="34" width="61.328125" r="30.6640625" ry="0" rx="0" style=""/><g transform="translate(-23.1640625, -9.5)" style="" class="label"><rect/><foreignObject height="19" width="46.328125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Client</span></div></foreignObject></g></g><g transform="translate(790.6640625, 17)" data-id="c1" data-node="true" id="flowchart-c1-1" class="node default default flowchart-label"><polygon style="" transform="translate(-112.4609375,17)" class="label-container" points="8.5,0 216.421875,0 224.921875,-17 216.421875,-34 8.5,-34 0,-17"/><g transform="translate(-96.4609375, -9.5)" style="" class="label"><rect/><foreignObject height="19" width="192.921875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Send &lt;want_data&gt; Msg</span></div></foreignObject></g></g></g></g></g></svg>