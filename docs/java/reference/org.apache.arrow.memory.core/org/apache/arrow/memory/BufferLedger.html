<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>BufferLedger (Apache Arrow Java Root POM 18.0.0-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: module: org.apache.arrow.memory.core, package: org.apache.arrow.memory, class: BufferLedger">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="../../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/BufferLedger.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="module-label-in-type">Module</span>&nbsp;<a href="../../../../module-summary.html">org.apache.arrow.memory.core</a></div>
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.arrow.memory</a></div>
<h1 title="Class BufferLedger" class="title">Class BufferLedger</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.apache.arrow.memory.BufferLedger</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="ReferenceManager.html" title="interface in org.apache.arrow.memory">ReferenceManager</a></code>, <code><a href="ValueWithKeyIncluded.html" title="interface in org.apache.arrow.memory">ValueWithKeyIncluded</a>&lt;<a href="BufferAllocator.html" title="interface in org.apache.arrow.memory">BufferAllocator</a>&gt;</code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">BufferLedger</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="ValueWithKeyIncluded.html" title="interface in org.apache.arrow.memory">ValueWithKeyIncluded</a>&lt;<a href="BufferAllocator.html" title="interface in org.apache.arrow.memory">BufferAllocator</a>&gt;, <a href="ReferenceManager.html" title="interface in org.apache.arrow.memory">ReferenceManager</a></span></div>
<div class="block">The reference manager that binds an <a href="AllocationManager.html" title="class in org.apache.arrow.memory"><code>AllocationManager</code></a> to <a href="BufferAllocator.html" title="interface in org.apache.arrow.memory"><code>BufferAllocator</code></a> and a
 set of <a href="ArrowBuf.html" title="class in org.apache.arrow.memory"><code>ArrowBuf</code></a>. The set of ArrowBufs managed by this reference manager share a common
 fate (same reference count).</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="BufferLedger.TransferResult.html" class="type-name-link" title="class in org.apache.arrow.memory">BufferLedger.TransferResult</a></code></div>
<div class="col-last even-row-color">
<div class="block">The outcome of a Transfer.</div>
</div>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-org.apache.arrow.memory.ReferenceManager">Fields inherited from interface&nbsp;org.apache.arrow.memory.<a href="ReferenceManager.html" title="interface in org.apache.arrow.memory">ReferenceManager</a></h3>
<code><a href="ReferenceManager.html#NO_OP">NO_OP</a>, <a href="ReferenceManager.html#NO_OP_ERROR_MESSAGE">NO_OP_ERROR_MESSAGE</a></code></div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="ArrowBuf.html" title="class in org.apache.arrow.memory">ArrowBuf</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#deriveBuffer(org.apache.arrow.memory.ArrowBuf,long,long)" class="member-name-link">deriveBuffer</a><wbr>(<a href="ArrowBuf.html" title="class in org.apache.arrow.memory">ArrowBuf</a>&nbsp;sourceBuffer,
 long&nbsp;index,
 long&nbsp;length)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Derive a new ArrowBuf from a given source ArrowBuf.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAccountedSize()" class="member-name-link">getAccountedSize</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">How much memory is accounted for by this ledger.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="AllocationManager.html" title="class in org.apache.arrow.memory">AllocationManager</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAllocationManager()" class="member-name-link">getAllocationManager</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the <a href="AllocationManager.html" title="class in org.apache.arrow.memory"><code>AllocationManager</code></a> used by this BufferLedger.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="BufferAllocator.html" title="interface in org.apache.arrow.memory">BufferAllocator</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAllocator()" class="member-name-link">getAllocator</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the buffer allocator associated with this reference manager.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="BufferAllocator.html" title="interface in org.apache.arrow.memory">BufferAllocator</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getKey()" class="member-name-link">getKey</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getRefCount()" class="member-name-link">getRefCount</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get this ledger's reference count.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getSize()" class="member-name-link">getSize</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Total size (in bytes) of memory underlying this reference manager.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#release()" class="member-name-link">release</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Decrement the ledger's reference count by 1 for the associated underlying memory chunk.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#release(int)" class="member-name-link">release</a><wbr>(int&nbsp;decrement)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Decrement the ledger's reference count for the associated underlying memory chunk.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#retain()" class="member-name-link">retain</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Increment the ledger's reference count for associated underlying memory chunk by 1.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#retain(int)" class="member-name-link">retain</a><wbr>(int&nbsp;increment)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Increment the ledger's reference count for associated underlying memory chunk by the given
 amount.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="ArrowBuf.html" title="class in org.apache.arrow.memory">ArrowBuf</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#retain(org.apache.arrow.memory.ArrowBuf,org.apache.arrow.memory.BufferAllocator)" class="member-name-link">retain</a><wbr>(<a href="ArrowBuf.html" title="class in org.apache.arrow.memory">ArrowBuf</a>&nbsp;srcBuffer,
 <a href="BufferAllocator.html" title="interface in org.apache.arrow.memory">BufferAllocator</a>&nbsp;target)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Create a new ArrowBuf that is associated with an alternative allocator for the purposes of
 memory ownership and accounting.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="BufferLedger.TransferResult.html" title="class in org.apache.arrow.memory">BufferLedger.TransferResult</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#transferOwnership(org.apache.arrow.memory.ArrowBuf,org.apache.arrow.memory.BufferAllocator)" class="member-name-link">transferOwnership</a><wbr>(<a href="ArrowBuf.html" title="class in org.apache.arrow.memory">ArrowBuf</a>&nbsp;srcBuffer,
 <a href="BufferAllocator.html" title="interface in org.apache.arrow.memory">BufferAllocator</a>&nbsp;target)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Transfer the memory accounting ownership of this ArrowBuf to another allocator.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getKey()">
<h3>getKey</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="BufferAllocator.html" title="interface in org.apache.arrow.memory">BufferAllocator</a></span>&nbsp;<span class="element-name">getKey</span>()</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ValueWithKeyIncluded.html#getKey()">getKey</a></code>&nbsp;in interface&nbsp;<code><a href="ValueWithKeyIncluded.html" title="interface in org.apache.arrow.memory">ValueWithKeyIncluded</a>&lt;<a href="BufferAllocator.html" title="interface in org.apache.arrow.memory">BufferAllocator</a>&gt;</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAllocator()">
<h3>getAllocator</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="BufferAllocator.html" title="interface in org.apache.arrow.memory">BufferAllocator</a></span>&nbsp;<span class="element-name">getAllocator</span>()</div>
<div class="block">Get the buffer allocator associated with this reference manager.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ReferenceManager.html#getAllocator()">getAllocator</a></code>&nbsp;in interface&nbsp;<code><a href="ReferenceManager.html" title="interface in org.apache.arrow.memory">ReferenceManager</a></code></dd>
<dt>Returns:</dt>
<dd>buffer allocator</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getRefCount()">
<h3>getRefCount</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getRefCount</span>()</div>
<div class="block">Get this ledger's reference count.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ReferenceManager.html#getRefCount()">getRefCount</a></code>&nbsp;in interface&nbsp;<code><a href="ReferenceManager.html" title="interface in org.apache.arrow.memory">ReferenceManager</a></code></dd>
<dt>Returns:</dt>
<dd>reference count</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="release()">
<h3>release</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">release</span>()</div>
<div class="block">Decrement the ledger's reference count by 1 for the associated underlying memory chunk. If the
 reference count drops to 0, it implies that no ArrowBufs managed by this reference manager need
 access to the memory chunk. In that case, the ledger should inform the allocation manager about
 releasing its ownership for the chunk. Whether or not the memory chunk will be released is
 something that <a href="AllocationManager.html" title="class in org.apache.arrow.memory"><code>AllocationManager</code></a> will decide since tracks the usage of memory chunk
 across multiple reference managers and allocators.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ReferenceManager.html#release()">release</a></code>&nbsp;in interface&nbsp;<code><a href="ReferenceManager.html" title="interface in org.apache.arrow.memory">ReferenceManager</a></code></dd>
<dt>Returns:</dt>
<dd>true if the new ref count has dropped to 0, false otherwise</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="release(int)">
<h3>release</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">release</span><wbr><span class="parameters">(int&nbsp;decrement)</span></div>
<div class="block">Decrement the ledger's reference count for the associated underlying memory chunk. If the
 reference count drops to 0, it implies that no ArrowBufs managed by this reference manager need
 access to the memory chunk. In that case, the ledger should inform the allocation manager about
 releasing its ownership for the chunk. Whether or not the memory chunk will be released is
 something that <a href="AllocationManager.html" title="class in org.apache.arrow.memory"><code>AllocationManager</code></a> will decide since tracks the usage of memory chunk
 across multiple reference managers and allocators.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ReferenceManager.html#release(int)">release</a></code>&nbsp;in interface&nbsp;<code><a href="ReferenceManager.html" title="interface in org.apache.arrow.memory">ReferenceManager</a></code></dd>
<dt>Parameters:</dt>
<dd><code>decrement</code> - amount to decrease the reference count by</dd>
<dt>Returns:</dt>
<dd>true if the new ref count has dropped to 0, false otherwise</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="retain()">
<h3>retain</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">retain</span>()</div>
<div class="block">Increment the ledger's reference count for associated underlying memory chunk by 1.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ReferenceManager.html#retain()">retain</a></code>&nbsp;in interface&nbsp;<code><a href="ReferenceManager.html" title="interface in org.apache.arrow.memory">ReferenceManager</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="retain(int)">
<h3>retain</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">retain</span><wbr><span class="parameters">(int&nbsp;increment)</span></div>
<div class="block">Increment the ledger's reference count for associated underlying memory chunk by the given
 amount.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ReferenceManager.html#retain(int)">retain</a></code>&nbsp;in interface&nbsp;<code><a href="ReferenceManager.html" title="interface in org.apache.arrow.memory">ReferenceManager</a></code></dd>
<dt>Parameters:</dt>
<dd><code>increment</code> - amount to increase the reference count by</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="deriveBuffer(org.apache.arrow.memory.ArrowBuf,long,long)">
<h3>deriveBuffer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="ArrowBuf.html" title="class in org.apache.arrow.memory">ArrowBuf</a></span>&nbsp;<span class="element-name">deriveBuffer</span><wbr><span class="parameters">(<a href="ArrowBuf.html" title="class in org.apache.arrow.memory">ArrowBuf</a>&nbsp;sourceBuffer,
 long&nbsp;index,
 long&nbsp;length)</span></div>
<div class="block">Derive a new ArrowBuf from a given source ArrowBuf. The new derived ArrowBuf will share the
 same reference count as rest of the ArrowBufs associated with this ledger. This operation is
 typically used for slicing -- creating new ArrowBufs from a compound ArrowBuf starting at a
 particular index in the underlying memory and having access to a particular length (in bytes)
 of data in memory chunk.

 <p>This method is also used as a helper for transferring ownership and retain to target
 allocator.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ReferenceManager.html#deriveBuffer(org.apache.arrow.memory.ArrowBuf,long,long)">deriveBuffer</a></code>&nbsp;in interface&nbsp;<code><a href="ReferenceManager.html" title="interface in org.apache.arrow.memory">ReferenceManager</a></code></dd>
<dt>Parameters:</dt>
<dd><code>sourceBuffer</code> - source ArrowBuf</dd>
<dd><code>index</code> - index (relative to source ArrowBuf) new ArrowBuf should be derived from</dd>
<dd><code>length</code> - length (bytes) of data in underlying memory that derived buffer will have access
     to in underlying memory</dd>
<dt>Returns:</dt>
<dd>derived buffer</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="retain(org.apache.arrow.memory.ArrowBuf,org.apache.arrow.memory.BufferAllocator)">
<h3>retain</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="ArrowBuf.html" title="class in org.apache.arrow.memory">ArrowBuf</a></span>&nbsp;<span class="element-name">retain</span><wbr><span class="parameters">(<a href="ArrowBuf.html" title="class in org.apache.arrow.memory">ArrowBuf</a>&nbsp;srcBuffer,
 <a href="BufferAllocator.html" title="interface in org.apache.arrow.memory">BufferAllocator</a>&nbsp;target)</span></div>
<div class="block">Create a new ArrowBuf that is associated with an alternative allocator for the purposes of
 memory ownership and accounting. This has no impact on the reference counting for the current
 ArrowBuf except in the situation where the passed in Allocator is the same as the current
 buffer.

 <p>This operation has no impact on the reference count of this ArrowBuf. The newly created
 ArrowBuf with either have a reference count of 1 (in the case that this is the first time this
 memory is being associated with the target allocator or in other words allocation manager
 currently doesn't hold a mapping for the target allocator) or the current value of the
 reference count for the target allocator-reference manager combination + 1 in the case that the
 provided allocator already had an association to this underlying memory.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ReferenceManager.html#retain(org.apache.arrow.memory.ArrowBuf,org.apache.arrow.memory.BufferAllocator)">retain</a></code>&nbsp;in interface&nbsp;<code><a href="ReferenceManager.html" title="interface in org.apache.arrow.memory">ReferenceManager</a></code></dd>
<dt>Parameters:</dt>
<dd><code>srcBuffer</code> - source ArrowBuf</dd>
<dd><code>target</code> - The target allocator to create an association with.</dd>
<dt>Returns:</dt>
<dd>A new ArrowBuf which shares the same underlying memory as the provided ArrowBuf.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="transferOwnership(org.apache.arrow.memory.ArrowBuf,org.apache.arrow.memory.BufferAllocator)">
<h3>transferOwnership</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="BufferLedger.TransferResult.html" title="class in org.apache.arrow.memory">BufferLedger.TransferResult</a></span>&nbsp;<span class="element-name">transferOwnership</span><wbr><span class="parameters">(<a href="ArrowBuf.html" title="class in org.apache.arrow.memory">ArrowBuf</a>&nbsp;srcBuffer,
 <a href="BufferAllocator.html" title="interface in org.apache.arrow.memory">BufferAllocator</a>&nbsp;target)</span></div>
<div class="block">Transfer the memory accounting ownership of this ArrowBuf to another allocator. This will
 generate a new ArrowBuf that carries an association with the underlying memory of this
 ArrowBuf. If this ArrowBuf is connected to the owning BufferLedger of this memory, that memory
 ownership/accounting will be transferred to the target allocator. If this ArrowBuf does not
 currently own the memory underlying it (and is only associated with it), this does not transfer
 any ownership to the newly created ArrowBuf.

 <p>This operation has no impact on the reference count of this ArrowBuf. The newly created
 ArrowBuf with either have a reference count of 1 (in the case that this is the first time this
 memory is being associated with the new allocator) or the current value of the reference count
 for the other AllocationManager/BufferLedger combination + 1 in the case that the provided
 allocator already had an association to this underlying memory.

 <p>Transfers will always succeed, even if that puts the other allocator into an overlimit
 situation. This is possible due to the fact that the original owning allocator may have
 allocated this memory out of a local reservation whereas the target allocator may need to
 allocate new memory from a parent or RootAllocator. This operation is done n a mostly-lockless
 but consistent manner. As such, the overlimit==true situation could occur slightly prematurely
 to an actual overlimit==true condition. This is simply conservative behavior which means we may
 return overlimit slightly sooner than is necessary.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ReferenceManager.html#transferOwnership(org.apache.arrow.memory.ArrowBuf,org.apache.arrow.memory.BufferAllocator)">transferOwnership</a></code>&nbsp;in interface&nbsp;<code><a href="ReferenceManager.html" title="interface in org.apache.arrow.memory">ReferenceManager</a></code></dd>
<dt>Parameters:</dt>
<dd><code>target</code> - The allocator to transfer ownership to.</dd>
<dd><code>srcBuffer</code> - source ArrowBuf</dd>
<dt>Returns:</dt>
<dd>A new transfer result with the impact of the transfer (whether it was overlimit) as
     well as the newly created ArrowBuf.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getSize()">
<h3>getSize</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getSize</span>()</div>
<div class="block">Total size (in bytes) of memory underlying this reference manager.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ReferenceManager.html#getSize()">getSize</a></code>&nbsp;in interface&nbsp;<code><a href="ReferenceManager.html" title="interface in org.apache.arrow.memory">ReferenceManager</a></code></dd>
<dt>Returns:</dt>
<dd>Size (in bytes) of the memory chunk</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAccountedSize()">
<h3>getAccountedSize</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getAccountedSize</span>()</div>
<div class="block">How much memory is accounted for by this ledger. This is either getSize() if this is the owning
 ledger for the memory or zero in the case that this is not the owning ledger associated with
 this memory.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ReferenceManager.html#getAccountedSize()">getAccountedSize</a></code>&nbsp;in interface&nbsp;<code><a href="ReferenceManager.html" title="interface in org.apache.arrow.memory">ReferenceManager</a></code></dd>
<dt>Returns:</dt>
<dd>Amount of accounted(owned) memory associated with this ledger.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAllocationManager()">
<h3>getAllocationManager</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="AllocationManager.html" title="class in org.apache.arrow.memory">AllocationManager</a></span>&nbsp;<span class="element-name">getAllocationManager</span>()</div>
<div class="block">Get the <a href="AllocationManager.html" title="class in org.apache.arrow.memory"><code>AllocationManager</code></a> used by this BufferLedger.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The AllocationManager used by this BufferLedger.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2024 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
