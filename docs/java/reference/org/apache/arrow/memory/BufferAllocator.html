<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>BufferAllocator (Apache Arrow Java Root POM 17.0.0 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.apache.arrow.memory, interface: BufferAllocator">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/BufferAllocator.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.arrow.memory</a></div>
<h1 title="Interface BufferAllocator" class="title">Interface BufferAllocator</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Superinterfaces:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code></dd>
</dl>
<dl class="notes">
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="RootAllocator.html" title="class in org.apache.arrow.memory">RootAllocator</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">BufferAllocator</span><span class="extends-implements">
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></span></div>
<div class="block">Wrapper class to deal with byte buffer allocation. Ensures users only use designated methods.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button><button id="method-summary-table-tab5" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab5', 3)" class="table-tab">Default Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#assertOpen()" class="member-name-link">assertOpen</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Asserts (using java assertions) that the provided allocator is currently open.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="ArrowBuf.html" title="class in org.apache.arrow.memory">ArrowBuf</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#buffer(long)" class="member-name-link">buffer</a><wbr>(long&nbsp;size)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Allocate a new or reused buffer of the provided size.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="ArrowBuf.html" title="class in org.apache.arrow.memory">ArrowBuf</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#buffer(long,org.apache.arrow.memory.BufferManager)" class="member-name-link">buffer</a><wbr>(long&nbsp;size,
 <a href="BufferManager.html" title="interface in org.apache.arrow.memory">BufferManager</a>&nbsp;manager)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Allocate a new or reused buffer of the provided size.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#close()" class="member-name-link">close</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Close and release all buffers generated from this buffer pool.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#forceAllocate(long)" class="member-name-link">forceAllocate</a><wbr>(long&nbsp;size)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Forcibly allocate bytes.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getAllocatedMemory()" class="member-name-link">getAllocatedMemory</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns the amount of memory currently allocated from this allocator.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;<a href="BufferAllocator.html" title="interface in org.apache.arrow.memory">BufferAllocator</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getChildAllocators()" class="member-name-link">getChildAllocators</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns the set of child allocators.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="ArrowBuf.html" title="class in org.apache.arrow.memory">ArrowBuf</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getEmpty()" class="member-name-link">getEmpty</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Get a reference to the empty buffer associated with this allocator.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getHeadroom()" class="member-name-link">getHeadroom</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns the amount of memory that can probably be allocated at this moment without exceeding
 this or any parents allocation maximum.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getInitReservation()" class="member-name-link">getInitReservation</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Return the initial reservation.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getLimit()" class="member-name-link">getLimit</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Return the current maximum limit this allocator imposes.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="AllocationListener.html" title="interface in org.apache.arrow.memory">AllocationListener</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getListener()" class="member-name-link">getListener</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns the allocation listener used by this allocator.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getName()" class="member-name-link">getName</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Return the name of this allocator.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>@Nullable <a href="BufferAllocator.html" title="interface in org.apache.arrow.memory">BufferAllocator</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getParentAllocator()" class="member-name-link">getParentAllocator</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns the parent allocator.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getPeakMemoryAllocation()" class="member-name-link">getPeakMemoryAllocation</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Returns the peak amount of memory allocated from this allocator.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="BufferAllocator.html" title="interface in org.apache.arrow.memory">BufferAllocator</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getRoot()" class="member-name-link">getRoot</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Get the root allocator of this allocator.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="rounding/RoundingPolicy.html" title="interface in org.apache.arrow.memory.rounding">RoundingPolicy</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#getRoundingPolicy()" class="member-name-link">getRoundingPolicy</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">Gets the rounding policy of the allocator.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#isOverLimit()" class="member-name-link">isOverLimit</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Return whether or not this allocator (or one if its parents) is over its limits.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="BufferAllocator.html" title="interface in org.apache.arrow.memory">BufferAllocator</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#newChildAllocator(java.lang.String,long,long)" class="member-name-link">newChildAllocator</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 long&nbsp;initReservation,
 long&nbsp;maxAllocation)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Create a new child allocator.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="BufferAllocator.html" title="interface in org.apache.arrow.memory">BufferAllocator</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#newChildAllocator(java.lang.String,org.apache.arrow.memory.AllocationListener,long,long)" class="member-name-link">newChildAllocator</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="AllocationListener.html" title="interface in org.apache.arrow.memory">AllocationListener</a>&nbsp;listener,
 long&nbsp;initReservation,
 long&nbsp;maxAllocation)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Create a new child allocator.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="AllocationReservation.html" title="interface in org.apache.arrow.memory">AllocationReservation</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#newReservation()" class="member-name-link">newReservation</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Create an allocation reservation.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#releaseBytes(long)" class="member-name-link">releaseBytes</a><wbr>(long&nbsp;size)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Release bytes from this allocator.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#setLimit(long)" class="member-name-link">setLimit</a><wbr>(long&nbsp;newLimit)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Set the maximum amount of memory this allocator is allowed to allocate.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#toVerboseString()" class="member-name-link">toVerboseString</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Return a verbose string describing this allocator.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code>default <a href="ArrowBuf.html" title="class in org.apache.arrow.memory">ArrowBuf</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5"><code><a href="#wrapForeignAllocation(org.apache.arrow.memory.ForeignAllocation)" class="member-name-link">wrapForeignAllocation</a><wbr>(<a href="ForeignAllocation.html" title="class in org.apache.arrow.memory">ForeignAllocation</a>&nbsp;allocation)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab5">
<div class="block">EXPERIMENTAL: Wrap an allocation created outside this BufferAllocator.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="buffer(long)">
<h3>buffer</h3>
<div class="member-signature"><span class="return-type"><a href="ArrowBuf.html" title="class in org.apache.arrow.memory">ArrowBuf</a></span>&nbsp;<span class="element-name">buffer</span><wbr><span class="parameters">(long&nbsp;size)</span></div>
<div class="block">Allocate a new or reused buffer of the provided size. Note that the buffer may technically be
 larger than the requested size for rounding purposes. However, the buffer's capacity will be
 set to the configured size.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>size</code> - The size in bytes.</dd>
<dt>Returns:</dt>
<dd>a new ArrowBuf, or null if the request can't be satisfied</dd>
<dt>Throws:</dt>
<dd><code><a href="OutOfMemoryException.html" title="class in org.apache.arrow.memory">OutOfMemoryException</a></code> - if buffer cannot be allocated</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="buffer(long,org.apache.arrow.memory.BufferManager)">
<h3>buffer</h3>
<div class="member-signature"><span class="return-type"><a href="ArrowBuf.html" title="class in org.apache.arrow.memory">ArrowBuf</a></span>&nbsp;<span class="element-name">buffer</span><wbr><span class="parameters">(long&nbsp;size,
 <a href="BufferManager.html" title="interface in org.apache.arrow.memory">BufferManager</a>&nbsp;manager)</span></div>
<div class="block">Allocate a new or reused buffer of the provided size. Note that the buffer may technically be
 larger than the requested size for rounding purposes. However, the buffer's capacity will be
 set to the configured size.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>size</code> - The size in bytes.</dd>
<dd><code>manager</code> - A buffer manager to manage reallocation.</dd>
<dt>Returns:</dt>
<dd>a new ArrowBuf, or null if the request can't be satisfied</dd>
<dt>Throws:</dt>
<dd><code><a href="OutOfMemoryException.html" title="class in org.apache.arrow.memory">OutOfMemoryException</a></code> - if buffer cannot be allocated</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getRoot()">
<h3>getRoot</h3>
<div class="member-signature"><span class="return-type"><a href="BufferAllocator.html" title="interface in org.apache.arrow.memory">BufferAllocator</a></span>&nbsp;<span class="element-name">getRoot</span>()</div>
<div class="block">Get the root allocator of this allocator. If this allocator is already a root, return this
 directly.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The root allocator</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="newChildAllocator(java.lang.String,long,long)">
<h3>newChildAllocator</h3>
<div class="member-signature"><span class="return-type"><a href="BufferAllocator.html" title="interface in org.apache.arrow.memory">BufferAllocator</a></span>&nbsp;<span class="element-name">newChildAllocator</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 long&nbsp;initReservation,
 long&nbsp;maxAllocation)</span></div>
<div class="block">Create a new child allocator.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>name</code> - the name of the allocator.</dd>
<dd><code>initReservation</code> - the initial space reservation (obtained from this allocator)</dd>
<dd><code>maxAllocation</code> - maximum amount of space the new allocator can allocate</dd>
<dt>Returns:</dt>
<dd>the new allocator, or null if it can't be created</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="newChildAllocator(java.lang.String,org.apache.arrow.memory.AllocationListener,long,long)">
<h3>newChildAllocator</h3>
<div class="member-signature"><span class="return-type"><a href="BufferAllocator.html" title="interface in org.apache.arrow.memory">BufferAllocator</a></span>&nbsp;<span class="element-name">newChildAllocator</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="AllocationListener.html" title="interface in org.apache.arrow.memory">AllocationListener</a>&nbsp;listener,
 long&nbsp;initReservation,
 long&nbsp;maxAllocation)</span></div>
<div class="block">Create a new child allocator.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>name</code> - the name of the allocator.</dd>
<dd><code>listener</code> - allocation listener for the newly created child</dd>
<dd><code>initReservation</code> - the initial space reservation (obtained from this allocator)</dd>
<dd><code>maxAllocation</code> - maximum amount of space the new allocator can allocate</dd>
<dt>Returns:</dt>
<dd>the new allocator, or null if it can't be created</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="close()">
<h3>close</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">close</span>()</div>
<div class="block">Close and release all buffers generated from this buffer pool.

 <p>When assertions are on, complains if there are any outstanding buffers; to avoid that,
 release all buffers before the allocator is closed.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html#close--" title="class or interface in java.lang" class="external-link">close</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAllocatedMemory()">
<h3>getAllocatedMemory</h3>
<div class="member-signature"><span class="return-type">long</span>&nbsp;<span class="element-name">getAllocatedMemory</span>()</div>
<div class="block">Returns the amount of memory currently allocated from this allocator.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the amount of memory currently allocated</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLimit()">
<h3>getLimit</h3>
<div class="member-signature"><span class="return-type">long</span>&nbsp;<span class="element-name">getLimit</span>()</div>
<div class="block">Return the current maximum limit this allocator imposes.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>Limit in number of bytes.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getInitReservation()">
<h3>getInitReservation</h3>
<div class="member-signature"><span class="return-type">long</span>&nbsp;<span class="element-name">getInitReservation</span>()</div>
<div class="block">Return the initial reservation.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>reservation in bytes.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setLimit(long)">
<h3>setLimit</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">setLimit</span><wbr><span class="parameters">(long&nbsp;newLimit)</span></div>
<div class="block">Set the maximum amount of memory this allocator is allowed to allocate.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>newLimit</code> - The new Limit to apply to allocations</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getPeakMemoryAllocation()">
<h3>getPeakMemoryAllocation</h3>
<div class="member-signature"><span class="return-type">long</span>&nbsp;<span class="element-name">getPeakMemoryAllocation</span>()</div>
<div class="block">Returns the peak amount of memory allocated from this allocator.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the peak amount of memory allocated</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getHeadroom()">
<h3>getHeadroom</h3>
<div class="member-signature"><span class="return-type">long</span>&nbsp;<span class="element-name">getHeadroom</span>()</div>
<div class="block">Returns the amount of memory that can probably be allocated at this moment without exceeding
 this or any parents allocation maximum.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>Headroom in bytes</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="forceAllocate(long)">
<h3>forceAllocate</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">forceAllocate</span><wbr><span class="parameters">(long&nbsp;size)</span></div>
<div class="block">Forcibly allocate bytes. Returns whether the allocation fit within limits.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>size</code> - to increase</dd>
<dt>Returns:</dt>
<dd>Whether the allocation fit within limits.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="releaseBytes(long)">
<h3>releaseBytes</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">releaseBytes</span><wbr><span class="parameters">(long&nbsp;size)</span></div>
<div class="block">Release bytes from this allocator.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>size</code> - to release</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getListener()">
<h3>getListener</h3>
<div class="member-signature"><span class="return-type"><a href="AllocationListener.html" title="interface in org.apache.arrow.memory">AllocationListener</a></span>&nbsp;<span class="element-name">getListener</span>()</div>
<div class="block">Returns the allocation listener used by this allocator.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the <a href="AllocationListener.html" title="interface in org.apache.arrow.memory"><code>AllocationListener</code></a> instance. Or <a href="AllocationListener.html#NOOP"><code>AllocationListener.NOOP</code></a> by default
     if no listener is configured when this allocator was created.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getParentAllocator()">
<h3>getParentAllocator</h3>
<div class="member-signature"><span class="return-type">@Nullable <a href="BufferAllocator.html" title="interface in org.apache.arrow.memory">BufferAllocator</a></span>&nbsp;<span class="element-name">getParentAllocator</span>()</div>
<div class="block">Returns the parent allocator.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>parent allocator</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getChildAllocators()">
<h3>getChildAllocators</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html" title="class or interface in java.util" class="external-link">Collection</a>&lt;<a href="BufferAllocator.html" title="interface in org.apache.arrow.memory">BufferAllocator</a>&gt;</span>&nbsp;<span class="element-name">getChildAllocators</span>()</div>
<div class="block">Returns the set of child allocators.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>set of child allocators</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="newReservation()">
<h3>newReservation</h3>
<div class="member-signature"><span class="return-type"><a href="AllocationReservation.html" title="interface in org.apache.arrow.memory">AllocationReservation</a></span>&nbsp;<span class="element-name">newReservation</span>()</div>
<div class="block">Create an allocation reservation. A reservation is a way of building up a request for a buffer
 whose size is not known in advance. See</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the newly created reservation</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="AllocationReservation.html" title="interface in org.apache.arrow.memory"><code>AllocationReservation</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getEmpty()">
<h3>getEmpty</h3>
<div class="member-signature"><span class="return-type"><a href="ArrowBuf.html" title="class in org.apache.arrow.memory">ArrowBuf</a></span>&nbsp;<span class="element-name">getEmpty</span>()</div>
<div class="block">Get a reference to the empty buffer associated with this allocator. Empty buffers are special
 because we don't worry about them leaking or managing reference counts on them since they don't
 actually point to any memory.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the empty buffer</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getName()">
<h3>getName</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getName</span>()</div>
<div class="block">Return the name of this allocator. This is a human readable name that can help debugging.
 Typically provides coordinates about where this allocator was created</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the name of the allocator</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isOverLimit()">
<h3>isOverLimit</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">isOverLimit</span>()</div>
<div class="block">Return whether or not this allocator (or one if its parents) is over its limits. In the case
 that an allocator is over its limit, all consumers of that allocator should aggressively try to
 address the overlimit situation.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>whether or not this allocator (or one if its parents) is over its limits</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="toVerboseString()">
<h3>toVerboseString</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">toVerboseString</span>()</div>
<div class="block">Return a verbose string describing this allocator. If in DEBUG mode, this will also include
 relevant stacktraces and historical logs for underlying objects</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>A very verbose description of the allocator hierarchy.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="assertOpen()">
<h3>assertOpen</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">assertOpen</span>()</div>
<div class="block">Asserts (using java assertions) that the provided allocator is currently open. If assertions
 are disabled, this is a no-op.</div>
</section>
</li>
<li>
<section class="detail" id="getRoundingPolicy()">
<h3>getRoundingPolicy</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="rounding/RoundingPolicy.html" title="interface in org.apache.arrow.memory.rounding">RoundingPolicy</a></span>&nbsp;<span class="element-name">getRoundingPolicy</span>()</div>
<div class="block">Gets the rounding policy of the allocator.</div>
</section>
</li>
<li>
<section class="detail" id="wrapForeignAllocation(org.apache.arrow.memory.ForeignAllocation)">
<h3>wrapForeignAllocation</h3>
<div class="member-signature"><span class="modifiers">default</span>&nbsp;<span class="return-type"><a href="ArrowBuf.html" title="class in org.apache.arrow.memory">ArrowBuf</a></span>&nbsp;<span class="element-name">wrapForeignAllocation</span><wbr><span class="parameters">(<a href="ForeignAllocation.html" title="class in org.apache.arrow.memory">ForeignAllocation</a>&nbsp;allocation)</span></div>
<div class="block">EXPERIMENTAL: Wrap an allocation created outside this BufferAllocator.

 <p>This is useful to integrate allocations from native code into the same memory management
 framework as Java-allocated buffers, presenting users a consistent API. The created buffer will
 be tracked by this allocator and can be transferred like Java-allocated buffers.

 <p>The underlying allocation will be closed when all references to the buffer are released. If
 this method throws, the underlying allocation will also be closed.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>allocation</code> - The underlying allocation.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2023 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
